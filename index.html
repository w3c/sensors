<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Generic Sensor API</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 3c53a5b02, updated Thu Nov 27 17:03:30 2025 +0000" name="generator">
  <link href="https://www.w3.org/TR/generic-sensor/" rel="canonical">
  <meta content="063834896414e27f1ee8cd882c872279c64c55e1" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
    svg g.edge text {
        font-size: 8px;
    }

    svg g.node text {
        font-size: 10px;
    }
</style>
<style>
    #toc .current,
    #toc .current-parent {
      border-right-width: 3px;
      border-right-style: solid;
      border-right-color: #3980B5;
    }

    #toc .current {
      background: rgba(75%, 75%, 75%, .25);
      border-right-color: #054572;
    }
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example " counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="no-ref p-name" id="title">Generic Sensor API</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>,
    <time class="dt-updated" datetime="2026-01-21">21 January 2026</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3c.github.io/sensors/">https://w3c.github.io/sensors/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/generic-sensor/">https://www.w3.org/TR/generic-sensor/</a>
      <dt>Feedback:
      <dd><span><a href="mailto:public-device-apis@w3.org?subject=%5Bgeneric-sensor%5D%20YOUR%20TOPIC%20HERE">public-device-apis@w3.org</a> with subject line “<kbd>[generic-sensor] <i data-lt>… message topic …</i></kbd>” (<a href="https://lists.w3.org/Archives/Public/public-device-apis/" rel="discussion">archives</a>)</span>
      <dd><a href="https://github.com/w3c/sensors/issues/">GitHub</a>
      <dt>Implementation Report:
      <dd><a href="https://www.w3.org/wiki/DAS/Implementations">https://www.w3.org/wiki/DAS/Implementations</a>
      <dt class="editor">Editor:
      <dd class="editor h-card p-author vcard" data-editor-id="50572"><span class="fn p-name">Rick Waldron</span> (<span class="org p-org">Invited Expert, formerly on behalf of Bocoup and JS Foundation</span>)
      <dt class="editor">Former Editors:
      <dd class="editor h-card p-author vcard" data-editor-id="78325"><a class="fn p-name u-url url" href="https://intel.com/">Mikhail Pozdnyakov</a> (<span class="org p-org">Intel Corporation</span>)
      <dd class="editor h-card p-author vcard" data-editor-id="78335"><a class="fn p-name u-url url" href="https://intel.com/">Alexander Shalamov</a> (<span class="org p-org">Intel Corporation</span>)
      <dd class="editor h-card p-author vcard" data-editor-id="60809"><a class="fn p-name u-url url" href="https://www.codespeaks.com/">Tobie Langel</a> (<span class="org p-org">Codespeaks, formerly on behalf of Intel Corporation</span>) <a class="email u-email" href="mailto:tobie@codespeaks.com">tobie@codespeaks.com</a>
      <dt>Other:
      <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/generic-sensor">Test suite</a>, <a href="https://w3c.github.io/generic-sensor-demos/">demos</a>, <a href="https://github.com/w3c/sensors/commits/main/index.bs">latest version history</a>, <a href="https://github.com/w3c/sensors/commits/gh-pages/index.bs">previous version history</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2026 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="heading no-num no-ref no-toc settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This specification defines a framework for exposing sensor data
to the Open Web Platform in a consistent way.
It does so by defining a blueprint for writing
specifications of concrete sensors along with an abstract Sensor interface
that can be extended to accommodate different sensor types.</p>
  </div>
  <h2 class="heading no-num no-ref no-toc settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.
</p>
   <p>
	If you wish to make comments regarding this document, please send them to
	<a href="mailto:public-device-apis@w3.org?Subject=%5Bgeneric-sensor%5D%20PUT%20SUBJECT%20HERE">public-device-apis@w3.org</a>
	(<a href="mailto:public-device-apis-request@w3.org?subject=subscribe">subscribe</a>,
	<a href="https://lists.w3.org/Archives/Public/public-device-apis/">archives</a>).
	When sending e-mail,
	please put the text “generic-sensor” in the subject,
	preferably like this:
	“[generic-sensor] <em>…summary of comment…</em>”.
	All comments are welcome.
</p>
   <p>
  This document was published by the
  <a href="https://www.w3.org/groups/wg/das">Devices and Sensors Working Group</a>.
</p>
   <p>
	This document was produced by a group operating under
	the <a href="https://www.w3.org/policies/patent-policy/">W3C Patent Policy</a>.
	W3C maintains a <a href="https://www.w3.org/groups/wg/das/ipr" rel="disclosure">public list of any patent disclosures</a>
	made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent that the individual believes contains <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a>
	must disclose the information in accordance with <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the W3C Patent Policy</a>.
</p>
   <p>
  This document is governed by the <a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">18 August 2025 W3C Process Document</a>.
</p>
   <p></p>
   <p>Further implementation experience is being gathered for the
<a data-link-type="dfn" href="https://wicg.github.io/permissions-request/#permission-request-algorithm" id="ref-for-permission-request-algorithm">permission request algorithm</a> and specification clarifications
informed by this experience are being discussed in
<a href="https://github.com/w3c/sensors/issues/397">GitHub issue #397</a>.
The group does not expect to advance this specification beyond CR until
<a data-link-type="biblio" href="#biblio-permissions-request" title="Requesting Permissions">[PERMISSIONS-REQUEST]</a> moves beyond incubation.
This document is maintained and updated at any time. Some parts of this document are work in progress.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-ref no-toc" id="contents">Table of Contents</h2>
   <ol class="toc">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#scope"><span class="secno">2</span> <span class="content">Scope</span></a>
    <li><a href="#feature-detection"><span class="secno">3</span> <span class="content">A note on Feature Detection of Hardware Features</span></a>
    <li>
     <a href="#security-and-privacy"><span class="secno">4</span> <span class="content">Security and privacy considerations</span></a>
     <ol class="toc">
      <li>
       <a href="#main-privacy-security-threats"><span class="secno">4.1</span> <span class="content">Types of privacy and security threats</span></a>
       <ol class="toc">
        <li><a href="#location-tracking"><span class="secno">4.1.1</span> <span class="content">Location Tracking</span></a>
        <li><a href="#eavesdropping"><span class="secno">4.1.2</span> <span class="content">Eavesdropping</span></a>
        <li><a href="#keystroke-monitoring"><span class="secno">4.1.3</span> <span class="content">Keystroke Monitoring</span></a>
        <li><a href="#device-fingerprinting"><span class="secno">4.1.4</span> <span class="content">Device Fingerprinting</span></a>
        <li><a href="#user-identifying"><span class="secno">4.1.5</span> <span class="content">User Identifying</span></a>
       </ol>
      <li>
       <a href="#mitigation-strategies"><span class="secno">4.2</span> <span class="content">Mitigation Strategies</span></a>
       <ol class="toc">
        <li><a href="#secure-context"><span class="secno">4.2.1</span> <span class="content">Secure Context</span></a>
        <li><a href="#permissions-policy"><span class="secno">4.2.2</span> <span class="content">Permissions Policy</span></a>
        <li><a href="#focused-area"><span class="secno">4.2.3</span> <span class="content">Focused Area</span></a>
        <li><a href="#visibility-state"><span class="secno">4.2.4</span> <span class="content">Visibility State</span></a>
        <li><a href="#permissions"><span class="secno">4.2.5</span> <span class="content">Permissions API</span></a>
       </ol>
      <li>
       <a href="#mitigation-strategies-case-by-case"><span class="secno">4.3</span> <span class="content">Mitigation strategies applied on a case by case basis</span></a>
       <ol class="toc">
        <li><a href="#limit-max-frequency"><span class="secno">4.3.1</span> <span class="content">Limit maximum sampling frequency</span></a>
        <li><a href="#stop-sensor"><span class="secno">4.3.2</span> <span class="content">Stop the sensor altogether</span></a>
        <li><a href="#limit-number-of-delivered-readings"><span class="secno">4.3.3</span> <span class="content">Limit number of delivered readings</span></a>
        <li><a href="#reduce-accuracy"><span class="secno">4.3.4</span> <span class="content">Reduce accuracy</span></a>
        <li><a href="#inform-user"><span class="secno">4.3.5</span> <span class="content">Keep the user informed about API use</span></a>
       </ol>
     </ol>
    <li>
     <a href="#concepts"><span class="secno">5</span> <span class="content">Concepts</span></a>
     <ol class="toc">
      <li><a href="#concepts-sensors"><span class="secno">5.1</span> <span class="content">Sensors</span></a>
      <li><a href="#concepts-sensor-types"><span class="secno">5.2</span> <span class="content">Sensor Types</span></a>
      <li><a href="#concepts-default-sensor"><span class="secno">5.3</span> <span class="content">Default sensor</span></a>
      <li><a href="#concepts-sampling-and-reporting-frequencies"><span class="secno">5.4</span> <span class="content">Sampling Frequency and Reporting Frequency</span></a>
      <li><a href="#concepts-can-expose-sensor-readings"><span class="secno">5.5</span> <span class="content">Conditions to expose sensor readings</span></a>
     </ol>
    <li>
     <a href="#model"><span class="secno">6</span> <span class="content">Model</span></a>
     <ol class="toc">
      <li><a href="#model-sensor-type"><span class="secno">6.1</span> <span class="content">Sensor Type</span></a>
      <li><a href="#model-sensor"><span class="secno">6.2</span> <span class="content">Sensor</span></a>
     </ol>
    <li>
     <a href="#api"><span class="secno">7</span> <span class="content">API</span></a>
     <ol class="toc">
      <li>
       <a href="#the-sensor-interface"><span class="secno">7.1</span> <span class="content">The Sensor Interface</span></a>
       <ol class="toc">
        <li><a href="#sensor-lifecycle"><span class="secno">7.1.1</span> <span class="content">Sensor lifecycle</span></a>
        <li><a href="#sensor-garbage-collection"><span class="secno">7.1.2</span> <span class="content">Sensor garbage collection</span></a>
        <li><a href="#sensor-internal-slots"><span class="secno">7.1.3</span> <span class="content">Sensor internal slots</span></a>
        <li><a href="#sensor-activated"><span class="secno">7.1.4</span> <span class="content">Sensor.activated</span></a>
        <li><a href="#sensor-has-reading"><span class="secno">7.1.5</span> <span class="content">Sensor.hasReading</span></a>
        <li><a href="#sensor-timestamp"><span class="secno">7.1.6</span> <span class="content">Sensor.timestamp</span></a>
        <li><a href="#sensor-start"><span class="secno">7.1.7</span> <span class="content">Sensor.start()</span></a>
        <li><a href="#sensor-stop"><span class="secno">7.1.8</span> <span class="content">Sensor.stop()</span></a>
        <li><a href="#sensor-onreading"><span class="secno">7.1.9</span> <span class="content">Sensor.onreading</span></a>
        <li><a href="#sensor-onactivate"><span class="secno">7.1.10</span> <span class="content">Sensor.onactivate</span></a>
        <li><a href="#sensor-onerror"><span class="secno">7.1.11</span> <span class="content">Sensor.onerror</span></a>
        <li><a href="#event-handlers"><span class="secno">7.1.12</span> <span class="content">Event handlers</span></a>
       </ol>
      <li><a href="#the-sensor-error-event-interface"><span class="secno">7.2</span> <span class="content">The SensorErrorEvent Interface</span></a>
     </ol>
    <li>
     <a href="#abstract-operations"><span class="secno">8</span> <span class="content">Abstract Operations</span></a>
     <ol class="toc">
      <li><a href="#initialize-a-sensor-object"><span class="secno">8.1</span> <span class="content">Initialize a sensor object</span></a>
      <li><a href="#check-sensor-policy-controlled-features"><span class="secno">8.2</span> <span class="content">Check sensor policy-controlled features</span></a>
      <li><a href="#connect-to-sensor"><span class="secno">8.3</span> <span class="content">Connect to sensor</span></a>
      <li><a href="#activate-a-sensor-object"><span class="secno">8.4</span> <span class="content">Activate a sensor object</span></a>
      <li><a href="#deactivate-a-sensor-object"><span class="secno">8.5</span> <span class="content">Deactivate a sensor object</span></a>
      <li><a href="#generic-sensor-permission-revocation-algorithm"><span class="secno">8.6</span> <span class="content">Generic Sensor permission revocation algorithm</span></a>
      <li><a href="#set-sensor-settings"><span class="secno">8.7</span> <span class="content">Set sensor settings</span></a>
      <li><a href="#update-latest-reading"><span class="secno">8.8</span> <span class="content">Update latest reading</span></a>
      <li><a href="#report-latest-reading-updated"><span class="secno">8.9</span> <span class="content">Report latest reading updated</span></a>
      <li><a href="#notify-new-reading"><span class="secno">8.10</span> <span class="content">Notify new reading</span></a>
      <li><a href="#notify-activated-state"><span class="secno">8.11</span> <span class="content">Notify activated state</span></a>
      <li><a href="#notify-error"><span class="secno">8.12</span> <span class="content">Notify error</span></a>
      <li><a href="#get-value-from-latest-reading"><span class="secno">8.13</span> <span class="content">Get value from latest reading</span></a>
      <li><a href="#request-sensor-access"><span class="secno">8.14</span> <span class="content">Request sensor access</span></a>
      <li><a href="#focus-and-origin-check"><span class="secno">8.15</span> <span class="content">Focus and origin check</span></a>
     </ol>
    <li>
     <a href="#automation"><span class="secno">9</span> <span class="content">Automation</span></a>
     <ol class="toc">
      <li><a href="#virtual-sensors"><span class="secno">9.1</span> <span class="content">Virtual Sensors</span></a>
      <li>
       <a href="#section-extension-commands"><span class="secno">9.2</span> <span class="content">Extension Commands</span></a>
       <ol class="toc">
        <li><a href="#create-virtual-sensor-command"><span class="secno">9.2.1</span> <span class="content">Create virtual sensor</span></a>
        <li><a href="#get-virtual-sensor-information-command"><span class="secno">9.2.2</span> <span class="content">Get virtual sensor information</span></a>
        <li>
         <a href="#update-virtual-sensor-reading-command"><span class="secno">9.2.3</span> <span class="content">Update virtual sensor reading</span></a>
         <ol class="toc">
          <li>
           <a href="#algorithms-for-parsing-readings"><span class="secno">9.2.3.1</span> <span class="content">Algorithms for parsing readings</span></a>
           <ol class="toc">
            <li><a href="#parse-single-value-number-reading"><span class="secno">9.2.3.1.1</span> <span class="content">Parse single-value number reading</span></a>
            <li><a href="#parse-xyz-reading"><span class="secno">9.2.3.1.2</span> <span class="content">Parse XYZ reading</span></a>
           </ol>
         </ol>
        <li><a href="#delete-virtual-sensor-command"><span class="secno">9.2.4</span> <span class="content">Delete virtual sensor</span></a>
       </ol>
     </ol>
    <li>
     <a href="#extensibility"><span class="secno">10</span> <span class="content">Extensibility</span></a>
     <ol class="toc">
      <li><a href="#extension-security-and-privacy"><span class="secno">10.1</span> <span class="content">Security and Privacy</span></a>
      <li><a href="#naming"><span class="secno">10.2</span> <span class="content">Naming</span></a>
      <li><a href="#unit"><span class="secno">10.3</span> <span class="content">Unit</span></a>
      <li><a href="#high-vs-low-level"><span class="secno">10.4</span> <span class="content">Exposing High-Level vs. Low-Level Sensors</span></a>
      <li><a href="#multiple-sensors"><span class="secno">10.5</span> <span class="content">When is Enabling Multiple Sensors of the Same Type Not the Right Choice?</span></a>
      <li><a href="#definition-reqs"><span class="secno">10.6</span> <span class="content">Definition Requirements</span></a>
      <li><a href="#extend-automation"><span class="secno">10.7</span> <span class="content">Automation</span></a>
      <li><a href="#permission-api"><span class="secno">10.8</span> <span class="content">Extending the Permission API</span></a>
      <li><a href="#permissions-policy-api"><span class="secno">10.9</span> <span class="content">Extending the Permissions Policy API</span></a>
      <li><a href="#example-webidl"><span class="secno">10.10</span> <span class="content">Example WebIDL</span></a>
     </ol>
    <li><a href="#acknowledgements"><span class="secno">11</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>Increasingly, sensor data is used in application development to
enable new use cases such as geolocation,
counting steps or head-tracking.
This is especially true on mobile devices where new sensors are added regularly.</p>
   <p>Exposing sensor data to the Web
has so far been both slow-paced and ad-hoc.
Few sensors are already exposed to the Web.
When they are, it is often in ways that limit their possible use cases
(for example by exposing abstractions that are too <a data-link-type="dfn" href="#high-level" id="ref-for-high-level">high-level</a>
and which don’t perform well enough).
APIs also vary greatly from one sensor to the next
which increases the cognitive burden of Web application developers
and slows development.</p>
   <p>The goal of the Generic Sensor API is to
promote consistency across sensor APIs,
enable advanced use cases thanks to performant <a data-link-type="dfn" href="#low-level" id="ref-for-low-level">low-level</a> APIs,
and increase the pace at which new sensors can be exposed to the Web
by simplifying the specification and implementation processes.</p>
   <p>A comprehensive list of concrete sensors that are based on Generic Sensor API, applicable use
cases, and code examples can be found in <a data-link-type="biblio" href="#biblio-generic-sensor-usecases" title="Sensor Use Cases">[GENERIC-SENSOR-USECASES]</a> and <a data-link-type="biblio" href="#biblio-motion-sensors" title="Motion Sensors Explainer">[MOTION-SENSORS]</a>
explainer documents.</p>
   <h2 class="heading settled" data-level="2" id="scope"><span class="secno">2. </span><span class="content">Scope</span><a class="self-link" href="#scope"></a></h2>
   <p><em>This section is non-normative</em>.</p>
   <p>The scope of this specification is currently limited
to specifying primitives which enable exposing data from <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor">device sensors</a>.</p>
   <p>Exposing remote sensors
or sensors found on personal area networks (e.g. Bluetooth)
is out of scope.
As work in these areas mature,
it is possible that common, lower-level primitives be found,
in which case this specification will be updated accordingly.
This should have little to no effects on implementations, however.</p>
   <p>This specification also does not currently expose a
sensor discovery API.
This is because the limited number of sensors currently available to user agents
does not warrant such an API.
Using feature detection, such as described in <a href="#feature-detection">§ 3 A note on Feature Detection of Hardware Features</a>,
is good enough for now.
A subsequent version of this specification might specify such an API,
and the current API has been designed with this in mind.</p>
   <h2 class="heading settled" data-level="3" id="feature-detection"><span class="secno">3. </span><span class="content">A note on Feature Detection of Hardware Features</span><a class="self-link" href="#feature-detection"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>Feature detection is an established Web development best practice.
Resources on the topic are plentiful on and offline and
the purpose of this section is not to discuss it further,
but rather to put it in the context of detecting hardware-dependent features.</p>
   <p>Consider the below feature detection examples:</p>
   <div class="example" id="example-250d1979">
    <a class="self-link" href="#example-250d1979"></a>
    This simple example illustrates how to check whether the User Agent
    exposes an interface for a particular sensor type. To handle errors in a robust
    manner, please refer to <a href="#robust-example">this example</a>.
    
<pre class="highlight"><c- k>if</c-> <c- p>(</c-><c- ow>typeof</c-> Gyroscope <c- o>===</c-> <c- u>"function"</c-><c- p>)</c-> <c- p>{</c->
    <c- c1>// run in circles...</c->
<c- p>}</c->

<c- k>if</c-> <c- p>(</c-><c- u>"ProximitySensor"</c-> <c- ow>in</c-> window<c- p>)</c-> <c- p>{</c->
    <c- c1>// watch out!</c->
<c- p>}</c->

<c- k>if</c-> <c- p>(</c->window<c- p>.</c->AmbientLightSensor<c- p>)</c-> <c- p>{</c->
    <c- c1>// go dark...</c->
<c- p>}</c->

<c- c1>// etc.</c->
</pre>
   </div>
   <p>All of these tell you something about the presence
and possible characteristics of an API.
They do not tell you anything, however, about whether
that API is actually connected to a real hardware sensor,
whether that sensor works,
if its still connected,
or even whether the user is going to allow you to access it.
Note you can check the latter using the Permissions API <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[PERMISSIONS]</a>.</p>
   <p>In an ideal world, information about the underlying status
would be available upfront.
The problem with this is twofold.
First, getting this information out of the hardware is costly,
in both performance and battery time,
and would sit in the critical path.
Secondly, the status of the underlying hardware can evolve over time.
The user can revoke permission, the connection to the sensor be severed,
the operating system may decide to limit sensor usage below a certain battery threshold,
etc.</p>
   <p>Therefore, an effective strategy is to combine feature detection,
which checks whether an API for the sought-after sensor actually exists,
and defensive programming which includes:</p>
   <ol>
    <li data-md>
     <p>checking for error thrown when instantiating a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor">Sensor</a></code> object,</p>
    <li data-md>
     <p>listening to errors emitted by it,</p>
    <li data-md>
     <p>handling all of the above graciously so that the user’s experience is
  enhanced by the possible usage of a sensor, not degraded by its
  absence.</p>
   </ol>
   <div class="example" id="robust-example">
    <a class="self-link" href="#robust-example"></a>
    The following snippet illustrates how an Accelerometer sensor can be created
    in a robust manner. Web application may choose different options for error
    handling, for example, show notification, choose different sensor type or
    fallback to other API.
    
<pre class="highlight"><c- a>let</c-> accelerometer <c- o>=</c-> <c- kc>null</c-><c- p>;</c->
<c- k>try</c-> <c- p>{</c->
    accelerometer <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c-> frequency<c- o>:</c-> <c- mf>10</c-> <c- p>});</c->
    accelerometer<c- p>.</c->addEventListener<c- p>(</c-><c- t>'error'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
        <c- c1>// Handle runtime errors.</c->
        <c- k>if</c-> <c- p>(</c->event<c- p>.</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'NotAllowedError'</c-><c- p>)</c-> <c- p>{</c->
            console<c- p>.</c->log<c- p>(</c-><c- t>'Permission to access sensor was denied.'</c-><c- p>);</c->
        <c- p>}</c-> <c- k>else</c-> <c- k>if</c-> <c- p>(</c->event<c- p>.</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'NotReadableError'</c-> <c- p>)</c-> <c- p>{</c->
            console<c- p>.</c->log<c- p>(</c-><c- t>'Cannot connect to the sensor.'</c-><c- p>);</c->
        <c- p>}</c->
    <c- p>});</c->
    accelerometer<c- p>.</c->addEventListener<c- p>(</c-><c- t>'reading'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> reloadOnShake<c- p>(</c->accelerometer<c- p>));</c->
    accelerometer<c- p>.</c->start<c- p>();</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->error<c- p>)</c-> <c- p>{</c->
    <c- c1>// Handle construction errors.</c->
    <c- k>if</c-> <c- p>(</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'SecurityError'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Sensor construction was blocked by the Permissions Policy.'</c-><c- p>);</c->
    <c- p>}</c-> <c- k>else</c-> <c- k>if</c-> <c- p>(</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'ReferenceError'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Sensor is not supported by the User Agent.'</c-><c- p>);</c->
    <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
        <c- k>throw</c-> error<c- p>;</c->
    <c- p>}</c->
<c- p>}</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="4" id="security-and-privacy"><span class="secno">4. </span><span class="content">Security and privacy considerations</span><a class="self-link" href="#security-and-privacy"></a></h2>
   <div class="note" role="note">
The judgement on how to communicate to the user the known <a href="#main-privacy-security-threats">threats</a>
is up to the implementer. The implementation of the <a href="#mitigation-strategies">mitigations</a> is
mandatory, however.
</div>
   <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading">Sensor readings</a> are sensitive data and could become a subject of
various attacks from malicious Web pages. Before discussing the mitigation strategies we
briefly enumerate the main types of the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①">sensor</a>’s privacy and security threats.
The <a data-link-type="biblio" href="#biblio-mobilesensors" title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a> categorizes main threats into <a href="#location-tracking">location tracking</a>,
<a href="#eavesdropping">eavesdropping</a>, <a href="#keystroke-monitoring">keystroke monitoring</a>,
<a href="#device-fingerprinting">device fingerprinting</a>, and <a href="#user-identifying">user identification</a>.
This categorization is a good fit for this specification.</p>
   <p>The risk of successful attack can increase when <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②">sensors</a> are used with each other,
in combination with other functionality, or when used over time,
specifically with the risk of correlation of data
and user identification through fingerprinting.
Web application developers using these JavaScript APIs should
consider how this information might be correlated with other information
and the privacy risks that might be created.
The potential risks of collection of such data over a longer period of time
should also be considered.</p>
   <p>Variations in <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①">sensor readings</a>
as well as event firing rates
offer the possibility of fingerprinting to identify users.
User agents may reduce the risk by
limiting event rates available to web application developers.</p>
   <p>Minimizing the accuracy of a sensor’s readout
generally decreases the risk of fingerprinting.
User agents should not provide unnecessarily verbose readouts of sensors data.
Each <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type">sensor type</a> should be assessed individually.</p>
   <p>If the same JavaScript code using the API can be
used simultaneously in different window contexts on the same device
it may be possible for that code to correlate the user across those two contexts,
creating unanticipated tracking mechanisms.</p>
   <p>User agents should consider providing the user
an indication of when the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③">sensor</a> is used
and allowing the user to disable it.
Additionally, user agents may consider
allowing the user to verify past and current sensor use patterns.</p>
   <p>Web application developers that use <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④">sensors</a> should
perform a privacy impact assessment of their application
taking all aspects of their application into consideration.</p>
   <p>Ability to detect a full working set of sensors on a device can form an
identifier and could be used for fingerprinting.</p>
   <p>A combination of selected sensors can potentially be used to form an out of
band communication channel between devices.</p>
   <p>Sensors can potentially be used in cross-device linking and tracking of a user.</p>
   <h3 class="heading settled" data-level="4.1" id="main-privacy-security-threats"><span class="secno">4.1. </span><span class="content">Types of privacy and security threats</span><a class="self-link" href="#main-privacy-security-threats"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <h4 class="heading settled" data-level="4.1.1" id="location-tracking"><span class="secno">4.1.1. </span><span class="content">Location Tracking</span><a class="self-link" href="#location-tracking"></a></h4>
   <p>Under this type of threat, the attacks use <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②">sensor readings</a> to locate the device without
using GPS or any other location sensors. For example, accelerometer data can be used to infer
the location of smartphones by using statistical models to obtain estimated trajectory,
then map matching algorithms can be used to obtain predicted location points (within a
200-m radius)<a data-link-type="biblio" href="#biblio-mobilesensors" title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a>.</p>
   <h4 class="heading settled" data-level="4.1.2" id="eavesdropping"><span class="secno">4.1.2. </span><span class="content">Eavesdropping</span><a class="self-link" href="#eavesdropping"></a></h4>
   <p>Recovering speech from gyroscope <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③">readings</a> is an example of eavesdropping attack.
See <a data-link-type="biblio" href="#biblio-gyrospeechrecognition" title="Gyrophone: Recognizing Speech from Gyroscope Signals">[GYROSPEECHRECOGNITION]</a>.</p>
   <h4 class="heading settled" data-level="4.1.3" id="keystroke-monitoring"><span class="secno">4.1.3. </span><span class="content">Keystroke Monitoring</span><a class="self-link" href="#keystroke-monitoring"></a></h4>
   <p>Many user inputs can be inferred from <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④">sensor readings</a>, this includes a wide range of attacks
on user PINs, passwords, and lock patterns (and even touch actions such as click, scroll, and
zoom) using motion sensors. These attacks normally train a machine learning algorithm to
discover such information about the users. See <a data-link-type="biblio" href="#biblio-stealingpinsviasensors" title="Stealing PINs via mobile sensors: actual risk versus user perception">[STEALINGPINSVIASENSORS]</a>.</p>
   <h4 class="heading settled" data-level="4.1.4" id="device-fingerprinting"><span class="secno">4.1.4. </span><span class="content">Device Fingerprinting</span><a class="self-link" href="#device-fingerprinting"></a></h4>
   <p>Sensors can provide information that can uniquely identify the device using those sensors.
Every concrete sensor model has minor manufacturing imperfections and differences that will be
unique for this model. These manufacturing variations and imperfections can be used to fingerprint
the device <a data-link-type="biblio" href="#biblio-accelprint" title="AccelPrint: Imperfections of Accelerometers Make Smartphones Trackable">[ACCELPRINT]</a> <a data-link-type="biblio" href="#biblio-mobilesensors" title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a>.</p>
   <h4 class="heading settled" data-level="4.1.5" id="user-identifying"><span class="secno">4.1.5. </span><span class="content">User Identifying</span><a class="self-link" href="#user-identifying"></a></h4>
   <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤">Sensor readings</a> can be used to identify the user, for example via inferring
individual walking patterns from smartphone or wearable device motion sensors' data.</p>
   <h3 class="heading settled" data-level="4.2" id="mitigation-strategies"><span class="secno">4.2. </span><span class="content">Mitigation Strategies</span><a class="self-link" href="#mitigation-strategies"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>This section gives a high-level presentation of some of the mitigation strategies
specified in the normative sections of this specification.</p>
   <h4 class="heading settled" data-level="4.2.1" id="secure-context"><span class="secno">4.2.1. </span><span class="content">Secure Context</span><a class="self-link" href="#secure-context"></a></h4>
   <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥">Sensor readings</a> are explicitly flagged by the
Secure Contexts specification <a data-link-type="biblio" href="#biblio-powerful-features" title="Secure Contexts">[POWERFUL-FEATURES]</a>
as a high-value target for network attackers.
Thus all interfaces defined by this specification
or <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification">extension specifications</a>
are only available within a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context">secure context</a>.</p>
   <h4 class="heading settled" data-level="4.2.2" id="permissions-policy"><span class="secno">4.2.2. </span><span class="bs-old-id" id="feature-policy"></span><span class="bs-old-id" id="browsing-context"></span><span class="content">Permissions Policy</span><a class="self-link" href="#permissions-policy"></a></h4>
   <p>To avoid the privacy risk of sharing <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑦">sensor readings</a> with contexts unfamiliar
to the user, <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑧">sensor readings</a> are only available for the
<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#clone-a-node-document" id="ref-for-clone-a-node-document">documents</a> which are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use">allowed to use</a> the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled features</a> for
the given <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①">sensor type</a>. See <a data-link-type="biblio" href="#biblio-permissions-policy" title="Permissions Policy">[PERMISSIONS-POLICY]</a> for more details.</p>
   <h4 class="heading settled" data-level="4.2.3" id="focused-area"><span class="secno">4.2.3. </span><span class="bs-old-id" id="losing-focus"></span><span class="content">Focused Area</span><a class="self-link" href="#focused-area"></a></h4>
   <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑨">Sensor readings</a> are only available for an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document">active document</a> if
the <a data-link-type="dfn" href="#focus-and-origin-check" id="ref-for-focus-and-origin-check">focus and origin check</a> on it returns true.</p>
   <p>This is done in order to mitigate the risk of a skimming attack against the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable">navigable</a> containing an element which has <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#gains-focus" id="ref-for-gains-focus">gained focus</a>,
for example when the user carries out an in-game purchase using a third party
payment service from within an iframe.</p>
   <h4 class="heading settled" data-level="4.2.4" id="visibility-state"><span class="secno">4.2.4. </span><span class="content">Visibility State</span><a class="self-link" href="#visibility-state"></a></h4>
   <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⓪">Sensor readings</a> are only available for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①">active documents</a> whose
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state" id="ref-for-visibility-state">visibility state</a> is "visible".</p>
   <h4 class="heading settled" data-level="4.2.5" id="permissions"><span class="secno">4.2.5. </span><span class="bs-old-id" id="permissioning"></span><span class="content">Permissions API</span><a class="self-link" href="#permissions"></a></h4>
   <p>Access to <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①①">sensor readings</a> are controlled by the Permissions API <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[PERMISSIONS]</a>.</p>
   <h3 class="heading settled" data-level="4.3" id="mitigation-strategies-case-by-case"><span class="secno">4.3. </span><span class="content">Mitigation strategies applied on a case by case basis</span><a class="self-link" href="#mitigation-strategies-case-by-case"></a></h3>
   <p>Each <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②">sensor type</a> will need to be assessed individually,
taking into account the use cases it enables
and its particular threat profile.
While some of the below mitigation strategies
are effective for certain sensors,
they might also hinder or altogether prevent certain use cases.</p>
   <p class="note" role="note"><span class="marker">Note:</span> These mitigation strategies can be applied constantly or temporarily,
for example when the user is carrying out specific actions,
when other APIs which are known to amplify the level of the threat are in use,
etc.</p>
   <h4 class="dfn-paneled heading settled" data-dfn-type="dfn" data-level="4.3.1" data-lt="Limit maximum sampling frequency" data-noexport id="limit-max-frequency"><span class="secno">4.3.1. </span><span class="content">Limit maximum sampling frequency</span><a class="self-link" href="#limit-max-frequency" id="ref-for-limit-max-frequency"></a></h4>
   <p>User agents and <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①">extension specifications</a> may mitigate certain threats by defining a <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③">sensor type</a>’s <a data-link-type="dfn" href="#sensor-type-maximum-sampling-frequency" id="ref-for-sensor-type-maximum-sampling-frequency">maximum sampling frequency</a>.</p>
   <p>What upper limit to choose depends on the <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④">sensor type</a>,
the kind of threats the user agent is trying to protect against,
the expected resources of the attacker, etc.</p>
   <p>Limiting the <a data-link-type="dfn" href="#sensor-type-maximum-sampling-frequency" id="ref-for-sensor-type-maximum-sampling-frequency①">maximum sampling frequency</a> prevents use cases which rely on low
latency or high data density.</p>
   <h4 class="dfn-paneled heading settled" data-dfn-type="dfn" data-level="4.3.2" data-lt="Stop the sensor altogether" data-noexport id="stop-sensor"><span class="secno">4.3.2. </span><span class="content">Stop the sensor altogether</span><a class="self-link" href="#stop-sensor" id="ref-for-stop-sensor"></a></h4>
   <p>This is obviously a last-resort solution,
but it can be extremely effective if it’s temporal,
for example to prevent password skimming attempts
when the user is entering credentials on a different origin (<a data-link-type="biblio" href="#biblio-rfc6454" title="The Web Origin Concept">[rfc6454]</a>)
or in a different application.</p>
   <h4 class="dfn-paneled heading settled" data-dfn-type="dfn" data-level="4.3.3" data-lt="Limit number of delivered readings" data-noexport id="limit-number-of-delivered-readings"><span class="secno">4.3.3. </span><span class="content">Limit number of delivered readings</span><a class="self-link" href="#limit-number-of-delivered-readings" id="ref-for-limit-number-of-delivered-readings"></a></h4>
   <p>An alternative to <a data-link-type="dfn" href="#limit-max-frequency" id="ref-for-limit-max-frequency①">limiting the maximum sampling frequency</a> is to
limit the number of <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①②">sensor readings</a> delivered to Web application developer,
regardless of the <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency">sampling frequency</a>.
This allows use cases which have low latency requirement
to increase the <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①">sampling frequency</a>
without increasing the amount of data provided.</p>
   <p>Discarding intermediary readings prevents certain use cases,
such as those relying on certain kinds of filters.</p>
   <h4 class="dfn-paneled heading settled" data-dfn-type="dfn" data-level="4.3.4" data-lt="Reduce accuracy" data-noexport id="reduce-accuracy"><span class="secno">4.3.4. </span><span class="content">Reduce accuracy</span><a class="self-link" href="#reduce-accuracy" id="ref-for-reduce-accuracy"></a></h4>
   <p>Reducing the accuracy of <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①③">sensor readings</a>
or sensor <a data-link-type="dfn" href="#reading-timestamp" id="ref-for-reading-timestamp">reading timestamps</a>
might also help mitigate certain threats,
thus user agents should not provide
unnecessarily verbose readouts of sensors data.</p>
   <p>Implementations of concrete sensors may define a <a data-link-type="dfn" href="#threshold-check-algorithm" id="ref-for-threshold-check-algorithm">threshold check algorithm</a>
so that new readings that do not differ enough from the <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading">latest readings</a> are
discarded.</p>
   <p>Implementations of concrete sensors may define a <a data-link-type="dfn" href="#reading-quantization-algorithm" id="ref-for-reading-quantization-algorithm">reading quantization algorithm</a> to reduce the accuracy of the <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①④">sensor readings</a> received from a
<a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑤">device sensor</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> These two mitigation measures often complement each other. An
implementation that only executes the <a data-link-type="dfn" href="#threshold-check-algorithm" id="ref-for-threshold-check-algorithm①">threshold check algorithm</a> might
expose readings that are too precise, while an implementation that only rounds
readings up may provide attackers with information about more precise readings
when raw readings are rounded to different values.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Inaccuracies will further increase for operations carried out on the
<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⑤">sensor readings</a>, or time deltas calculated from the <a data-link-type="dfn" href="#reading-timestamp" id="ref-for-reading-timestamp①">timestamps</a>.
So, this mitigation strategy can affect certain use cases.</p>
   <p class="note" role="note"><span class="marker">Note:</span> While adding random bias to <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⑥">sensor readings</a> has similar effects,
it shouldn’t be used in practice
as it is easy to filter out the added noise.</p>
   <h4 class="heading settled" data-level="4.3.5" id="inform-user"><span class="secno">4.3.5. </span><span class="content">Keep the user informed about API use</span><a class="self-link" href="#inform-user"></a></h4>
   <p>User agents may choose to keep the user informed
about current and past use of the API.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This does not imply keeping a log of the actual <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⑦">sensor readings</a>
which would have issues of its own.</p>
   <h2 class="heading settled" data-level="5" id="concepts"><span class="secno">5. </span><span class="content">Concepts</span><a class="self-link" href="#concepts"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="concepts-sensors"><span class="secno">5.1. </span><span class="content">Sensors</span><a class="self-link" href="#concepts-sensors"></a></h3>
   <p>The term <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="concept-device-sensor">device sensor</dfn> refers to a device’s underlying
physical sensor instance.</p>
   <p>A <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑥">device sensor</a> measures a physical quantities
and provides a corresponding <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="sensor-reading">sensor reading</dfn>
which is a source of information about the environment.</p>
   <p>Each <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⑧">sensor reading</a> is composed of the values
of the physical quantity measured by the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑦">device sensor</a>
at time <var>t<sub>n</sub></var> which is called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="reading-timestamp">reading timestamp</dfn>.</p>
   <p>If the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑧">device sensor</a> performs a spatial measurement (e.g.
acceleration, angular velocity), it must be resolved in
a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="local-coordinate-system">local coordinate system</dfn> that represents
a reference frame for the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑨">device sensor</a>’s <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⑨">sensor readings</a>.
A <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⓪">device sensor</a> that provides such <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⓪">sensor readings</a>
is referred to as <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="spatial-sensor">spatial sensor</dfn>.</p>
   <p>A <a data-link-type="dfn" href="#spatial-sensor" id="ref-for-spatial-sensor">spatial sensor</a> can be uniaxial, biaxial,
or triaxial, depending on the number of orthogonal axes in
which it can perform simultaneous measurements.</p>
   <p>Scalar physical quantities (e.g. temperature) do not require
a <a data-link-type="dfn" href="#local-coordinate-system" id="ref-for-local-coordinate-system">local coordinate system</a> for resolution.</p>
   <p>The <a data-link-type="dfn" href="#local-coordinate-system" id="ref-for-local-coordinate-system①">local coordinate system</a> normally used in a mobile device is
a Cartesian coordinate system, which is defined relative to the
device’s screen, so that X and Y axes are parallel to the screen
dimentions and Z axis is perpendicular to the screen surface.</p>
   <p>The term <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="concept-platform-sensor">platform sensor</dfn> refers to platform interfaces,
with which the user agent interacts to obtain <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②①">sensor readings</a> for a single <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤">sensor type</a>
originated from one or more <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①①">device sensors</a>.</p>
   <p><a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor">Platform sensor</a> can be defined by the underlying platform (e.g. in a native sensors framework)
or by the user agent, if it has a direct access to <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①②">device sensor</a>.</p>
   <p>From the implementation perspective <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①">platform sensor</a> can be treated as a software proxy for the
corresponding <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①③">device sensor</a>. It is possible to have multiple <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②">platform sensors</a> simultaneously
interacting with the same <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①④">device sensor</a> if the underlying platform suppports it.</p>
   <p>In simple cases, a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③">platform sensor</a> corresponds to a single <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑤">device sensor</a>,
but if the provided <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②②">sensor readings</a> are a product of <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion">sensor fusion</a> performed
in software, the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④">platform sensor</a> corresponds to a set of <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑥">device sensors</a>
involved in the <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion①">sensor fusion</a> process.</p>
   <p>Discrepancies between a <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②③">sensor reading</a>
and the corresponding physical quantity being measured
are corrected through <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="calibration">calibration</dfn> that can happen at manufacturing time.
Some sensors can require dynamic calibration to compensate unknown discrepancies.</p>
   <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤">Platform sensors</a> created through <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion②">sensor fusion</a> are sometimes
called virtual or synthetic sensors. However, the specification doesn’t
make any practical distinction between them.</p>
   <h3 class="heading settled" data-level="5.2" id="concepts-sensor-types"><span class="secno">5.2. </span><span class="content">Sensor Types</span><a class="self-link" href="#concepts-sensor-types"></a></h3>
   <p>Different <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑥">sensor types</a> measure different physical quantities
such as temperature, air pressure, heart-rate, or luminosity.</p>
   <p>For the purpose of this specification we distinguish between
<a data-link-type="dfn" href="#high-level" id="ref-for-high-level①">high-level</a> and <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①">low-level</a> <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑦">sensor types</a>.</p>
   <p><a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑧">Sensor types</a> which are characterized by their implementation
are referred to as <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="low-level">low-level</dfn> sensors.
For example a Gyroscope is a <a data-link-type="dfn" href="#low-level" id="ref-for-low-level②">low-level</a> <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑨">sensor type</a>.</p>
   <p>Sensors named after their <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②④">readings</a>,
regardless of the implementation,
are said to be <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="high-level">high-level</dfn> sensors.
For instance, geolocation sensors provide information about the user’s location,
but the precise means by which this data is obtained
is purposefully left opaque
(it could come from a GPS chip, network cell triangulation,
wifi networks, etc. or any combination of the above)
and depends on various, implementation-specific heuristics.
<a data-link-type="dfn" href="#high-level" id="ref-for-high-level②">High-level</a> sensors are generally the fruits of
applying algorithms to <a data-link-type="dfn" href="#low-level" id="ref-for-low-level③">low-level</a> sensors—​for example, a pedometer can be built using only the output of a gyroscope—​or of <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion③">sensor fusion</a>.</p>
   <p>That said, the distinction between
<a data-link-type="dfn" href="#high-level" id="ref-for-high-level③">high-level</a> and <a data-link-type="dfn" href="#low-level" id="ref-for-low-level④">low-level</a> <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⓪">sensor types</a>
is somewhat arbitrary and the line between the two is often blurred.
For instance, a barometer, which measures air pressure,
would be considered <a data-link-type="dfn" href="#low-level" id="ref-for-low-level⑤">low-level</a> for most common purposes,
even though it is the product of the <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion④">sensor fusion</a> of
resistive piezo-electric pressure and temperature sensors.
Exposing the sensors that compose it would serve no practical purpose;
who cares about the temperature of a piezo-electric sensor?
A pressure-altimeter would probably fall in the same category,
while a nondescript altimeter—​which could get its data from either a barometer or a GPS signal—​would clearly be categorized as a <a data-link-type="dfn" href="#high-level" id="ref-for-high-level④">high-level</a> <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①①">sensor type</a>.</p>
   <p>Because the distinction is somewhat blurry,
extensions to this specification (see <a href="#extensibility">§ 10 Extensibility</a>)
are encouraged to provide domain-specific definitions of
<a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑤">high-level</a> and <a data-link-type="dfn" href="#low-level" id="ref-for-low-level⑥">low-level</a> sensors
for the given <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①②">sensor types</a> they are targeting.</p>
   <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑤">Sensor readings</a> from different <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①③">sensor types</a> can be combined together
through a process called <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sensor-fusion">sensor fusion</dfn>.
This process provides <a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑥">higher-level</a> or
more accurate data (often at the cost of increased latency).
For example, the <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑥">readings</a> of a triaxial magnetometer
needs to be combined with the <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑦">readings</a> of an accelerometer
to provide a correct bearing.</p>
   <p>Smart sensors and sensor hubs
have built-in compute resources which allow them
to carry out <a data-link-type="dfn" href="#calibration" id="ref-for-calibration">calibration</a> and <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑤">sensor fusion</a> at the hardware level,
freeing up CPU resources and lowering battery consumption in the process.</p>
   <p><a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑥">Sensor fusion</a> can also be carried out in software if it cannot be
performed at the hardware level or if an application-specific
<a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑦">fusion</a> algorithm is required.</p>
   <h3 class="heading settled" data-level="5.3" id="concepts-default-sensor"><span class="secno">5.3. </span><span class="content">Default sensor</span><a class="self-link" href="#concepts-default-sensor"></a></h3>
   <p>The Generic Sensor API is designed to make the most common use cases straightforward
while still enabling more complex use cases.</p>
   <p>Most of devices deployed today do not carry more than one
<a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑦">device sensor</a> providing <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑧">sensor readings</a> of the same <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①④">type</a>.
The use cases which require a set of similar <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑧">device sensors</a> are rare
and generally limited to specific <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑤">sensor types</a>,
such as multiple accelerometers in 2-in-1 laptops.</p>
   <p>The API therefore makes it easy to interact with
the device’s default (and often unique) <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑨">sensor</a>
for each <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑥">type</a>
simply by instantiating the corresponding <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①">Sensor</a></code> subclass.</p>
   <p>Indeed, without specific information identifying a particular <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⓪">sensor</a>
of a given <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑦">type</a>, the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="default-sensor">default sensor</dfn> is chosen by the
user agent.</p>
   <p>If the underlying platform provides an interface to find the <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor">default sensor</a>,
the user agent must choose the sensor offered by the platform, otherwise the user agent
itself defines which of the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②①">sensors</a> present on the device is
the <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor①">default sensor</a>.</p>
   <div class="example" id="example-6532f9b9">
    <a class="self-link" href="#example-6532f9b9"></a>
    Listening to the default accelerometer changes:

    
<pre class="highlight"><c- a>let</c-> sensor <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c-> frequency<c- o>:</c-> <c- mf>30</c-> <c- p>});</c->

sensor<c- p>.</c->onreading <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c->
sensor<c- p>.</c->start<c- p>();</c->
</pre>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> Extensions to this specification may choose not to define a <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor②">default sensor</a>
when doing so wouldn’t make sense.
For example, it does not make sense to explicitly define a default
<a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②②">sensor</a> for geolocation <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑧">sensor type</a> as the
implementation of its interface can use multiple backends.</p>
   <p>In cases where
multiple <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②③">device sensors</a> corresponding to the same <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑨">type</a>
may coexist on the same device,
specification extension will have to
define ways to uniquely identify each one.</p>
   <div class="example" id="example-a71cf25b">
    <a class="self-link" href="#example-a71cf25b"></a>
    For example checking the pressure of the left rear tire:

    
<pre class="highlight"><c- a>var</c-> sensor <c- o>=</c-> <c- ow>new</c-> DirectTirePressureSensor<c- p>({</c-> position<c- o>:</c-> <c- u>"rear"</c-><c- p>,</c-> side<c- o>:</c-> <c- u>"left"</c-> <c- p>});</c->
sensor<c- p>.</c->onreading <c- o>=</c-> _ <c- p>=></c-> console<c- p>.</c->log<c- p>(</c->sensor<c- p>.</c->pressure<c- p>);</c->
sensor<c- p>.</c->start<c- p>();</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="5.4" id="concepts-sampling-and-reporting-frequencies"><span class="secno">5.4. </span><span class="content">Sampling Frequency and Reporting Frequency</span><a class="self-link" href="#concepts-sampling-and-reporting-frequencies"></a></h3>
   <p>For the purpose of this specification, a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑥">platform sensor</a>’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sampling-frequency">sampling frequency</dfn> is
defined as a frequency at which a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑦">platform sensor</a> obtains <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑨">sensor readings</a> from the
underlying <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②④">device sensor</a>. The way such <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⓪">sensor readings</a> are obtained is
<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a>.</p>
   <p>The <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑧">platform sensor</a>’s <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency②">sampling frequency</a> may not correspond to the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑤">device sensor</a>’s
actual sampling rate, which, for the purpose of this specification, is opaque.</p>
   <p class="note" role="note"><span class="marker">Note:</span> System-level APIs for <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③①">sensor readings</a> and the underlying hardware interface to the sensors
themselves may be built for polling or events. For a polling-based <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑥">device sensor</a>, the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑨">platform sensor</a>’s <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency③">sampling frequency</a> would be the rate at which a new reading is requested from the
system or hardware. For an event-based <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑦">device sensor</a>, a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⓪">platform sensor</a> provides a requested
sampling frequency to the system or hardware, and events are generated at that frequency or below.
Events may not be generated if the sensor reading has not changed.</p>
   <p>A <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑧">device sensor</a> may provide bounds for the sampling frequency value it can accept from a
<a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①①">platform sensor</a> in the form of a <dfn class="dfn-paneled" data-dfn-for="device sensor" data-dfn-type="dfn" data-noexport id="device-sensor-minimum-sampling-frequency">minimum sampling frequency</dfn> and a
<dfn class="dfn-paneled" data-dfn-for="device sensor" data-dfn-type="dfn" data-noexport id="device-sensor-maximum-sampling-frequency">maximum sampling frequency</dfn>. A <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①②">platform sensor</a>’s <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency④">sampling frequency</a> must not be less than the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑨">device sensor</a>’s <a data-link-type="dfn" href="#device-sensor-minimum-sampling-frequency" id="ref-for-device-sensor-minimum-sampling-frequency">minimum sampling frequency</a> or greater than its <a data-link-type="dfn" href="#device-sensor-maximum-sampling-frequency" id="ref-for-device-sensor-maximum-sampling-frequency">maximum sampling frequency</a>.</p>
   <p>A <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①③">platform sensor</a>’s <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency⑤">sampling frequency</a> is determined based on the provided
<code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot">[[frequency]]</a></code> of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">items</a> in its <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">set</a> of <a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects">activated sensor objects</a>. The calculation is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a>, but the outcome value must lie within the
bounds set by the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①④">platform sensor</a>’s <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⓪">sensor type</a>’s <a data-link-type="dfn" href="#sensor-type-minimum-sampling-frequency" id="ref-for-sensor-type-minimum-sampling-frequency">minimum</a> and <a data-link-type="dfn" href="#sensor-type-maximum-sampling-frequency" id="ref-for-sensor-type-maximum-sampling-frequency②">maximum</a> sampling frequencies and
its <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③⓪">device sensor</a>’s <a data-link-type="dfn" href="#device-sensor-minimum-sampling-frequency" id="ref-for-device-sensor-minimum-sampling-frequency①">minimum</a> and <a data-link-type="dfn" href="#device-sensor-maximum-sampling-frequency" id="ref-for-device-sensor-maximum-sampling-frequency①">maximum</a> sampling frequencies.</p>
   <p class="note" role="note"><span class="marker">Note:</span> For example, the user agent may estimate the <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency⑥">sampling frequency</a> as a Least Common
Denominator (LCD) for a set of provided <code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①">[[frequency]]</a></code> capped by <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency⑦">sampling frequency</a>
bounds defined by the underlying platform.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="reporting-frequency">reporting frequency</dfn> for a concrete <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②">Sensor</a></code> object is defined as a frequency at which
the "reading" event is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">fired</a> at this object.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③">Sensor</a></code> object cannot access new <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③②">readings</a> at a higher rate than the
user agent obtains them from the underlying platform, therefore the <a data-link-type="dfn" href="#reporting-frequency" id="ref-for-reporting-frequency">reporting frequency</a> can
never exceed a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑤">platform sensor</a>’s <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency⑧">sampling frequency</a>, which in turn can never exceed a
<a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③①">device sensor</a>’s <a data-link-type="dfn" href="#device-sensor-maximum-sampling-frequency" id="ref-for-device-sensor-maximum-sampling-frequency②">maximum sampling frequency</a> (when specified).</p>
   <p>The <a data-link-type="dfn" href="#reporting-frequency" id="ref-for-reporting-frequency①">reporting frequency</a> differs from the <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④">Sensor</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot②">[[frequency]]</a></code> in cases such as:</p>
   <ul>
    <li data-md>
     <p>the requested <code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot③">[[frequency]]</a></code> lies outside the bounds returned by invoking <a data-link-type="dfn" href="#get-a-platform-sensors-sampling-bounds" id="ref-for-get-a-platform-sensors-sampling-bounds">get a platform sensor’s sampling bounds</a> with <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑤">Sensor</a></code>’s associated <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑥">platform sensor</a>.</p>
    <li data-md>
     <p>the operating system and/or the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③②">device sensor</a> automatically discard
 readings that do not differ enough (in absolute or relative terms) from the
 previously reported ones via a hardware or operating system filter.</p>
    <li data-md>
     <p>the <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑥">Sensor</a></code> instance’s associated <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②①">sensor type</a>’s <a data-link-type="dfn" href="#threshold-check-algorithm" id="ref-for-threshold-check-algorithm②">threshold check algorithm</a> fails and the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑦">platform sensor</a>’s <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①">latest readings</a> are not
 updated.</p>
   </ul>
   <h3 class="heading settled" data-level="5.5" id="concepts-can-expose-sensor-readings"><span class="secno">5.5. </span><span class="content">Conditions to expose sensor readings</span><a class="self-link" href="#concepts-can-expose-sensor-readings"></a></h3>
   <p>The user agent <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="can-expose-sensor-readings">can expose sensor readings</dfn> to a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>
<var>document</var> if and only if all of the following are true:</p>
   <ul>
    <li data-md>
     <p><var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context①">secure context</a>.</p>
    <li data-md>
     <p><var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state" id="ref-for-visibility-state①">visibility state</a> is "visible".</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#focus-and-origin-check" id="ref-for-focus-and-origin-check①">focus and origin check</a> on <var>document</var> returns true.</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="specific-conditions">Specific conditions</dfn>: <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②">Extension specifications</a> may add new
 conditions to this list to have stricter requirements for their sensor types.</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> In addition to the conditions above, it is important to note that <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑦">Sensor</a></code>
subclasses invoke the <a data-link-type="dfn" href="#check-sensor-policy-controlled-features" id="ref-for-check-sensor-policy-controlled-features">check sensor policy-controlled features</a> operation in their
constructors, and <a href="#sensor-start">§ 7.1.7 Sensor.start()</a> invokes <a data-link-type="dfn" href="#request-sensor-access" id="ref-for-request-sensor-access">request sensor access</a>. Together, these
checks correspond to the mitigation strategies described in <a href="#mitigation-strategies">§ 4.2 Mitigation Strategies</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> In order to release hardware resources, the user agent can request underlying
<a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑧">platform sensor</a> to suspend notifications about newly available readings until it
<a data-link-type="dfn" href="#can-expose-sensor-readings" id="ref-for-can-expose-sensor-readings">can expose sensor readings</a>.</p>
   <h2 class="heading settled" data-level="6" id="model"><span class="secno">6. </span><span class="content">Model</span><a class="self-link" href="#model"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="model-sensor-type"><span class="secno">6.1. </span><span class="content">Sensor Type</span><a class="self-link" href="#model-sensor-type"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sensor-type">sensor type</dfn> must have the following associated data:</p>
   <ul>
    <li data-md>
     <p>One or more <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface">extension sensor interfaces</a>.</p>
    <li data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">non-empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">ordered set</a> of associated <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name">powerful
feature names</a> referred to as <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="sensor-permission-names">sensor permission names</dfn>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> Multiple <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②②">sensor types</a> may share the same <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name①">name</a>.</p>
    <li data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">non-empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">ordered set</a> of associated <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①">policy-controlled feature</a> tokens
referred to as <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="sensor-feature-names">sensor feature names</dfn>.</p>
    <li data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm" id="ref-for-dfn-permission-revocation-algorithm">permission revocation algorithm</a>.</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="sensor type" data-dfn-type="dfn" data-export id="sensor-type-minimum-sampling-frequency">minimum sampling frequency</dfn>, a positive number. It is either
<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined②">implementation-defined</a> or defined by an <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification③">extension specification</a>. If both are set, the
largest value is used.</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="sensor type" data-dfn-type="dfn" data-export id="sensor-type-maximum-sampling-frequency">maximum sampling frequency</dfn>, a positive number. It is either
<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined③">implementation-defined</a> or defined by an <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification④">extension specification</a>. If both are set, the
smallest value is used.</p>
   </ul>
   <p>The <a data-link-type="dfn" href="#sensor-type-minimum-sampling-frequency" id="ref-for-sensor-type-minimum-sampling-frequency①">minimum sampling frequency</a> must not be greater than the <a data-link-type="dfn" href="#sensor-type-maximum-sampling-frequency" id="ref-for-sensor-type-maximum-sampling-frequency③">maximum sampling frequency</a>.</p>
   <p>A <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②③">sensor type</a> may have the following associated data:</p>
   <ul>
    <li data-md>
     <p>A <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor③">default sensor</a>.</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="threshold-check-algorithm">threshold check algorithm</dfn>, which takes as arguments two separate <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③③">sensor readings</a> and determines if they differ enough to cause a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑨">platform sensor</a>’s <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading②">latest reading</a> map to be updated.</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="reading-quantization-algorithm">reading quantization algorithm</dfn>, which takes a <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③④">sensor reading</a> and returns a
less accurate <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑤">sensor reading</a>.</p>
    <li data-md>
     <p>A <a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type">virtual sensor type</a>.</p>
   </ul>
   <h3 class="heading settled" data-level="6.2" id="model-sensor"><span class="secno">6.2. </span><span class="content">Sensor</span><a class="self-link" href="#model-sensor"></a></h3>
   <p>The current <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context">browsing context</a>’s <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②⓪">platform sensor</a> must have:</p>
   <ul>
    <li data-md>
     <p>An associated <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">set</a> of <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="activated-sensor-objects">activated sensor objects</dfn>,
which is initially <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">empty</a>;</p>
    <li data-md>
     <p>An associated <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="latest-reading">latest reading</dfn> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">map</a>, which holds the
latest available <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑥">sensor readings</a>.</p>
    <li data-md>
     <p>An associated <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②④">sensor type</a>.</p>
   </ul>
   <p>Any time a new <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑦">sensor reading</a> for a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②①">platform sensor</a> is obtained and if the user agent
<a data-link-type="dfn" href="#can-expose-sensor-readings" id="ref-for-can-expose-sensor-readings①">can expose sensor readings</a> to the current <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①">navigable</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document②">active document</a>,
the user agent invokes <a data-link-type="dfn" href="#update-latest-reading" id="ref-for-update-latest-reading">update latest reading</a> with the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②②">platform sensor</a> and
the <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑧">sensor reading</a> as arguments.</p>
   <p>The <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading③">latest reading</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">map</a> contains an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry">entry</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key">key</a> is
"timestamp" and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value">value</a> is a high resolution timestamp that estimates the
<a data-link-type="dfn" href="#reading-timestamp" id="ref-for-reading-timestamp②">reading timestamp</a> expressed in milliseconds as an <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time" id="ref-for-monotonic-clock-unsafe-current-time">unsafe current time</a>.</p>
   <p><a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading④">Latest reading</a>["timestamp"] is initially set to null, unless the <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑤">latest reading</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">map</a>
caches a previous <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑨">reading</a>.</p>
   <p>The other <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry①">entries</a> of the <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑥">latest reading</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">map</a>
hold the values of the different quantities measured by the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②③">platform sensor</a>.
The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">keys</a> of these <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry②">entries</a> must match
the <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute">attribute</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-identifier" id="ref-for-dfn-identifier">identifier</a> defined by the <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑤">sensor type</a>’s
associated <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface①">extension sensor interface</a>.
The return value of the <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute①">attribute</a> getter is
easily obtained by invoking <a data-link-type="dfn" href="#get-value-from-latest-reading" id="ref-for-get-value-from-latest-reading">get value from latest reading</a>
with the object implementing the <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface②">extension sensor interface</a>
and the <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute②">attribute</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-identifier" id="ref-for-dfn-identifier①">identifier</a> as arguments.</p>
   <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value①">value</a> of all <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑦">latest reading</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry③">entries</a>
is initially set to null.</p>
   <div class="algorithm" data-algorithm="get a platform sensor’s sampling bounds">
    
To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-a-platform-sensors-sampling-bounds">get a platform sensor’s sampling bounds</dfn> given a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②④">platform sensor</a>
<var>platformSensor</var>:

    <ol>
     <li data-md>
      <p>Let <var>minimumFrequency</var> be <var>platformSensor</var>’s <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑥">sensor type</a>’s <a data-link-type="dfn" href="#sensor-type-minimum-sampling-frequency" id="ref-for-sensor-type-minimum-sampling-frequency②">minimum sampling frequency</a>.</p>
     <li data-md>
      <p>If <var>platformSensor</var>’s connected <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③③">device sensor</a> has a <a data-link-type="dfn" href="#device-sensor-minimum-sampling-frequency" id="ref-for-device-sensor-minimum-sampling-frequency②">minimum sampling frequency</a>, set <var>minimumFrequency</var> to the maximum of <var>minimumFrequency</var> and this value.</p>
     <li data-md>
      <p>Let <var>maximumFrequency</var> be <var>platformSensor</var>’s <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑦">sensor type</a>’s <a data-link-type="dfn" href="#sensor-type-maximum-sampling-frequency" id="ref-for-sensor-type-maximum-sampling-frequency④">maximum sampling frequency</a>.</p>
     <li data-md>
      <p>If <var>platformSensor</var>’s connected <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③④">device sensor</a> has a <a data-link-type="dfn" href="#device-sensor-maximum-sampling-frequency" id="ref-for-device-sensor-maximum-sampling-frequency③">maximum sampling frequency</a>, set <var>maximumFrequency</var> to the minimum of <var>maximumFrequency</var> and this value.</p>
     <li data-md>
      <p>Return a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuple</a> (<var>minimumFrequency</var>, <var>maximumFrequency</var>).</p>
    </ol>
   </div>
   <div class="example" id="example-ab60b725">
    <a class="self-link" href="#example-ab60b725"></a>


    <p>This example illustrates a possible implementation of the described <a href="#model">Model</a>.</p>
    <p>In the diagram below several <a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects①">activated</a> <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑧">Sensor</a></code> objects from two
different <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context①">browsing contexts</a> interact with a single <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑤">device sensor</a>.</p>
    <p><img alt="Generic Sensor Model" src="images/generic_sensor_model.png" srcset="images/generic_sensor_model.svg"></p>
    <p>The <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑨">Sensor</a></code> object in "idle" <a href="#sensor-lifecycle">state</a> is not among the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②⑤">platform sensor</a>’s
<a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects②">activated sensor objects</a> and thus it does not interact with the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑥">device sensor</a>.</p>
    <p>In this example there is a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②⑥">platform sensor</a> instance per <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context②">browsing context</a>.</p>
    <p>The <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑧">latest reading</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">map</a> is shared between <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⓪">Sensor</a></code> objects from the
same <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context③">context</a> and is updated at a rate equal to the requested <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency⑨">sampling frequency</a>
of the corresponding <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②⑦">platform sensor</a>.</p>
   </div>
   <h2 class="heading settled" data-level="7" id="api"><span class="secno">7. </span><span class="content">API</span><a class="self-link" href="#api"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="the-sensor-interface"><span class="secno">7.1. </span><span class="content">The Sensor Interface</span><a class="self-link" href="#the-sensor-interface"></a></h3>
<pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sensor"><code><c- g>Sensor</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-sensor-activated"><code><c- g>activated</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-sensor-hasreading"><code><c- g>hasReading</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="DOMHighResTimeStamp?" id="dom-sensor-timestamp"><code><c- g>timestamp</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="method" data-export data-lt="start()" id="dom-sensor-start"><code><c- g>start</c-></code></dfn>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="method" data-export data-lt="stop()" id="dom-sensor-stop"><code><c- g>stop</c-></code></dfn>();
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onreading"><code><c- g>onreading</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onactivate"><code><c- g>onactivate</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onerror"><code><c- g>onerror</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sensoroptions"><code><c- g>SensorOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorOptions" data-dfn-type="dict-member" data-export data-type="double" id="dom-sensoroptions-frequency"><code><c- g>frequency</c-></code></dfn>;
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①①">Sensor</a></code> object has an associated <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②⑧">platform sensor</a>.</p>
   <p>Concrete <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①②">Sensor</a></code> objects also have an associated <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑧">sensor type</a>, which is the <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑨">sensor type</a>
that has their <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-interface" id="ref-for-dfn-interface">interface</a> among its <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface③">extension sensor interfaces</a>.</p>
   <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task source</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task">tasks</a> mentioned in this specification is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sensor-task-source">sensor task source</dfn>.</p>
   <div class="example" id="example-ee3a76c6">
    <a class="self-link" href="#example-ee3a76c6"></a>
    In the following example, firstly, we check whether the user agent has permission to access
    <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④⓪">sensor readings</a>, then we construct accelerometer sensor and add
    <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener" id="ref-for-concept-event-listener">event listeners</a> to get <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event">events</a> for <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②⑨">platform sensor</a> activation,
    error conditions and notifications about newly available <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④①">sensor readings</a>. The example
    measures and logs maximum total acceleration of a device hosting the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③⓪">platform sensor</a>.


    <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event types</a> for the corresponding
    <a href="#the-sensor-interface"> Sensor Interface</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handler</a> attributes are defined in
    <a href="#event-handlers">Event handlers</a> section.</p>
<pre class="highlight">navigator<c- p>.</c->permissions<c- p>.</c->query<c- p>({</c-> name<c- o>:</c-> <c- t>'accelerometer'</c-> <c- p>}).</c->then<c- p>(</c->result <c- p>=></c-> <c- p>{</c->
    <c- k>if</c-> <c- p>(</c->result<c- p>.</c->state <c- o>===</c-> <c- t>'denied'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Permission to use accelerometer sensor is denied.'</c-><c- p>);</c->
        <c- k>return</c-><c- p>;</c->
    <c- p>}</c->

    <c- a>let</c-> acl <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c->frequency<c- o>:</c-> <c- mf>30</c-><c- p>});</c->
    <c- a>let</c-> max_magnitude <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'activate'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- t>'Ready to measure.'</c-><c- p>));</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'error'</c-><c- p>,</c-> error <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- sb>`Error: </c-><c- si>${</c->error<c- p>.</c->name<c- si>}</c-><c- sb>`</c-><c- p>));</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'reading'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
        <c- a>let</c-> magnitude <c- o>=</c-> Math<c- p>.</c->hypot<c- p>(</c->acl<c- p>.</c->x<c- p>,</c-> acl<c- p>.</c->y<c- p>,</c-> acl<c- p>.</c->z<c- p>);</c->
        <c- k>if</c-> <c- p>(</c->magnitude <c- o>></c-> max_magnitude<c- p>)</c-> <c- p>{</c->
            max_magnitude <c- o>=</c-> magnitude<c- p>;</c->
            console<c- p>.</c->log<c- p>(</c-><c- sb>`Max magnitude: </c-><c- si>${</c->max_magnitude<c- si>}</c-><c- sb> m/s2`</c-><c- p>);</c->
        <c- p>}</c->
    <c- p>});</c->
    acl<c- p>.</c->start<c- p>();</c->
<c- p>});</c->
</pre>
   </div>
   <h4 class="heading settled" data-level="7.1.1" id="sensor-lifecycle"><span class="secno">7.1.1. </span><span class="content">Sensor lifecycle</span><a class="self-link" href="#sensor-lifecycle"></a></h4>
   <svg height="79pt" viewBox="0.00 0.00 351.00 78.51" width="351pt" xmlns="http://www.w3.org/2000/svg">
<style>
        @media (prefers-color-scheme: dark) {
            path,
            polygon {
                filter: invert(1);
            }
            text {
                fill: #fff;
            }
        }
    </style>
    <g class="graph" transform="scale(1 1) rotate(0) translate(4 74.5122)">
     <title>Sensor lifecycle</title>
     <g class="node">
      <title>idle</title>
      <path d="M96.997,-64C96.997,-64 66.997,-64 66.997,-64 60.997,-64 54.997,-58 54.997,-52 54.997,-52 54.997,-36 54.997,-36 54.997,-30 60.997,-24 66.997,-24 66.997,-24 96.997,-24 96.997,-24 102.997,-24 108.997,-30 108.997,-36 108.997,-36 108.997,-52 108.997,-52 108.997,-58 102.997,-64 96.997,-64" fill="white" stroke="black"></path>
      <text text-anchor="middle" transform="translate(0,-2)" x="81.997" y="-41.2">idle</text>
     </g>
     <g class="node">
      <title>activating</title>
      <path d="M214.997,-64C214.997,-64 156.997,-64 156.997,-64 150.997,-64 144.997,-58 144.997,-52 144.997,-52 144.997,-36 144.997,-36 144.997,-30 150.997,-24 156.997,-24 156.997,-24 214.997,-24 214.997,-24 220.997,-24 226.997,-30 226.997,-36 226.997,-36 226.997,-52 226.997,-52 226.997,-58 220.997,-64 214.997,-64" fill="white" stroke="black"></path>
      <text text-anchor="middle" transform="translate(0,-2)" x="185.997" y="-41.2">activating</text>
     </g>
     <g class="edge">
      <title>idle->activating</title>
      <path d="M109,-38.0296C116.891,-37.4946 125.842,-37.2349 134.762,-37.2507" fill="none" stroke="black"></path>
      <polygon fill="black" points="144.762,-37.3855 134.702,-41.7502 139.762,-37.318 134.763,-37.2506 134.763,-37.2506 134.763,-37.2506 139.762,-37.318 134.823,-32.751 144.762,-37.3855 144.762,-37.3855" stroke="black"></polygon>
      <text text-anchor="middle" transform="translate(0,-4)" x="133.576" y="-20.9121">start()</text>
      <text text-anchor="middle" transform="translate(0,-4)" x="133.576" y="-20.9121">start()</text>
     </g>
     <g class="edge">
      <title>activating->idle</title>
      <path d="M144.762,-50.6145C136.302,-50.8304 127.428,-50.7883 119.129,-50.4883" fill="none" stroke="black"></path>
      <polygon fill="black" points="109,-49.9704 119.217,-45.987 113.993,-50.2258 118.987,-50.4811 118.987,-50.4811 118.987,-50.4811 113.993,-50.2258 118.757,-54.9753 109,-49.9704 109,-49.9704" stroke="black"></polygon>
      <text text-anchor="middle" transform="translate(0,-4)" x="119.656" y="-59.3122">
                onerror
            </text>
     </g>
     <g class="node">
      <title>activated</title>
      <path d="M330.997,-40C330.997,-40 274.997,-40 274.997,-40 268.997,-40 262.997,-34 262.997,-28 262.997,-28 262.997,-12 262.997,-12 262.997,-6 268.997,-0 274.997,-0 274.997,-0 330.997,-0 330.997,-0 336.997,-0 342.997,-6 342.997,-12 342.997,-12 342.997,-28 342.997,-28 342.997,-34 336.997,-40 330.997,-40" fill="white" stroke="black"></path>
      <text text-anchor="middle" transform="translate(0,-2)" x="302.997" y="-17.2">activated</text>
     </g>
     <g class="edge">
      <title>activating->activated</title>
      <path d="M227.218,-35.606C235.505,-33.8766 244.319,-32.037 252.881,-30.2504" fill="none" stroke="black"></path>
      <polygon fill="black" points="262.767,-28.1871 253.898,-34.6352 257.873,-29.2086 252.978,-30.2301 252.978,-30.2301 252.978,-30.2301 257.873,-29.2086 252.059,-25.825 262.767,-28.1871 262.767,-28.1871" stroke="black"></polygon>
     </g>
     <g class="edge">
      <title>activated->idle</title>
      <path d="M262.74,-17.3829C244.593,-16.1731 226.997,-15 226.997,-15 226.997,-15 144.997,-15 144.997,-15 144.997,-15 132.341,-20.9199 118.465,-27.4103" fill="none" stroke="black"></path>
      <polygon fill="black" points="109.291,-31.7014 116.442,-23.3883 113.82,-29.5829 118.349,-27.4645 118.349,-27.4645 118.349,-27.4645 113.82,-29.5829 120.255,-31.5406 109.291,-31.7014 109.291,-31.7014" stroke="black"></polygon>
      <text text-anchor="middle" transform="translate(0,-4)" x="200" y="5">
       <a href="#sensor-stop">stop()</a>
        / 
       <a href="#sensor-onerror">onerror</a>
      </text>
     </g>
     <g class="node">
      <title>start</title>
      <ellipse cx="11.997" cy="-44" fill="black" rx="7" ry="7" stroke="black"></ellipse>
     </g>
     <g class="edge">
      <title>start->idle</title>
      <path d="M19.2724,-44C25.2754,-44 34.8461,-44 44.6767,-44" fill="none" stroke="black"></path>
      <polygon fill="black" points="54.8766,-44 44.8767,-48.5001 49.8766,-44 44.8766,-44.0001 44.8766,-44.0001 44.8766,-44.0001 49.8766,-44 44.8766,-39.5001 54.8766,-44 54.8766,-44" stroke="black"></polygon>
      <text text-anchor="middle" transform="translate(0,-4)" x="29.5" y="-52.1333">construct</text>
     </g>
    </g>
   </svg>
   <p class="note" role="note"><span class="marker">Note:</span> The nodes in the diagram above represent the states of a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①③">Sensor</a></code> object and they should not be
confused with the possible states of the underlying <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③①">platform sensor</a> or <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑦">device sensor</a>.</p>
   <h4 class="heading settled" data-level="7.1.2" id="sensor-garbage-collection"><span class="secno">7.1.2. </span><span class="content">Sensor garbage collection</span><a class="self-link" href="#sensor-garbage-collection"></a></h4>
   <p>A <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①④">Sensor</a></code> object whose <code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot">[[state]]</a></code> is "activating" must not be garbage collected
if there are any event listeners registered for "activated" events, "reading" events,
or "error" events.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑤">Sensor</a></code> object whose <code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①">[[state]]</a></code> is "activated" must not be garbage collected
if there are any event listeners registered for "reading" events, or "error" events.</p>
   <p>When a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑥">Sensor</a></code> object whose <code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot②">[[state]]</a></code> is "activated" or "activating" is
garbage collected, the user agent must invoke <a data-link-type="dfn" href="#deactivate-a-sensor-object" id="ref-for-deactivate-a-sensor-object">deactivate a sensor object</a>
with this object as argument.</p>
   <h4 class="heading settled" data-level="7.1.3" id="sensor-internal-slots"><span class="secno">7.1.3. </span><span class="content">Sensor internal slots</span><a class="self-link" href="#sensor-internal-slots"></a></h4>
   <p>Instances of <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑦">Sensor</a></code> are created
with the internal slots described in the following table:</p>
   <table class="def" id="sensor-slots">
    <thead>
     <tr>
      <th>Internal Slot
      <th>Description (non-normative)
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export id="dom-sensor-state-slot"><code>[[state]]</code></dfn>
      <td>The current state of the <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑧">Sensor</a></code> object which is one of
                "idle",
                "activating", or
                "activated".
                It is initially "idle".
            
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export id="dom-sensor-frequency-slot"><code>[[frequency]]</code></dfn>
      <td>A double representing frequency in Hz that is used to calculate
                the <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①⓪">sampling frequency</a> for the associated <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③②">platform sensor</a>
                and to define the upper bound of the <a data-link-type="dfn" href="#reporting-frequency" id="ref-for-reporting-frequency②">reporting frequency</a> for this
                <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑨">Sensor</a></code> object. It is initially null.
            
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export id="dom-sensor-lasteventfiredat-slot"><code>[[lastEventFiredAt]]</code></dfn>
      <td>The high resolution timestamp of the latest <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④②">sensor reading</a>
                that was sent to observers of the <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⓪">Sensor</a></code> object,
                expressed in milliseconds that passed since the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin" id="ref-for-concept-settings-object-time-origin">time origin</a>.
                It is initially null.
            
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export id="dom-sensor-pendingreadingnotification-slot"><code>[[pendingReadingNotification]]</code></dfn>
      <td>A boolean which indicates whether the observers need to be
                notified after a new <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④③">sensor reading</a> was reported.
                It is initially false.
   </table>
   <h4 class="heading settled" data-level="7.1.4" id="sensor-activated"><span class="secno">7.1.4. </span><span class="content">Sensor.activated</span><a class="self-link" href="#sensor-activated"></a></h4>
   <div class="algorithm" data-algorithm="is sensor activated">
    <p>The <code class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensor-activated" id="ref-for-dom-sensor-activated">activated</a></code> getter steps are:</p>
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot③">[[state]]</a></code> is "activated",
  return true.</p>
     <li data-md>
      <p>Otherwise, return false.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="7.1.5" id="sensor-has-reading"><span class="secno">7.1.5. </span><span class="content">Sensor.hasReading</span><a class="self-link" href="#sensor-has-reading"></a></h4>
   <div class="algorithm" data-algorithm="sensor has reading">
    <p>The <code class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensor-hasreading" id="ref-for-dom-sensor-hasreading">hasReading</a></code> getter steps are:</p>
    <ol>
     <li data-md>
      <p>Let <var>timestamp</var> be the result of invoking <a data-link-type="dfn" href="#get-value-from-latest-reading" id="ref-for-get-value-from-latest-reading①">get value from latest reading</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a> and "timestamp" as arguments.</p>
     <li data-md>
      <p>If <var>timestamp</var> is not null, return true.</p>
     <li data-md>
      <p>Otherwise, return false.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="7.1.6" id="sensor-timestamp"><span class="secno">7.1.6. </span><span class="content">Sensor.timestamp</span><a class="self-link" href="#sensor-timestamp"></a></h4>
   <div class="algorithm" data-algorithm="sensor timestamp">
    
    The <code class="idl"><a data-link-type="idl" href="#dom-sensor-timestamp" id="ref-for-dom-sensor-timestamp">timestamp</a></code> getter steps are:


    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>.</p>
     <li data-md>
      <p>Let <var>unsafeTimestamp</var> be the result of invoking <a data-link-type="dfn" href="#get-value-from-latest-reading" id="ref-for-get-value-from-latest-reading②">get value from latest reading</a> with
 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a> and "timestamp" as arguments.</p>
     <li data-md>
      <p>If <var>unsafeTimestamp</var> is null, return null.</p>
     <li data-md>
      <p>Otherwise, return <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time" id="ref-for-dfn-relative-high-resolution-time">relative high resolution time</a> with <var>unsafeTimestamp</var> and <var>global</var>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="7.1.7" id="sensor-start"><span class="secno">7.1.7. </span><span class="content">Sensor.start()</span><a class="self-link" href="#sensor-start"></a></h4>
   <div class="algorithm" data-algorithm="to start a sensor">
    <p>The <code class="idl"><a data-link-type="idl" href="#dom-sensor-start" id="ref-for-dom-sensor-start">start()</a></code> method steps are:</p>
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot④">[[state]]</a></code> is either "activating" or "activated", then
  return.</p>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑤">[[state]]</a></code> to "activating".</p>
     <li data-md>
      <p>Run these sub-steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>permissionState</var> be the result of invoking
  <a data-link-type="dfn" href="#request-sensor-access" id="ref-for-request-sensor-access①">request sensor access</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a> as argument.</p>
       <li data-md>
        <p>If <var>permissionState</var> is "denied", then:</p>
        <ol>
         <li data-md>
          <p>Let <var>e</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception">creating</a>
  a "<code class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
         <li data-md>
          <p>Queue a task to run <a data-link-type="dfn" href="#notify-error" id="ref-for-notify-error">notify error</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a> and <var>e</var> as arguments.</p>
         <li data-md>
          <p>Return.</p>
        </ol>
       <li data-md>
        <p>Let <var>connected</var> be the result of invoking <a data-link-type="dfn" href="#connect-to-sensor" id="ref-for-connect-to-sensor">connect to sensor</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a> and
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a> as argument.</p>
       <li data-md>
        <p>If <var>connected</var> is false, then</p>
        <ol>
         <li data-md>
          <p>Let <var>e</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception①">creating</a> a
  "<code class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notreadableerror" id="ref-for-notreadableerror">NotReadableError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
         <li data-md>
          <p>Queue a task to run <a data-link-type="dfn" href="#notify-error" id="ref-for-notify-error①">notify error</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a> and <var>e</var> as arguments.</p>
         <li data-md>
          <p>Return.</p>
        </ol>
       <li data-md>
        <p>Invoke <a data-link-type="dfn" href="#activate-a-sensor-object" id="ref-for-activate-a-sensor-object">activate a sensor object</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a> as argument.</p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="7.1.8" id="sensor-stop"><span class="secno">7.1.8. </span><span class="content">Sensor.stop()</span><a class="self-link" href="#sensor-stop"></a></h4>
   <div class="algorithm" data-algorithm="to stop a sensor">
    <p>The <code class="idl"><a data-link-type="idl" href="#dom-sensor-stop" id="ref-for-dom-sensor-stop">stop()</a></code> method steps are:</p>
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑥">[[state]]</a></code> is "idle", then return.</p>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑦">[[state]]</a></code> to "idle".</p>
     <li data-md>
      <p>Run these sub-steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Invoke <a data-link-type="dfn" href="#deactivate-a-sensor-object" id="ref-for-deactivate-a-sensor-object①">deactivate a sensor object</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a> as argument.</p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="7.1.9" id="sensor-onreading"><span class="secno">7.1.9. </span><span class="content">Sensor.onreading</span><a class="self-link" href="#sensor-onreading"></a></h4>
   <p><code class="idl"><a data-link-type="idl" href="#dom-sensor-onreading" id="ref-for-dom-sensor-onreading">onreading</a></code> is an <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③">EventHandler</a></code> which is called
to notify that new <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④④">reading</a> is available.</p>
   <h4 class="heading settled" data-level="7.1.10" id="sensor-onactivate"><span class="secno">7.1.10. </span><span class="content">Sensor.onactivate</span><a class="self-link" href="#sensor-onactivate"></a></h4>
   <p><code class="idl"><a data-link-type="idl" href="#dom-sensor-onactivate" id="ref-for-dom-sensor-onactivate">onactivate</a></code> is an <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④">EventHandler</a></code> which is called when
<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑧">[[state]]</a></code> transitions from "activating" to "activated".</p>
   <h4 class="heading settled" data-level="7.1.11" id="sensor-onerror"><span class="secno">7.1.11. </span><span class="content">Sensor.onerror</span><a class="self-link" href="#sensor-onerror"></a></h4>
   <p><code class="idl"><a data-link-type="idl" href="#dom-sensor-onerror" id="ref-for-dom-sensor-onerror">onerror</a></code> is an <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑤">EventHandler</a></code> which is called whenever
an error in an abstract or IDL operation cannot be handled
synchronously.</p>
   <h4 class="heading settled" data-level="7.1.12" id="event-handlers"><span class="secno">7.1.12. </span><span class="content">Event handlers</span><a class="self-link" href="#event-handlers"></a></h4>
   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers①">event handlers</a>
(and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">event handler event types</a>)
that must be supported as attributes by the objects implementing the <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②①">Sensor</a></code> interface:</p>
   <table class="def">
    <thead>
     <tr>
      <th>event handler
      <th>event handler event type
    <tbody>
     <tr>
      <td><strong><code>onreading</code></strong>
      <td><code>reading</code>
     <tr>
      <td><strong><code>onactivate</code></strong>
      <td><code>activate</code>
     <tr>
      <td><strong><code>onerror</code></strong>
      <td><code>error</code>
   </table>
   <h3 class="heading settled" data-level="7.2" id="the-sensor-error-event-interface"><span class="secno">7.2. </span><span class="content">The SensorErrorEvent Interface</span><a class="self-link" href="#the-sensor-error-event-interface"></a></h3>
<pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sensorerrorevent"><code><c- g>SensorErrorEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent" data-dfn-type="constructor" data-export data-lt="SensorErrorEvent(type, errorEventInitDict)|constructor(type, errorEventInitDict)" id="dom-sensorerrorevent-sensorerrorevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent/SensorErrorEvent(type, errorEventInitDict), SensorErrorEvent/constructor(type, errorEventInitDict)" data-dfn-type="argument" data-export id="dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type"><code><c- g>type</c-></code></dfn>, <a data-link-type="idl-name" href="#dictdef-sensorerroreventinit" id="ref-for-dictdef-sensorerroreventinit"><c- n>SensorErrorEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent/SensorErrorEvent(type, errorEventInitDict), SensorErrorEvent/constructor(type, errorEventInitDict)" data-dfn-type="argument" data-export id="dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict"><code><c- g>errorEventInitDict</c-></code></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②"><c- n>DOMException</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMException" href="#dom-sensorerrorevent-error" id="ref-for-dom-sensorerrorevent-error"><c- g>error</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sensorerroreventinit"><code><c- g>SensorErrorEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③"><c- n>DOMException</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEventInit" data-dfn-type="dict-member" data-export data-type="DOMException" id="dom-sensorerroreventinit-error"><code><c- g>error</c-></code></dfn>;
};
</pre>
   <p><code class="idl"><a data-link-type="idl" href="#sensorerrorevent" id="ref-for-sensorerrorevent">SensorErrorEvent</a></code> instances are constructed by following the steps described
in <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①">Event</a></code>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-constructor" id="ref-for-concept-event-constructor">constructor</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent" data-dfn-type="attribute" data-export id="dom-sensorerrorevent-error"><code>error</code></dfn> attribute must return the
value it was initialized to. It represents the <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code> object passed
to <code class="idl"><a data-link-type="idl" href="#dictdef-sensorerroreventinit" id="ref-for-dictdef-sensorerroreventinit①">SensorErrorEventInit</a></code>.</p>
   <h2 class="heading settled" data-level="8" id="abstract-operations"><span class="secno">8. </span><span class="content">Abstract Operations</span><a class="self-link" href="#abstract-operations"></a></h2>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.1" data-lt="Initialize a sensor object" id="initialize-a-sensor-object"><span class="secno">8.1. </span><span class="content">Initialize a sensor object</span><a class="self-link" href="#initialize-a-sensor-object" id="ref-for-initialize-a-sensor-object"></a></h3>
   <div class="algorithm" data-algorithm="initialize a sensor object">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②②">Sensor</a></code> object.</p>
     <dd data-md>
      <p><var>options</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions">SensorOptions</a></code> dictionary instance.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">For each</a> <var>key</var> → <var>value</var> of <var>options</var></p>
      <ol>
       <li data-md>
        <p>If the associated <a data-link-type="dfn" href="#supported-sensor-options" id="ref-for-supported-sensor-options">supported sensor options</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">does not contain</a> <var>key</var></p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">Throw</a> "<code class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>If <var>options</var>["<code class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency">frequency</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exists</a>, then</p>
      <ol>
       <li data-md>
        <p>Set <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot④">[[frequency]]</a></code> to <var>options</var>["<code class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency①">frequency</a></code>"].</p>
      </ol>
      <p class="note" role="note"><span class="marker">Note:</span> There is no guarantee that the requested <var>options</var>["<code class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency②">frequency</a></code>"]
  can be respected. See <a href="#concepts-sampling-and-reporting-frequencies">§ 5.4 Sampling Frequency and Reporting Frequency</a> for constraints that
  may be applied.</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.2" data-lt="Check sensor policy-controlled features" id="check-sensor-policy-controlled-features"><span class="secno">8.2. </span><span class="content">Check sensor policy-controlled features</span><a class="self-link" href="#check-sensor-policy-controlled-features" id="ref-for-check-sensor-policy-controlled-features①"></a></h3>
   <div class="algorithm" data-algorithm="check sensor policy-controlled features">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_type</var>, a <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⓪">sensor type</a>.</p>
     <dt data-md>output
     <dd data-md>
      <p>True if all of the associated <a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names">sensor feature names</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use①">allowed to use</a>,
 false otherwise.</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>feature_names</var> be the <var>sensor_type</var>’s associated <a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names①">sensor feature names</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>feature_name</var> of <var>feature_names</var>,</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document③">active document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use②">allowed to use</a> the
 <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature②">policy-controlled feature</a> named <var>feature_name</var>, then:</p>
        <ol>
         <li data-md>
          <p>Return false.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.3" data-lt="Connect to sensor" id="connect-to-sensor"><span class="secno">8.3. </span><span class="content">Connect to sensor</span><a class="self-link" href="#connect-to-sensor" id="ref-for-connect-to-sensor②"></a></h3>
   <div class="algorithm" data-algorithm="connect to sensor">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②③">Sensor</a></code> object.</p>
     <dd data-md>
      <p><var>global</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object">global object</a>.</p>
     <dt data-md>output
     <dd data-md>
      <p>True if <var>sensor</var> was associated with a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③③">platform sensor</a>,
 false otherwise.</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>platformSensor</var> be null.</p>
     <li data-md>
      <p>Let <var>type</var> be <var>sensor</var>’s associated <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③①">sensor type</a>.</p>
     <li data-md>
      <p>Let <var>virtualSensorType</var> be <var>sensor</var>’s associated <a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type①">virtual sensor type</a>, or null if it is not set.</p>
     <li data-md>
      <p>Let <var>topLevelTraversable</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" id="ref-for-window-navigable">navigable</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top" id="ref-for-nav-top">top-level traversable</a>.</p>
     <li data-md>
      <p>If <var>virtualSensorType</var> is not null and <var>topLevelTraversable</var>’s <a data-link-type="dfn" href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping">virtual sensor mapping</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">contains</a> <var>virtualSensorType</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>virtualSensor</var> be <var>topLevelTraversable</var>’s <a data-link-type="dfn" href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping①">virtual sensor mapping</a>[<var>virtualSensorType</var>].</p>
       <li data-md>
        <p>If <var>virtualSensor</var>’s <a data-link-type="dfn" href="#virtual-sensor-can-provide-readings-flag" id="ref-for-virtual-sensor-can-provide-readings-flag">can provide readings flag</a> is true, set <var>platformSensor</var>
 to a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③④">platform sensor</a> corresponding to <var>virtualSensor</var>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> If the <a data-link-type="dfn" href="#virtual-sensor-can-provide-readings-flag" id="ref-for-virtual-sensor-can-provide-readings-flag①">can provide readings flag</a> is false, <var>platformSensor</var> will
 remain null and this algorithm will return false.</p>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p>If the device has a single <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑧">device sensor</a> which can provide <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④⑤">readings</a> for <var>type</var>, then</p>
        <ol>
         <li data-md>
          <p>Set <var>platformSensor</var> to a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③⑤">platform sensor</a> corresponding
  to this <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑨">device sensor</a>.</p>
        </ol>
       <li data-md>
        <p>If the device has multiple <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④⓪">device sensors</a> which can provide <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④⑥">readings</a> for <var>type</var>, then</p>
        <ol>
         <li data-md>
          <p>If <var>type</var> has an associated <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor④">default sensor</a>, then</p>
          <ol>
           <li data-md>
            <p>Set <var>platformSensor</var> to a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③⑥">platform sensor</a> corresponding to this <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor⑤">default device sensor</a>.</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>If <var>platformSensor</var> is null, return false.</p>
     <li data-md>
      <p>Let <var>bounds</var> be the result of invoking <a data-link-type="dfn" href="#get-a-platform-sensors-sampling-bounds" id="ref-for-get-a-platform-sensors-sampling-bounds①">get a platform sensor’s sampling bounds</a> with
  <var>platformSensor</var>.</p>
     <li data-md>
      <p>If <var>sensor</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑤">[[frequency]]</a></code> is null, set it to an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined④">implementation-defined</a> value
  dependent on <var>type</var>.</p>
     <li data-md>
      <p>If <var>sensor</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑥">[[frequency]]</a></code> is less than <var>bounds</var>[0], set it to <var>bounds</var>[0].</p>
     <li data-md>
      <p>If <var>sensor</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑦">[[frequency]]</a></code> is greater than <var>bounds</var>[1], set it to <var>bounds</var>[1].</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.4" data-lt="Activate a sensor object" id="activate-a-sensor-object"><span class="secno">8.4. </span><span class="content">Activate a sensor object</span><a class="self-link" href="#activate-a-sensor-object" id="ref-for-activate-a-sensor-object①"></a></h3>
   <div class="algorithm" data-algorithm="activate a sensor object">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②④">Sensor</a></code> object.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>sensor</var> be the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③⑦">platform sensor</a> associated with <var>sensor_instance</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <var>sensor_instance</var> to <var>sensor</var>’s set of <a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects③">activated sensor objects</a>.</p>
     <li data-md>
      <p>Invoke <a data-link-type="dfn" href="#set-sensor-settings" id="ref-for-set-sensor-settings">set sensor settings</a> with <var>sensor</var> as argument.</p>
     <li data-md>
      <p>Queue a task to run <a data-link-type="dfn" href="#notify-activated-state" id="ref-for-notify-activated-state">notify activated state</a> with <var>sensor_instance</var>
  as an argument.</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.5" data-lt="Deactivate a sensor object" id="deactivate-a-sensor-object"><span class="secno">8.5. </span><span class="content">Deactivate a sensor object</span><a class="self-link" href="#deactivate-a-sensor-object" id="ref-for-deactivate-a-sensor-object④"></a></h3>
   <div class="algorithm" data-algorithm="deactivate a sensor object">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑤">Sensor</a></code> object.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Remove all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task①">tasks</a> associated with <var>sensor_instance</var> from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue">task queue</a> associated
  with <a data-link-type="dfn" href="#sensor-task-source" id="ref-for-sensor-task-source">sensor task source</a>.</p>
     <li data-md>
      <p>Let <var>sensor</var> be the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③⑧">platform sensor</a> associated with <var>sensor_instance</var>.</p>
     <li data-md>
      <p>If <var>sensor</var>’s set of <a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects④">activated sensor objects</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contains</a> <var>sensor_instance</var>,</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">Remove</a> <var>sensor_instance</var> from <var>sensor</var>’s set of <a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects⑤">activated sensor objects</a>.</p>
       <li data-md>
        <p>Invoke <a data-link-type="dfn" href="#set-sensor-settings" id="ref-for-set-sensor-settings①">set sensor settings</a> with <var>sensor</var> as argument.</p>
       <li data-md>
        <p>Set <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot">[[pendingReadingNotification]]</a></code> to false.</p>
       <li data-md>
        <p>Set <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot">[[lastEventFiredAt]]</a></code> to null.</p>
      </ol>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.6" data-lt="Generic Sensor permission revocation algorithm" id="generic-sensor-permission-revocation-algorithm"><span class="secno">8.6. </span><span class="content">Generic Sensor permission revocation algorithm</span><a class="self-link" href="#generic-sensor-permission-revocation-algorithm" id="ref-for-generic-sensor-permission-revocation-algorithm"></a></h3>
   <div class="algorithm" data-algorithm="generic sensor permission revocation algorithm">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>permissionName</var>, a <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name②">powerful feature name</a></p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>For each <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑥">Sensor</a></code> instance <var>sensor</var> in the <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#current-realm" id="ref-for-current-realm">current realm</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>sensor</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑨">[[state]]</a></code> is "idle", then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       <li data-md>
        <p>If <var>sensor</var>’s <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③②">sensor type</a>’s <a data-link-type="dfn" href="#sensor-permission-names" id="ref-for-sensor-permission-names">sensor permission names</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">contains</a>
  <var>permissionName</var>:</p>
        <ol>
         <li data-md>
          <p>Invoke <a data-link-type="dfn" href="#deactivate-a-sensor-object" id="ref-for-deactivate-a-sensor-object②">deactivate a sensor object</a> with <var>sensor</var>.</p>
         <li data-md>
          <p>Let <var>exception</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception②">creating</a>
 a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>.</p>
         <li data-md>
          <p>Queue a task to run <a data-link-type="dfn" href="#notify-error" id="ref-for-notify-error②">notify error</a> with <var>sensor</var> and <var>exception</var>.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.7" data-lt="Set sensor settings" id="set-sensor-settings"><span class="secno">8.7. </span><span class="content">Set sensor settings</span><a class="self-link" href="#set-sensor-settings" id="ref-for-set-sensor-settings②"></a></h3>
   <div class="algorithm" data-algorithm="set sensor settings">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>platformSensor</var>, a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③⑨">platform sensor</a>.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>If <var>platformSensor</var>’s set of <a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects⑥">activated sensor objects</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">is empty</a>,</p>
      <ol>
       <li data-md>
        <p>Set <var>platformSensor</var>’s <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①①">sampling frequency</a> to null.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">For each</a> <var>key</var> → <var>value</var> of <var>platformSensor</var>’s <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑨">latest reading</a>.</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">Set</a> <var>platformSensor</var>’s <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①⓪">latest reading</a>[<var>key</var>] to null.</p>
        </ol>
       <li data-md>
        <p>Update the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑤">implementation-defined</a> way in which <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④⑦">sensor readings</a> are obtained
  from <var>platformSensor</var> to no longer provide <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④⑧">readings</a>.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p>Set <var>platformSensor</var>’s <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①②">sampling frequency</a> to an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑥">implementation-defined</a> value based
  on the <code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑧">[[frequency]]</a></code> values of the items in its <a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects⑦">activated sensor objects</a>
  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set④">set</a>.</p>
     <li data-md>
      <p>Let <var>bounds</var> be the result of invoking <a data-link-type="dfn" href="#get-a-platform-sensors-sampling-bounds" id="ref-for-get-a-platform-sensors-sampling-bounds②">get a platform sensor’s sampling bounds</a> with
  <var>platformSensor</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: <var>platformSensor</var>’s <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①③">sampling frequency</a> is greater than or equal to
  <var>bounds</var>[0] and less than or equal to <var>bounds</var>[1].</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.8" data-lt="Update latest reading" id="update-latest-reading"><span class="secno">8.8. </span><span class="content">Update latest reading</span><a class="self-link" href="#update-latest-reading" id="ref-for-update-latest-reading①"></a></h3>
   <div class="algorithm" data-algorithm="update latest reading">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor</var>, a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④⓪">platform sensor</a>.</p>
     <dd data-md>
      <p><var>reading</var>, a <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④⑨">sensor reading</a>.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>type</var> be <var>sensor</var>’s associated <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③③">sensor type</a>.</p>
     <li data-md>
      <p>If <var>type</var>’s <a data-link-type="dfn" href="#threshold-check-algorithm" id="ref-for-threshold-check-algorithm③">threshold check algorithm</a> is defined, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>result</var> be the result of invoking <var>type</var>’s <a data-link-type="dfn" href="#threshold-check-algorithm" id="ref-for-threshold-check-algorithm④">threshold check algorithm</a>
  with <var>reading</var> and <var>sensor</var>’s <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①①">latest reading</a>.</p>
       <li data-md>
        <p>If <var>result</var> is false, then abort these steps.</p>
      </ol>
     <li data-md>
      <p>If <var>reading</var>["timestamp"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>reading</var>["timestamp"] to the result of converting its current value in an
  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑦">implementation-defined</a> way to an <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time" id="ref-for-monotonic-clock-unsafe-current-time①">unsafe current time</a> using the
  same <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-monotonic-clock" id="ref-for-dfn-monotonic-clock">monotonic clock</a> that is shared by <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin" id="ref-for-concept-settings-object-time-origin①">time origins</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> The goal of this step is to ensure that a timestamp that may have been relative to
  a different time origin is converted to a value that can be used in computations with
  the same <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-monotonic-clock" id="ref-for-dfn-monotonic-clock①">monotonic clock</a> used by the operations described in <a data-link-type="biblio" href="#biblio-hr-time" title="High Resolution Time">[HR-TIME]</a>.</p>
      </ol>
     <li data-md>
      <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">set</a> <var>reading</var>["timestamp"] to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time" id="ref-for-dfn-unsafe-shared-current-time">unsafe shared current time</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> In neither case is an <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time" id="ref-for-monotonic-clock-unsafe-current-time②">unsafe current time</a> ever exposed to script.
  <code class="idl"><a data-link-type="idl" href="#dom-sensor-timestamp" id="ref-for-dom-sensor-timestamp①">Sensor.timestamp</a></code> always returns a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment">coarsened moment</a> relative
  to a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin" id="ref-for-concept-settings-object-time-origin②">time origin</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">For each</a> <var>key</var> → <var>value</var> of <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①②">latest reading</a>.</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">Set</a> <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①③">latest reading</a>[<var>key</var>] to the corresponding
  value of <var>reading</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>activated_sensors</var> be <var>sensor</var>’s associated <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">set</a> of <a data-link-type="dfn" href="#activated-sensor-objects" id="ref-for-activated-sensor-objects⑧">activated sensor objects</a>.</p>
     <li data-md>
      <p>Run these sub-steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>s</var> in <var>activated_sensors</var>,</p>
        <ol>
         <li data-md>
          <p>Invoke <a data-link-type="dfn" href="#report-latest-reading-updated" id="ref-for-report-latest-reading-updated">report latest reading updated</a> with <var>s</var> as an argument.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.9" data-lt="Report latest reading updated" id="report-latest-reading-updated"><span class="secno">8.9. </span><span class="content">Report latest reading updated</span><a class="self-link" href="#report-latest-reading-updated" id="ref-for-report-latest-reading-updated①"></a></h3>
   <div class="algorithm" data-algorithm="report latest reading updated">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑦">Sensor</a></code> object.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>If <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot①">[[pendingReadingNotification]]</a></code> is true,</p>
      <ol>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p>Set <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot②">[[pendingReadingNotification]]</a></code> to true.</p>
     <li data-md>
      <p>Let <var>lastReportedTimestamp</var> be the value of <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot①">[[lastEventFiredAt]]</a></code>.</p>
     <li data-md>
      <p>If <var>lastReportedTimestamp</var> is not set</p>
      <ol>
       <li data-md>
        <p>Queue a task to run <a data-link-type="dfn" href="#notify-new-reading" id="ref-for-notify-new-reading">notify new reading</a> with <var>sensor_instance</var> as an argument.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑨">[[frequency]]</a></code> is not null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①⓪">[[frequency]]</a></code> is greater than 0.</p>
     <li data-md>
      <p>Let <var>reportingInterval</var> be the result of 1 / <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①①">[[frequency]]</a></code>.</p>
     <li data-md>
      <p>Let <var>timestampDelta</var> be the result of <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①④">latest reading</a>["timestamp"] - <var>lastReportedTimestamp</var>.</p>
     <li data-md>
      <p>If  <var>timestampDelta</var> is greater than or equal to <var>reportingInterval</var></p>
      <ol>
       <li data-md>
        <p>Queue a task to run <a data-link-type="dfn" href="#notify-new-reading" id="ref-for-notify-new-reading①">notify new reading</a> with <var>sensor_instance</var> as an argument.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p>Let <var>deferUpdateTime</var> be the result of <var>reportingInterval</var> - <var>timestampDelta</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop" id="ref-for-spin-the-event-loop">Spin the event loop</a> for a period of time equal to <var>deferUpdateTime</var>.</p>
     <li data-md>
      <p>If <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot③">[[pendingReadingNotification]]</a></code> is true,</p>
      <ol>
       <li data-md>
        <p>Queue a task to run <a data-link-type="dfn" href="#notify-new-reading" id="ref-for-notify-new-reading②">notify new reading</a> with <var>sensor_instance</var> as an argument.</p>
      </ol>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.10" data-lt="Notify new reading" id="notify-new-reading"><span class="secno">8.10. </span><span class="content">Notify new reading</span><a class="self-link" href="#notify-new-reading" id="ref-for-notify-new-reading④"></a></h3>
   <div class="algorithm" data-algorithm="notify new reading">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑧">Sensor</a></code> object.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Set <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot④">[[pendingReadingNotification]]</a></code> to false.</p>
     <li data-md>
      <p>Set <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot②">[[lastEventFiredAt]]</a></code> to <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①⑤">latest reading</a>["timestamp"].</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire①">Fire an event</a> named "reading" at <var>sensor_instance</var>.</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.11" data-lt="Notify activated state" id="notify-activated-state"><span class="secno">8.11. </span><span class="content">Notify activated state</span><a class="self-link" href="#notify-activated-state" id="ref-for-notify-activated-state①"></a></h3>
   <div class="algorithm" data-algorithm="notify activated state">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑨">Sensor</a></code> object.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Set <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①⓪">[[state]]</a></code> to "activated".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire②">Fire an event</a> named "activate" at <var>sensor_instance</var>.</p>
     <li data-md>
      <p>Let <var>sensor</var> be the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④①">platform sensor</a> associated with <var>sensor_instance</var>.</p>
     <li data-md>
      <p>If <var>sensor</var>’s <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①⑥">latest reading</a>["timestamp"] is not null,</p>
      <ol>
       <li data-md>
        <p>Queue a task to run <a data-link-type="dfn" href="#notify-new-reading" id="ref-for-notify-new-reading③">notify new reading</a> with <var>sensor_instance</var>
  as an argument.</p>
      </ol>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.12" data-lt="Notify error" id="notify-error"><span class="secno">8.12. </span><span class="content">Notify error</span><a class="self-link" href="#notify-error" id="ref-for-notify-error④"></a></h3>
   <div class="algorithm" data-algorithm="notify error">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⓪">Sensor</a></code> object.</p>
     <dd data-md>
      <p><var>error</var>, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>.</p>
     <dt data-md>output
     <dd data-md>
      <p>None</p>
    </dl>
    <ol>
     <li data-md>
      <p>Set <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①①">[[state]]</a></code> to "idle".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire③">Fire an event</a> named "error" at <var>sensor_instance</var> using <code class="idl"><a data-link-type="idl" href="#sensorerrorevent" id="ref-for-sensorerrorevent①">SensorErrorEvent</a></code>
  with its <code class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensorerrorevent-error" id="ref-for-dom-sensorerrorevent-error①">error</a></code> attribute initialized to <var>error</var>.</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.13" data-lt="Get value from latest reading" id="get-value-from-latest-reading"><span class="secno">8.13. </span><span class="content">Get value from latest reading</span><a class="self-link" href="#get-value-from-latest-reading" id="ref-for-get-value-from-latest-reading④"></a></h3>
   <div class="algorithm" data-algorithm="get value from latest reading">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③①">Sensor</a></code> object.</p>
     <dd data-md>
      <p><var>key</var>, a string representing the name of the value.</p>
     <dt data-md>output
     <dd data-md>
      <p>A <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⓪">sensor reading</a> value or null.</p>
    </dl>
    <ol>
     <li data-md>
      <p>If <var>sensor_instance</var>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①②">[[state]]</a></code> is "activated",</p>
      <ol>
       <li data-md>
        <p>Let <var>readings</var> be the <a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①⑦">latest reading</a> of <var>sensor_instance</var>’s related <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④②">platform sensor</a>.</p>
       <li data-md>
        <p>Let <var>type</var> be <var>sensor_instance</var>’s associated <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③④">sensor type</a>.</p>
       <li data-md>
        <p>If <var>type</var>’s <a data-link-type="dfn" href="#reading-quantization-algorithm" id="ref-for-reading-quantization-algorithm①">reading quantization algorithm</a> is defined, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>readings</var> to the result of invoking <var>type</var>’s <a data-link-type="dfn" href="#reading-quantization-algorithm" id="ref-for-reading-quantization-algorithm②">reading quantization algorithm</a> with <var>readings</var>.</p>
        </ol>
       <li data-md>
        <p>If the <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification⑤">extension specification</a> defines a <a data-link-type="dfn" href="#local-coordinate-system" id="ref-for-local-coordinate-system②">local coordinate system</a> for <var>sensor_instance</var>,</p>
        <ol>
         <li data-md>
          <p>Remap (see <a data-link-type="biblio" href="#biblio-coordinates-transformation" title="The Foundations of Celestial Mechanics">[COORDINATES-TRANSFORMATION]</a>) <var>readings</var> values to the
 <a data-link-type="dfn" href="#local-coordinate-system" id="ref-for-local-coordinate-system③">local coordinate system</a>.</p>
        </ol>
       <li data-md>
        <p>Return <var>readings</var>[<var>key</var>].</p>
      </ol>
     <li data-md>
      <p>Otherwise, return null.</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.14" data-lt="Request sensor access" id="request-sensor-access"><span class="secno">8.14. </span><span class="content">Request sensor access</span><a class="self-link" href="#request-sensor-access" id="ref-for-request-sensor-access②"></a></h3>
   <div class="algorithm" data-algorithm="request sensor access">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>sensor_instance</var>, a <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③②">Sensor</a></code> object.</p>
     <dt data-md>output
     <dd data-md>
      <p>A <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state" id="ref-for-dfn-permission-state">permission state</a>.</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>sensor_type</var> be <var>sensor_instance</var>’s associated <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑤">sensor type</a>.</p>
     <li data-md>
      <p>Let <var>sensor_permissions</var> be <var>sensor_type</var>’s associated <a data-link-type="dfn" href="#sensor-permission-names" id="ref-for-sensor-permission-names①">sensor permission names</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>permission_name</var> in <var>sensor_permissions</var>,</p>
      <ol>
       <li data-md>
        <p>Let <var>state</var> be the result of <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use">requesting permission to use</a> <var>permission_name</var>.</p>
       <li data-md>
        <p>If <var>state</var> is "denied"</p>
        <ol>
         <li data-md>
          <p>Return "denied".</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return "granted".</p>
    </ol>
   </div>
   <h3 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="8.15" data-lt="Focus and origin check" id="focus-and-origin-check"><span class="secno">8.15. </span><span class="content">Focus and origin check</span><a class="self-link" href="#focus-and-origin-check" id="ref-for-focus-and-origin-check②"></a></h3>
   <div class="algorithm" data-algorithm="focus and origin check">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>document</var>, a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>.</p>
     <dt data-md>output
     <dd data-md>
      <p>A boolean.</p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>origin</var> be <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a>.</p>
     <li data-md>
      <p>Let <var>focusedDocument</var> be <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable">node navigable</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top" id="ref-for-nav-top①">top-level traversable</a>’s
  <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable" id="ref-for-currently-focused-area-of-a-top-level-traversable">currently focused area</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor" id="ref-for-dom-anchor">DOM anchor</a>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document">node document</a>.</p>
     <li data-md>
      <p>Let <var>focusedOrigin</var> be <var>focusedDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①">origin</a>.</p>
     <li data-md>
      <p>Return true if <var>origin</var> and <var>focusedOrigin</var> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain" id="ref-for-same-origin-domain">same origin-domain</a>, and false otherwise.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="9" id="automation"><span class="secno">9. </span><span class="content">Automation</span><a class="self-link" href="#automation"></a></h2>
   <p>The Generic Sensor API and its <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification⑥">extension specifications</a> pose a challenge
to test authors, as fully exercising those interfaces requires physical hardware
devices that respond in predictable ways. To address this challenge this document
defines a number of <a data-link-type="biblio" href="#biblio-webdriver2" title="WebDriver">[WEBDRIVER2]</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands" id="ref-for-dfn-extension-commands">extension commands</a> that allow defining and
controlling <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor">virtual sensors</a> that behave like <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④①">device sensors</a>. These <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①">virtual sensors</a> represent devices with particular properties and whose readings can be
entirely defined by users.</p>
   <h3 class="heading settled" data-level="9.1" id="virtual-sensors"><span class="secno">9.1. </span><span class="content">Virtual Sensors</span><a class="self-link" href="#virtual-sensors"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="virtual-sensor">virtual sensor</dfn> simulates the behavior of a <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④②">device sensor</a> in controlled ways. It
reports <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤①">sensor readings</a> to zero or more <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④③">platform sensors</a> connected to it.</p>
   <p>A <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor②">virtual sensor</a> has the following associated data:</p>
   <ul>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport id="virtual-sensor-can-provide-readings-flag">can provide readings flag</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">boolean</a>).</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport id="virtual-sensor-requested-sampling-frequency">requested sampling frequency</dfn> (a number). Just like a regular
<a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④③">device sensor</a>’s actual sampling frequency is opaque, a <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor③">virtual sensor</a>’s <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency" id="ref-for-virtual-sensor-requested-sampling-frequency">requested sampling frequency</a> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑧">implementation-defined</a> value that lies within the
bounds set by the <a data-link-type="dfn" href="#virtual-sensor-minimum-sampling-frequency" id="ref-for-virtual-sensor-minimum-sampling-frequency">minimum sampling frequency</a> and the <a data-link-type="dfn" href="#virtual-sensor-maximum-sampling-frequency" id="ref-for-virtual-sensor-maximum-sampling-frequency">maximum sampling frequency</a>. If a <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor④">virtual sensor</a> is not providing readings to any <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④④">platform sensor</a>, its <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency" id="ref-for-virtual-sensor-requested-sampling-frequency①">requested sampling frequency</a> is 0.</p>
     <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency" id="ref-for-virtual-sensor-requested-sampling-frequency②">Requested sampling frequency</a>’s value depends, among other things, on
whether connected <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④⑤">platform sensors</a> have requested a certain sampling frequency (which might
differ per <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④⑥">platform sensor</a>), or whether they are polling the <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑤">virtual sensor</a>, in which case
no sampling frequency might have been requested at all.</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport id="virtual-sensor-minimum-sampling-frequency">minimum sampling frequency</dfn> (a number). A <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑥">virtual sensor</a> is a
<a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④④">device sensor</a>, so this corresponds to the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④⑤">device sensor</a>’s <a data-link-type="dfn" href="#device-sensor-minimum-sampling-frequency" id="ref-for-device-sensor-minimum-sampling-frequency③">minimum sampling frequency</a>.</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport id="virtual-sensor-maximum-sampling-frequency">maximum sampling frequency</dfn> (a number). A <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑦">virtual sensor</a> is a
<a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④⑥">device sensor</a>, so this corresponds to the <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④⑦">device sensor</a>’s <a data-link-type="dfn" href="#device-sensor-maximum-sampling-frequency" id="ref-for-device-sensor-maximum-sampling-frequency④">maximum sampling frequency</a>.</p>
   </ul>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="virtual-sensor-type">virtual sensor type</dfn> is a string that represents a sensor of a given type.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="per-type-virtual-sensor-metadata">per-type virtual sensor metadata</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">ordered map</a> of <a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type②">virtual sensor types</a> to <a data-link-type="dfn" href="#virtual-sensor-metadata" id="ref-for-virtual-sensor-metadata">virtual sensor metadata</a>. It is initially empty, and <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification⑦">extension specifications</a>
should define one or more entries in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">map</a> corresponding to the sensor types they define.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="virtual-sensor-metadata">virtual sensor metadata</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a> are:</p>
   <ul>
    <li data-md>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="virtual sensor metadata" data-dfn-type="dfn" data-export id="virtual-sensor-metadata-reading-parsing-algorithm">reading parsing algorithm</dfn>
      <dd data-md>
       <p>An algorithm that takes a JSON <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects">Object</a></code> and returns a <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤②">sensor reading</a> or <strong>undefined</strong>.</p>
     </dl>
   </ul>
   <p>Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable">top-level traversable</a> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="virtual-sensor-mapping">virtual sensor mapping</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">ordered map</a>
of <a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type③">virtual sensor types</a> to <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑧">virtual sensor</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping②">virtual sensor mapping</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> contains data that is common to
all virtual sensors of a given type. A <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑨">virtual sensor</a> contains data that
can vary on virtual sensor creation and utilization.</p>
   <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping③">Virtual sensor mappings</a> are tied to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable①">top-level traversables</a> rather than any
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable②">navigable</a> because <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④⑦">platform sensors</a> with a given <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑥">sensor type</a> in all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable③">navigables</a> with
the same <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top" id="ref-for-nav-top②">top-level traversable</a> are supposed to connect to the same <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⓪">virtual sensor</a>.
This better mimics real-world behavior, where the same hardware (or fusion) sensor provides readings
to different <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable④">navigables</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This behavior additionally aids testing of this specification through <a href="https://web-platform-tests.org">web-platform-tests</a>, as <a href="https://web-platform-tests.org/writing-tests/testdriver.html#using-test-driver-in-other-browsing-contexts">all
WebDriver communication via testdriver.js goes through the frame containing the test harness</a>.</p>
   <h3 class="heading settled" data-level="9.2" id="section-extension-commands"><span class="secno">9.2. </span><span class="content">Extension Commands</span><a class="self-link" href="#section-extension-commands"></a></h3>
   <h4 class="heading settled" data-level="9.2.1" id="create-virtual-sensor-command"><span class="secno">9.2.1. </span><span class="content">Create virtual sensor</span><a class="self-link" href="#create-virtual-sensor-command"></a></h4>
   <table class="def">
    <tbody>
     <tr>
      <th>HTTP Method
      <th><a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template" id="ref-for-dfn-extension-command-uri-template">URI Template</a>
     <tr>
      <td>POST
      <td>/session/{session id}/sensor
   </table>
   <p>This <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands" id="ref-for-dfn-extension-commands①">extension command</a> creates a new <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①①">virtual sensor</a> of a certain <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑦">sensor type</a>. Calls to
<code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③③">Sensor</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-sensor-start" id="ref-for-dom-sensor-start①">start()</a></code> from <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③④">Sensor</a></code> instances of the same <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑧">sensor type</a> will cause this
<a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①②">virtual sensor</a> to be used as their backing <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④⑧">device sensor</a> until
<a href="#delete-virtual-sensor-command">§ 9.2.4 Delete virtual sensor</a> is run.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The way this <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands" id="ref-for-dfn-extension-commands②">extension command</a> works allows <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑤">Sensor</a></code> instances of the same type to
coexist and have different <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④⑨">device sensors</a>. A <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑥">Sensor</a></code> <code>sensor</code> may have been created and
connected to a real, hardware sensor before this <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands" id="ref-for-dfn-extension-commands③">extension command</a> is invoked. It continues to
work and receive readings from it, and only receives readings from a <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①③">virtual sensor</a> if <a data-link-type="dfn" href="#connect-to-sensor" id="ref-for-connect-to-sensor①">connect to sensor</a> is invoked again.</p>
   <table class="data">
    <caption>Properties of the <code>parameters</code> argument used by this algorithm</caption>
    <thead>
     <tr>
      <th>Parameter name
      <th>Value type
      <th>Required
    <tbody>
     <tr>
      <td>"<code>type</code>"
      <td><code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects" id="ref-for-sec-string-objects">String</a></code>
      <td>Yes
     <tr>
      <td>"<code>connected</code>"
      <td><code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects" id="ref-for-sec-boolean-objects">Boolean</a></code>
      <td>No
     <tr>
      <td>"<code>maxSamplingFrequency</code>"
      <td><code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects">Number</a></code>
      <td>No
     <tr>
      <td>"<code>minSamplingFrequency</code>"
      <td><code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects①">Number</a></code>
      <td>No
   </table>
   <div class="algorithm" data-algorithm="create virtual sensor">
    
    The <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps" id="ref-for-dfn-remote-end-steps">remote end steps</a> are:

    <ol>
     <li data-md>
      <p>Let <var>virtualSensorType</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-properties" id="ref-for-dfn-getting-properties">get a property</a> "<code>type</code>" from <var>parameters</var>.</p>
     <li data-md>
      <p>If <var>virtualSensorType</var> is not a <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects" id="ref-for-sec-string-objects①">String</a></code>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error">error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument">invalid argument</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata">per-type virtual sensor metadata</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">contain</a> <var>virtualSensorType</var>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①">error</a>
  with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code①">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument①">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>topLevelVirtualSensorMapping</var> be the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-browsing-context" id="ref-for-dfn-current-browsing-context">current browsing context</a>’s
  <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable" id="ref-for-bc-traversable">top-level traversable</a>’s <a data-link-type="dfn" href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping④">virtual sensor mapping</a>.</p>
     <li data-md>
      <p>If <var>topLevelVirtualSensorMapping</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">contains</a> <var>virtualSensorType</var>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error②">error</a> with
  <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code②">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument②">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>connected</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default" id="ref-for-dfn-getting-the-property-with-default">get a property with default</a> with
  "<code>connected</code>" and true from <var>parameters</var>.</p>
     <li data-md>
      <p>Let <var>maxSamplingFrequency</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default" id="ref-for-dfn-getting-the-property-with-default①">get a property with default</a> with
  "<code>maxSamplingFrequency</code>" and an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑨">implementation-defined</a> value from <var>parameters</var>.</p>
     <li data-md>
      <p>If <var>maxSamplingFrequency</var> is not a <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects②">Number</a></code>, or its value is <strong>NaN</strong>, +∞, or −∞, return
  <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error③">error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code③">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument③">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>minSamplingFrequency</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default" id="ref-for-dfn-getting-the-property-with-default②">get a property with default</a> with
  "<code>minSamplingFrequency</code>" and an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①⓪">implementation-defined</a> value from <var>parameters</var>.</p>
     <li data-md>
      <p>If <var>minSamplingFrequency</var> is not a <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects③">Number</a></code>, or its value is <strong>NaN</strong>, +∞, or −∞, return
  <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error④">error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code④">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument④">invalid argument</a>.</p>
     <li data-md>
      <p>If <var>minSamplingFrequency</var> is greater than <var>maxSamplingFrequency</var>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑤">error</a>
  with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code⑤">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument⑤">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>virtualSensor</var> be a new <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①④">virtual sensor</a>.</p>
     <li data-md>
      <p>Set <var>virtualSensor</var>’s <a data-link-type="dfn" href="#virtual-sensor-can-provide-readings-flag" id="ref-for-virtual-sensor-can-provide-readings-flag②">can provide readings flag</a> to <var>connected</var>.</p>
     <li data-md>
      <p>Set <var>virtualSensor</var>’s <a data-link-type="dfn" href="#virtual-sensor-minimum-sampling-frequency" id="ref-for-virtual-sensor-minimum-sampling-frequency①">minimum sampling frequency</a> to <var>minSamplingFrequency</var>.</p>
     <li data-md>
      <p>Set <var>virtualSensor</var>’s <a data-link-type="dfn" href="#virtual-sensor-maximum-sampling-frequency" id="ref-for-virtual-sensor-maximum-sampling-frequency①">maximum sampling frequency</a> to <var>maxSamplingFrequency</var>.</p>
     <li data-md>
      <p>Set <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>] to <var>virtualSensor</var>.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success" id="ref-for-success">success</a> with data <code>null</code>.</p>
    </ol>
   </div>
   <div class="example" id="example-ee2fd565">
    <a class="self-link" href="#example-ee2fd565"></a>
  To create an "ambient-light" virtual sensor in the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-browsing-context" id="ref-for-dfn-current-browsing-context①">current browsing context</a> of the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-sessions" id="ref-for-dfn-sessions">session</a> with ID 23,
  the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-local-ends" id="ref-for-dfn-local-ends">local end</a> would POST to <code>/session/23/sensor</code> with the body:
  
<pre class="highlight lang-json"><c- p>{</c->
  <c- f>"type"</c-><c- p>:</c-> <c- u>"ambient-light"</c-><c- p>,</c->
  <c- f>"maxSamplingFrequency"</c-><c- p>:</c-> <c- mi>60</c-><c- p>,</c->
  <c- f>"minSamplingFrequency"</c-><c- p>:</c-> <c- mi>5</c->
<c- p>}</c->
</pre>
    <p>Be aware that only one <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑤">virtual sensor</a> of a given <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑨">sensor type</a> can be created in a
  <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable②">top-level traversable</a>, otherwise an <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument⑥">invalid argument</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code⑥">WebDriver error code</a> will be returned.</p>
   </div>
   <h4 class="heading settled" data-level="9.2.2" id="get-virtual-sensor-information-command"><span class="secno">9.2.2. </span><span class="content">Get virtual sensor information</span><a class="self-link" href="#get-virtual-sensor-information-command"></a></h4>
   <table class="def">
    <tbody>
     <tr>
      <th>HTTP Method
      <th><a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template" id="ref-for-dfn-extension-command-uri-template①">URI Template</a>
     <tr>
      <td>GET
      <td>/session/{session id}/sensor/{type}
   </table>
   <p>This <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands" id="ref-for-dfn-extension-commands④">extension command</a> retrieves information about a given <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑥">virtual sensor</a> created by
<a href="#create-virtual-sensor-command">§ 9.2.1 Create virtual sensor</a>.</p>
   <p>When it returns <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success" id="ref-for-success①">success</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success" id="ref-for-success②">success</a>’s associated data is an <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects①">Object</a></code> with the following
properties:</p>
   <table class="data">
    <thead>
     <tr>
      <th>Property name
      <th>Value type
      <th>Description (non-normative)
    <tbody>
     <tr>
      <td>"<code>requestedSamplingFrequency</code>"
      <td><code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects④">Number</a></code>
      <td>The <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑦">virtual sensor</a>’s <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency" id="ref-for-virtual-sensor-requested-sampling-frequency③">requested sampling frequency</a>
   </table>
   <p class="note" role="note"><span class="marker">Note:</span> See <a href="#concepts-sampling-and-reporting-frequencies">§ 5.4 Sampling Frequency and Reporting Frequency</a> for some constraints on <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①④">sampling frequency</a> as well as the explanation about why a <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency" id="ref-for-virtual-sensor-requested-sampling-frequency④">requested sampling frequency</a>
is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①①">implementation-defined</a> value in <a href="#virtual-sensors">§ 9.1 Virtual Sensors</a>. In general, it is only safe to
assume that the value lies within the bounds set by the <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑧">virtual sensor</a>’s <a data-link-type="dfn" href="#virtual-sensor-minimum-sampling-frequency" id="ref-for-virtual-sensor-minimum-sampling-frequency②">minimum sampling frequency</a> and <a data-link-type="dfn" href="#virtual-sensor-maximum-sampling-frequency" id="ref-for-virtual-sensor-maximum-sampling-frequency②">maximum sampling frequency</a>.</p>
   <div class="algorithm" data-algorithm="get virtual sensor information">
    
    The <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps" id="ref-for-dfn-remote-end-steps①">remote end steps</a> are:

    <ol>
     <li data-md>
      <p>Let <var>virtualSensorType</var> be the value of the <code>type</code> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-url-variables" id="ref-for-dfn-url-variables">url variable</a>.</p>
     <li data-md>
      <p>Let <var>topLevelVirtualSensorMapping</var> be the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-browsing-context" id="ref-for-dfn-current-browsing-context②">current browsing context</a>’s
  <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable" id="ref-for-bc-traversable①">top-level traversable</a>’s <a data-link-type="dfn" href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping⑤">virtual sensor mapping</a>.</p>
     <li data-md>
      <p>If <var>topLevelVirtualSensorMapping</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">contain</a> <var>virtualSensorType</var>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑥">error</a> with
  <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code⑦">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument⑦">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>virtualSensor</var> be <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>].</p>
     <li data-md>
      <p>Let <var>info</var> be a new <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects②">Object</a></code>.</p>
     <li data-md>
      <p>Invoke <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-set-a-property" id="ref-for-dfn-set-a-property">set a property</a> on <var>info</var> with "<code>requestedSamplingFrequency</code>" and <var>virtualSensor</var>’s
  <a data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency" id="ref-for-virtual-sensor-requested-sampling-frequency⑤">requested sampling frequency</a>.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success" id="ref-for-success③">success</a> with data <var>info</var>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="9.2.3" id="update-virtual-sensor-reading-command"><span class="secno">9.2.3. </span><span class="content">Update virtual sensor reading</span><a class="self-link" href="#update-virtual-sensor-reading-command"></a></h4>
   <table class="def">
    <tbody>
     <tr>
      <th>HTTP Method
      <th><a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template" id="ref-for-dfn-extension-command-uri-template②">URI Template</a>
     <tr>
      <td>POST
      <td>/session/{session id}/sensor/{type}
   </table>
   <p>This <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands" id="ref-for-dfn-extension-commands⑤">extension command</a> makes a new <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤③">sensor reading</a> available to <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④⑧">platform sensors</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> A <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑨">virtual sensor</a> acts like a <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑤⓪">device sensor</a>, so the <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤④">sensor reading</a> produced here
still has to be processed by a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④⑨">platform sensor</a>, which might discard it due to, for example, a
<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⓪">sensor type</a>’s <a data-link-type="dfn" href="#threshold-check-algorithm" id="ref-for-threshold-check-algorithm⑤">threshold check algorithm</a> or <a data-link-type="dfn" href="#can-expose-sensor-readings" id="ref-for-can-expose-sensor-readings②">can expose sensor readings</a>’s result.</p>
   <table class="data">
    <caption>Properties of the <code>parameters</code> argument used by this algorithm</caption>
    <thead>
     <tr>
      <th>Parameter name
      <th>Value type
      <th>Required
    <tbody>
     <tr>
      <td>"<code>reading</code>"
      <td><code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects③">Object</a></code>
      <td>Yes
   </table>
   <div class="algorithm" data-algorithm="update virtual sensor reading">
    
    The <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps" id="ref-for-dfn-remote-end-steps②">remote end steps</a> are:

    <ol>
     <li data-md>
      <p>Let <var>reading</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-properties" id="ref-for-dfn-getting-properties①">get a property</a> "<code>reading</code>" from <var>parameters</var>.</p>
     <li data-md>
      <p>If <var>reading</var> is not an <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects④">Object</a></code>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑦">error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code⑧">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument⑧">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>virtualSensorType</var> be the value of the <code>type</code> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-url-variables" id="ref-for-dfn-url-variables①">url variable</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata①">per-type virtual sensor metadata</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">contain</a> <var>virtualSensorType</var>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑧">error</a>
  with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code⑨">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument⑨">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>metadata</var> be <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata②">per-type virtual sensor metadata</a>[<var>virtualSensorType</var>].</p>
     <li data-md>
      <p>Let <var>topLevelVirtualSensorMapping</var> be the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-browsing-context" id="ref-for-dfn-current-browsing-context③">current browsing context</a>’s
  <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable" id="ref-for-bc-traversable②">top-level traversable</a>’s <a data-link-type="dfn" href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping⑥">virtual sensor mapping</a>.</p>
     <li data-md>
      <p>If <var>topLevelVirtualSensorMapping</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">contain</a> <var>virtualSensorType</var>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑨">error</a> with
  <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code①⓪">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument①⓪">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>virtualSensor</var> be <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>].</p>
     <li data-md>
      <p>Let <var>parsedReading</var> be the result of invoking <var>metadata</var>’s <a data-link-type="dfn" href="#virtual-sensor-metadata-reading-parsing-algorithm" id="ref-for-virtual-sensor-metadata-reading-parsing-algorithm">reading parsing algorithm</a> with <var>reading</var>.</p>
     <li data-md>
      <p>If <var>parsedReading</var> is <strong>undefined</strong>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①⓪">error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code①①">WebDriver error code</a>
  <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument①①">invalid argument</a>.</p>
     <li data-md>
      <p>In an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①②">implementation-defined</a> way, make <var>parsedReading</var> available so that it can be
  obtained by <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤⓪">platform sensors</a> connected to <var>virtualSensor</var>.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success" id="ref-for-success④">success</a> with data <code>null</code>.</p>
    </ol>
   </div>
   <h5 class="heading settled" data-level="9.2.3.1" id="algorithms-for-parsing-readings"><span class="secno">9.2.3.1. </span><span class="content">Algorithms for parsing readings</span><a class="self-link" href="#algorithms-for-parsing-readings"></a></h5>
   <p>This specification defines some algorithms that <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification⑧">extension specifications</a> can use when defining
a <a data-link-type="dfn" href="#virtual-sensor-metadata" id="ref-for-virtual-sensor-metadata①">virtual sensor metadata</a> for use in <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata③">per-type virtual sensor metadata</a>.</p>
   <h6 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="9.2.3.1.1" data-lt="Parse single-value number reading" id="parse-single-value-number-reading"><span class="secno">9.2.3.1.1. </span><span class="content">Parse single-value number reading</span><a class="self-link" href="#parse-single-value-number-reading" id="ref-for-parse-single-value-number-reading"></a></h6>
   <div class="algorithm" data-algorithm="parse single-value number reading">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>parameters</var>, a JSON <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑤">Object</a></code></p>
     <dd data-md>
      <p><var>valueName</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a></p>
     <dt data-md>output
     <dd data-md>
      <p>A <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑤">sensor reading</a> or <strong>undefined</strong></p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>value</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-properties" id="ref-for-dfn-getting-properties②">get a property</a> from <var>parameters</var> with <var>valueName</var>.</p>
     <li data-md>
      <p>If <var>value</var> is not a <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑤">Number</a></code>, or its value is <strong>NaN</strong>, +∞, or −∞, return <strong>undefined</strong>.</p>
     <li data-md>
      <p>Let <var>reading</var> be a new <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑥">sensor reading</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">Set</a> <var>reading</var>[<var>valueName</var>] to <var>value</var>.</p>
     <li data-md>
      <p>Return <var>reading</var>.</p>
    </ol>
   </div>
   <h6 class="dfn-paneled heading settled" data-dfn-type="dfn" data-export data-level="9.2.3.1.2" data-lt="Parse XYZ reading" id="parse-xyz-reading"><span class="secno">9.2.3.1.2. </span><span class="content">Parse XYZ reading</span><a class="self-link" href="#parse-xyz-reading" id="ref-for-parse-xyz-reading"></a></h6>
   <div class="algorithm" data-algorithm="parse xyz reading">
    <dl>
     <dt data-md>input
     <dd data-md>
      <p><var>parameters</var>, a JSON <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑥">Object</a></code></p>
     <dt data-md>output
     <dd data-md>
      <p>A <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑦">sensor reading</a> or <strong>undefined</strong></p>
    </dl>
    <ol>
     <li data-md>
      <p>Let <var>x</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-properties" id="ref-for-dfn-getting-properties③">get a property</a> from <var>parameters</var> with "<code>x</code>".</p>
     <li data-md>
      <p>If <var>x</var> is not a <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑥">Number</a></code>, or its value is <strong>NaN</strong>, +∞, or −∞, return <strong>undefined</strong>.</p>
     <li data-md>
      <p>Let <var>y</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-properties" id="ref-for-dfn-getting-properties④">get a property</a> from <var>parameters</var> with "<code>y</code>".</p>
     <li data-md>
      <p>If <var>y</var> is not a <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑦">Number</a></code>, or its value is <strong>NaN</strong>, +∞, or −∞, return <strong>undefined</strong>.</p>
     <li data-md>
      <p>Let <var>z</var> be the result of invoking <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-properties" id="ref-for-dfn-getting-properties⑤">get a property</a> from <var>parameters</var> with "<code>z</code>".</p>
     <li data-md>
      <p>If <var>z</var> is not a <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑧">Number</a></code>, or its value is <strong>NaN</strong>, +∞, or −∞, return <strong>undefined</strong>.</p>
     <li data-md>
      <p>Let <var>reading</var> be a new <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑧">sensor reading</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">Set</a> <var>reading</var>["<code>x</code>"] to <var>x</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑤">Set</a> <var>reading</var>["<code>y</code>"] to <var>y</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑥">Set</a> <var>reading</var>["<code>z</code>"] to <var>z</var>.</p>
     <li data-md>
      <p>Return <var>reading</var>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="9.2.4" id="delete-virtual-sensor-command"><span class="secno">9.2.4. </span><span class="content">Delete virtual sensor</span><a class="self-link" href="#delete-virtual-sensor-command"></a></h4>
   <table class="def">
    <tbody>
     <tr>
      <th>HTTP Method
      <th><a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template" id="ref-for-dfn-extension-command-uri-template③">URI Template</a>
     <tr>
      <td>DELETE
      <td>/session/{session id}/sensor/{type}
   </table>
   <p>This <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands" id="ref-for-dfn-extension-commands⑥">extension command</a> deletes a given type of <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor②⓪">virtual sensor</a>.</p>
   <div class="algorithm" data-algorithm="delete virtual sensor">
    
    The <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps" id="ref-for-dfn-remote-end-steps③">remote end steps</a> are:

    <ol>
     <li data-md>
      <p>Let <var>virtualSensorType</var> be the value of the <code>type</code> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-url-variables" id="ref-for-dfn-url-variables②">url variable</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata④">per-type virtual sensor metadata</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">contain</a> <var>virtualSensorType</var>, return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①①">error</a>
  with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code①②">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument①②">invalid argument</a>.</p>
     <li data-md>
      <p>Let <var>topLevelVirtualSensorMapping</var> be the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-browsing-context" id="ref-for-dfn-current-browsing-context④">current browsing context</a>’s
  <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable" id="ref-for-bc-traversable③">top-level traversable</a>’s <a data-link-type="dfn" href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping⑦">virtual sensor mapping</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove">Remove</a> <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>].</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#success" id="ref-for-success⑤">success</a> with data <code>null</code>.</p>
    </ol>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> The behavior of <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤①">platform sensors</a> and <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑦">Sensor</a></code> instances when a <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑤①">device sensor</a> in use
stops being available (e.g. it has been physically disconnected, or stopped due to a factor
unrelated to the User Agent) is not specified. Implementations may, among other things, keep
existing <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑧">Sensor</a></code> instances unchanged (they simply will not report new readings), <a data-link-type="dfn" href="#deactivate-a-sensor-object" id="ref-for-deactivate-a-sensor-object③">deactivate a sensor object</a> or cause the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤②">platform sensor</a> to report an error that will ultimately result in
<a data-link-type="dfn" href="#notify-error" id="ref-for-notify-error③">notify error</a> being invoked.</p>
   <h2 class="heading settled" data-level="10" id="extensibility"><span class="secno">10. </span><span class="content">Extensibility</span><a class="self-link" href="#extensibility"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p class="note" role="note"><span class="marker">Note:</span> This section and its subsections provide guidance to <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification⑨">extension specification</a>
<em>authors</em> using normative language. From <em>implementers'</em> point of view,
this section and its subsections are considered non-normative.</p>
   <p>This section describes how this specification can be extended to specify APIs for different
<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④①">sensor types</a>.</p>
   <p>Such <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="extension specification" data-noexport id="extension-specification">extension specifications</dfn> are encouraged to focus on a
single <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④②">sensor type</a>, exposing both <a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑦">high</a> and <a data-link-type="dfn" href="#low-level" id="ref-for-low-level⑦">low</a> level
as appropriate.</p>
   <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⓪">Extension specifications</a> are encouraged to define whether a <a data-link-type="dfn" href="#calibration" id="ref-for-calibration①">calibration</a>
process applies to <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑨">sensor readings</a>.</p>
   <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①①">Extension specifications</a>
may explicitly define the <a data-link-type="dfn" href="#local-coordinate-system" id="ref-for-local-coordinate-system④">local coordinate system</a> for the associated
<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④③">sensor type</a> or make it configurable per <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑨">Sensor</a></code> object.</p>
   <p>For an up-to-date list of <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①②">extension specifications</a>, please refer to <a data-link-type="biblio" href="#biblio-generic-sensor-usecases" title="Sensor Use Cases">[GENERIC-SENSOR-USECASES]</a>
and <a data-link-type="biblio" href="#biblio-motion-sensors" title="Motion Sensors Explainer">[MOTION-SENSORS]</a> documents.</p>
   <h3 class="heading settled" data-level="10.1" id="extension-security-and-privacy"><span class="secno">10.1. </span><span class="content">Security and Privacy</span><a class="self-link" href="#extension-security-and-privacy"></a></h3>
   <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①③">Extension specifications</a> are expected to:</p>
   <ul>
    <li data-md>
     <p>conform with the generic <a href="#mitigation-strategies">mitigation strategies</a>,</p>
    <li data-md>
     <p>consider <a href="#mitigation-strategies-case-by-case">mitigation strategies applied
on a case by case basis</a>,</p>
    <li data-md>
     <p>be evaluated against the Self-Review Questionnaire on Security and Privacy
<a data-link-type="biblio" href="#biblio-security-privacy-questionnaire" title="Self-Review Questionnaire: Security and Privacy">[SECURITY-PRIVACY-QUESTIONNAIRE]</a>,</p>
    <li data-md>
     <p>and in particular, be evaluated against the
<a class="non-normative" data-link-type="dfn" href="https://w3ctag.github.io/security-questionnaire/#sop-violations" id="ref-for-sop-violations">same-origin policy violations</a>
that can arise if sensors expose a new communication channel not governed
by the same-origin policy.</p>
   </ul>
   <h3 class="heading settled" data-level="10.2" id="naming"><span class="secno">10.2. </span><span class="content">Naming</span><a class="self-link" href="#naming"></a></h3>
   <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⓪">Sensor</a></code> interfaces for <a data-link-type="dfn" href="#low-level" id="ref-for-low-level⑧">low-level</a> sensors should be
named after their associated <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤③">platform sensor</a>.
So for example, the interface associated with a gyroscope
should be simply named <code>Gyroscope</code>.
<code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④①">Sensor</a></code> interfaces for <a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑧">high-level</a> sensors should be
named by combining the physical quantity the <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤④">platform sensor</a> measures
with the "Sensor" suffix.
For example, a <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤⑤">platform sensor</a> measuring
the distance at which an object is from it
may see its associated interface called <code>ProximitySensor</code>.</p>
   <p>Attributes of the <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④②">Sensor</a></code> subclass that
hold <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⓪">sensor readings</a> values
should be named after the full name of these values.
For example, the <code>Thermometer</code> interface should hold
the <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥①">sensor reading</a>’s value in
a <code>temperature</code> attribute (and not a <code>value</code> or <code>temp</code> attribute).
A good starting point for naming are the
Quantities, Units, Dimensions and Data Types Ontologies <a data-link-type="biblio" href="#biblio-qudt" title="Quantities, Units, Dimensions and Types (QUDT)">[QUDT]</a>.</p>
   <h3 class="heading settled" data-level="10.3" id="unit"><span class="secno">10.3. </span><span class="content">Unit</span><a class="self-link" href="#unit"></a></h3>
   <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①④">Extension specifications</a> must specify the unit of <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥②">sensor readings</a>.</p>
   <p>As per the Technical Architecture Group’s (TAG) API Design Principles <a data-link-type="biblio" href="#biblio-api-design-principles" title="Web Platform Design Principles">[API-DESIGN-PRINCIPLES]</a>,
all time measurement should be in milliseconds.
All other units should be specified using,
in order of preference,
and with the exception of temperature (for which Celsius should be favored over Kelvin),
the International System of Units (SI),
SI derived units, and
Non-SI units accepted for use with the SI,
as described in the SI Brochure <a data-link-type="biblio" href="#biblio-si" title="SI Brochure: The International System of Units (SI), 8th edition">[SI]</a>.</p>
   <h3 class="heading settled" data-level="10.4" id="high-vs-low-level"><span class="secno">10.4. </span><span class="content">Exposing High-Level vs. Low-Level Sensors</span><a class="self-link" href="#high-vs-low-level"></a></h3>
   <p>So far, specifications exposing sensors to the Web platform
have focused on <a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑨">high-level</a> sensors APIs. <a data-link-type="biblio" href="#biblio-geolocation-api" title="Geolocation">[GEOLOCATION-API]</a> <a data-link-type="biblio" href="#biblio-orientation-event" title="Device Orientation and Motion">[ORIENTATION-EVENT]</a></p>
   <p>This was a reasonable approach for a number of reasons.
Indeed, <a data-link-type="dfn" href="#high-level" id="ref-for-high-level①⓪">high-level</a> sensors:</p>
   <ul>
    <li data-md>
     <p>convey developer intent clearly,</p>
    <li data-md>
     <p>do not require intimate knowledge of how the underlying hardware sensors functions,</p>
    <li data-md>
     <p>are easy to use,</p>
    <li data-md>
     <p>may enable the User Agent to make significant
  performance and battery life improvements,</p>
    <li data-md>
     <p>help avoid certain privacy and security issues by
  decreasing the amount and type of information exposed.</p>
   </ul>
   <p>However, an increasing number of use cases
such as virtual and augmented reality
require <a data-link-type="dfn" href="#low-level" id="ref-for-low-level⑨">low-level</a> access to sensors,
most notably for performance reasons.</p>
   <p>Providing <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①⓪">low-level</a> access
enables Web application developers to leverage domain-specific constraints
and design more performant systems.</p>
   <p>Following the precepts of the Extensible Web Manifesto <a data-link-type="biblio" href="#biblio-extennnnsible" title="The Extensible Web Manifesto">[EXTENNNNSIBLE]</a>,
<a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑤">extension specifications</a> should focus primarily on
exposing <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①①">low-level</a> sensor APIs, but should also expose
<a data-link-type="dfn" href="#high-level" id="ref-for-high-level①①">high-level</a> APIs when they are clear benefits in doing so.</p>
   <h3 class="heading settled" data-level="10.5" id="multiple-sensors"><span class="secno">10.5. </span><span class="content">When is Enabling Multiple Sensors of the Same Type Not the Right Choice?</span><a class="self-link" href="#multiple-sensors"></a></h3>
   <p>It is not advisable to construct multiple <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④③">Sensor</a></code> instances of the same <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④④">sensor type</a> with
equal construction parameters, as it can lead to unnecessary hardware resources consumption.</p>
   <p>In cases when multiple observers are interested in notifications of a newly available
<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥③">sensor reading</a>, an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener" id="ref-for-concept-event-listener①">event listener</a> can be added on a single <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④④">Sensor</a></code> instance instead of
creating multiple instances of the same <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑤">sensor type</a> and using simple <code class="idl"><a data-link-type="idl" href="#dom-sensor-onreading" id="ref-for-dom-sensor-onreading①">onreading</a></code> event
handler.</p>
   <p>Conversely, multiple <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑤">Sensors</a></code> of the same <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑥">sensor type</a> can be created when they
are intended to be used with different settings, such as: <code class="idl"><a data-link-type="idl" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency③">frequency</a></code>,
accuracy or other settings defined in <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑥">extension specifications</a>.</p>
   <h3 class="heading settled" data-level="10.6" id="definition-reqs"><span class="secno">10.6. </span><span class="content">Definition Requirements</span><a class="self-link" href="#definition-reqs"></a></h3>
   <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑦">Extension specifications</a> must define all the associated data listed in <a href="#model-sensor-type">§ 6.1 Sensor Type</a>.</p>
   <p>This section provides more information about some of the associated data that <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑧">extension specifications</a> must specify.</p>
   <ul>
    <li data-md>
     <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="extension-sensor-interface">extension sensor interface</dfn>, which is an <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-interface" id="ref-for-dfn-interface①">interface</a>
  whose <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-inherited-interfaces" id="ref-for-dfn-inherited-interfaces">inherited interfaces</a> contains <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑥">Sensor</a></code>.
  The <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface④">extension sensor interface</a> must be constructible.
  Its [<code class="idl"><a class="idl-code" data-link-type="extended-attribute">Constructor</a></code>] must take, as an argument,
  an optional <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary" id="ref-for-dfn-dictionary">dictionary</a> whose <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries" id="ref-for-dfn-inherited-dictionaries">inherited dictionaries</a> contains <code class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions①">SensorOptions</a></code>.</p>
     <p>The <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface⑤">extension sensor interface</a> has a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">set</a> of supported options
  referred to as <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="supported-sensor-options">supported sensor options</dfn>.
  Unless the <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑨">extension specification</a> defines otherwise,
  <a data-link-type="dfn" href="#supported-sensor-options" id="ref-for-supported-sensor-options①">supported sensor options</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain③">contain</a> a single item which is "frequency".</p>
     <p>The user agent must remove items from <a data-link-type="dfn" href="#supported-sensor-options" id="ref-for-supported-sensor-options②">supported sensor options</a> for a given
  <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface⑥">extension sensor interface</a> if it cannot support the corresponding sensor
  options.</p>
     <p>The <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface⑦">extension sensor interface</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute③">attributes</a> which expose <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥④">sensor readings</a> are
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-read-only" id="ref-for-dfn-read-only">read only</a> and their getters must return the result of invoking
  <a data-link-type="dfn" href="#get-value-from-latest-reading" id="ref-for-get-value-from-latest-reading③">get value from latest reading</a> with <strong>this</strong> and
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute④">attribute</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-identifier" id="ref-for-dfn-identifier②">identifier</a> as arguments.</p>
    <li data-md>
     <p>If the <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑦">sensor type</a> is representing <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑧">sensor fusion</a>, its <a data-link-type="dfn" href="#sensor-permission-names" id="ref-for-sensor-permission-names②">sensor permission names</a> must
  be those associated with the fusion source <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑧">sensor types</a>.</p>
   </ul>
   <p>An <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②⓪">extension specification</a> may specify the following definitions
for each <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑨">sensor type</a>:</p>
   <ul>
    <li data-md>
     <p>A <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary" id="ref-for-dfn-dictionary①">dictionary</a> whose <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries" id="ref-for-dfn-inherited-dictionaries①">inherited dictionaries</a> contains <code class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions②">SensorOptions</a></code>.</p>
    <li data-md>
     <p>A <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor⑥">default sensor</a>. Generally, devices are equipped with a single <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤⑥">platform sensor</a> of each
  <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤⓪">type</a>, in which case defining a <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor⑦">default sensor</a> is straightforward. For
  <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤①">sensor types</a> where multiple <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑤②">sensors</a> are common, <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②①">extension specifications</a> may choose not to define a <a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor⑧">default sensor</a>, especially when doing so would
  not make sense.</p>
   </ul>
   <h3 class="heading settled" data-level="10.7" id="extend-automation"><span class="secno">10.7. </span><span class="content">Automation</span><a class="self-link" href="#extend-automation"></a></h3>
   <p>In order to enable user-agent automation and application testing,
<a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②②">extension specifications</a> are encouraged to:</p>
   <ul>
    <li data-md>
     <p>Add one or more <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry④">entries</a> to <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata⑤">per-type virtual sensor metadata</a>.</p>
    <li data-md>
     <p>Consequently, define one or more <a data-link-type="dfn" href="#virtual-sensor-metadata" id="ref-for-virtual-sensor-metadata②">virtual sensor metadata</a> instances.</p>
    <li data-md>
     <p>Specify a <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤②">sensor type</a>’s <a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type④">virtual sensor type</a>, which should match the key used in the corresponding <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata⑥">per-type virtual sensor metadata</a> entry.</p>
   </ul>
   <div class="example" id="example-91eda903">
    <a class="self-link" href="#example-91eda903"></a>
    The <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②③">extension specification</a> for proximity sensors described in <a href="#example-webidl">§ 10.10 Example WebIDL</a> could
    contain the following text:

    
    <blockquote>
     
        The <strong>Proximity Sensor</strong> is a <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤③">sensor type</a> with one associated <a data-link-type="dfn" href="#extension-sensor-interface" id="ref-for-extension-sensor-interface⑧">extension sensor interface</a>, <code>ProximitySensor</code>. Its associated <a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type⑤">virtual sensor type</a> is "<code>proximity</code>".


     <p><em>[...]</em></p>
     <p>The <strong>proximity reading parsing algorithm</strong>, given a JSON <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑦">Object</a></code> <em>parameters</em>, must
        invoke <a data-link-type="dfn" href="#parse-single-value-number-reading" id="ref-for-parse-single-value-number-reading①">parse single-value number reading</a> with <em>parameters</em> and "<code>distance</code>".</p>
     <p>The <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata⑦">per-type virtual sensor metadata</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">map</a> must have an entry whose key is "<code>proximity</code>"
        and whose value is a <a data-link-type="dfn" href="#virtual-sensor-metadata" id="ref-for-virtual-sensor-metadata③">virtual sensor metadata</a> whose <a data-link-type="dfn" href="#virtual-sensor-metadata-reading-parsing-algorithm" id="ref-for-virtual-sensor-metadata-reading-parsing-algorithm①">reading parsing algorithm</a> is <em>proximity reading parsing algorithm</em>.</p>
    </blockquote>
   </div>
   <h3 class="heading settled" data-level="10.8" id="permission-api"><span class="secno">10.8. </span><span class="content">Extending the Permission API</span><a class="self-link" href="#permission-api"></a></h3>
   <p>An implementation of the <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑦">Sensor</a></code> interface for each <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤④">sensor type</a> must protect its
<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⑤">reading</a> by associated <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name③">name</a> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor">PermissionDescriptor</a></code>.
A <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①②">low-level</a> <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑧">sensor</a></code> may use its interface name as a <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name④">name</a>,
for instance, "gyroscope" or "accelerometer". <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑨">Fusion sensors</a> must
<a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use①">request permission to access</a> each of the sensors that are
used as a source of fusion.</p>
   <p>Even though it might be difficult to reconstruct <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①③">low-level</a> <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⑥">sensor readings</a> from
fused data, some of the original information might be inferred. For example, it is easy to
deduce user’s orientation in space if absolute or geomagnetic orientation sensors are used,
therefore, these sensors must <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use②">request permission to use</a>
magnetometer as it provides information about orientation of device in relation to Earth’s
magnetic field. In contrast, relative orientation sensor does not expose such information, thus,
it does not need to <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use③">request permission to use</a> magnetometer.</p>
   <p><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor①">Permission descriptors</a></code> can also be used to set maximum allowed limits
for accuracy or <a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①⑤">sampling frequency</a>. An example for a possible extension of the Permission API
for accelerometer sensor is given below.</p>
<pre class="example highlight" id="example-88a9149d"><a class="self-link" href="#example-88a9149d"></a><c- b>dictionary</c-> <c- g>AccelerometerPermissionDescriptor</c-> : <c- n>PermissionDescriptor</c-> {
    <c- b>boolean</c-> <c- g>highAccuracy</c-> = <c- b>false</c->;
    <c- b>boolean</c-> <c- g>highFrequency</c-> = <c- b>false</c->;
};
</pre>
   <h3 class="heading settled" data-level="10.9" id="permissions-policy-api"><span class="secno">10.9. </span><span class="bs-old-id" id="feature-policy-api"></span><span class="content">Extending the Permissions Policy API</span><a class="self-link" href="#permissions-policy-api"></a></h3>
   <p>An implementation of the <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑨">Sensor</a></code> interface for each <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤⑤">sensor type</a> has one
(if <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion①⓪">sensor fusion</a> is not performed) or several <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature③">policy-controlled features</a>
that control whether or not this implementation can be used in a document.</p>
   <p>The <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature④">features</a>' <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlist</a> is
<code>'self'</code>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist①">default allowlist</a> of <code>'self'</code> allows <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑤⓪">Sensor</a></code> interface
implementation usage in same-origin nested frames but prevents third-party content
from <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⑦">sensor readings</a> access.</p>
   <p>The <a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names②">sensor feature names</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑦">set</a> must contain <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature⑤">policy-controlled feature</a>
tokens of every associated <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature⑥">feature</a>.</p>
   <p>A <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①④">low-level</a> <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑤①">sensor</a></code> may use its interface name as a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature⑦">policy-controlled feature</a> token,
for instance, "gyroscope" or "accelerometer". Unless the <a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②④">extension specification</a> defines
otherwise, the <a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names③">sensor feature names</a> matches the same <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤⑥">type</a>-associated
<a data-link-type="dfn" href="#sensor-permission-names" id="ref-for-sensor-permission-names③">sensor permission names</a>.</p>
   <div class="example html" id="example-e92c9492">
    <a class="self-link" href="#example-e92c9492"></a>
The accelerometer feature is selectively enabled for third-party origin by adding an
<code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" id="ref-for-attr-iframe-allow">allow</a></code> attribute to the frame container element:

<pre class="highlight"><c- p>&lt;</c-><c- f>iframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"https://third-party.com"</c-> <c- e>allow</c-><c- o>=</c-><c- s>"accelerometer"</c-><c- p>/>&lt;/</c-><c- f>iframe</c-><c- p>></c->
</pre>
   </div>
   <div class="example html" id="example-86ff0a65">
    <a class="self-link" href="#example-86ff0a65"></a>
A sensor usage is disabled completely by specifying the permissions policy in an HTTP
response header:

<pre class="highlight">Permissions<c- o>-</c->Policy<c- o>:</c-> accelerometer<c- o>=</c-><c- p>()</c->
</pre>
   </div>
   <p><a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion①①">Fusion sensors</a> must use <a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names④">sensor feature names</a> of the sensors
that are used as a source of fusion.</p>
   <div class="example html" id="example-dcbd0b33">
    <a class="self-link" href="#example-dcbd0b33"></a>
Allow third-party origin to use accelerometer, magnetometer and gyroscope features
that are required by the absolute orientation sensor.

<pre class="highlight"><c- p>&lt;</c-><c- f>iframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"https://third-party.com"</c-> <c- e>allow</c-><c- o>=</c-><c- s>"accelerometer; magnetometer; gyroscope"</c-><c- p>/></c->
</pre>
   </div>
   <h3 class="heading settled" data-level="10.10" id="example-webidl"><span class="secno">10.10. </span><span class="content">Example WebIDL</span><a class="self-link" href="#example-webidl"></a></h3>
   <p>Here’s an example WebIDL for a possible extension of this specification
for proximity <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑤③">sensors</a>.</p>
<pre class="example highlight" id="example-ce90960e"><a class="self-link" href="#example-ce90960e"></a>[<c- g>SecureContext</c->, <c- g>Exposed</c->=<c- n>Window</c->]
<c- b>interface</c-> <c- g>ProximitySensor</c-> : <c- n>Sensor</c-> {
    <c- g>constructor</c->(<c- b>optional</c-> <c- n>ProximitySensorOptions</c-> <c- g>proximitySensorOptions</c-> = {});
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>double</c->? <c- g>distance</c->;
};

<c- b>dictionary</c-> <c- g>ProximitySensorOptions</c-> : <c- n>SensorOptions</c-> {
    <c- b>double</c-> <c- g>min</c->;
    <c- b>double</c-> <c- g>max</c->;
    <c- n>ProximitySensorPosition</c-> <c- g>position</c->;
    <c- n>ProximitySensorDirection</c-> <c- g>direction</c->;
};

<c- b>enum</c-> <c- g>ProximitySensorPosition</c-> {
    <c- s>"top-left"</c->,
    <c- s>"top"</c->,
    <c- s>"top-right"</c->,
    <c- s>"middle-left"</c->,
    <c- s>"middle"</c->,
    <c- s>"middle-right"</c->,
    <c- s>"bottom-left"</c->,
    <c- s>"bottom"</c->,
    <c- s>"bottom-right"</c->
};

<c- b>enum</c-> <c- g>ProximitySensorDirection</c-> {
    <c- s>"front"</c->,
    <c- s>"rear"</c->,
    <c- s>"left"</c->,
    <c- s>"right"</c->,
    <c- s>"top"</c->,
    <c- s>"bottom"</c->
};
</pre>
   <h2 class="heading settled" data-level="11" id="acknowledgements"><span class="secno">11. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
   <p>First and foremost, I would like to thank Anssi Kostiainen
for his continuous and dedicated support and input throughout
the development of this specification, as well as Mikhail Pozdnyakov,
Alexander Shalamov, Rijubrata Bhaumik, and Kenneth Rohde Christiansen
for their invaluable implementation feedback, suggestions, and research
that have helped inform the specification work.</p>
   <p>Special thanks to Rick Waldron for
driving the discussion around a generic sensor API design for the Web,
sketching the original API on which this is based,
providing implementation feedback from his work on Johnny-Five,
and continuous input during the development of this specification.</p>
   <p>Special thanks to Boris Smus, Tim Volodine, and Rich Tibbett
for their initial work on exposing sensors to the web with consistency.</p>
   <p>Thanks to Anne van Kesteren
for his tireless help both in person and through IRC.</p>
   <p>Thanks to Domenic Denicola and Jake Archibald for their help.</p>
   <p>Thanks also to Frederick Hirsch and Dominique Hazaël-Massieux (via the HTML5Apps project)
for both their administrative help and technical input.</p>
   <p>Thanks to Tab Atkins for making Bikeshed and taking the time to explain its subtleties.</p>
   <p>Thanks to Lukasz Olejnik and Maryam Mehrnezhad for their contributions around privacy and security.</p>
   <p>The following people have greatly contributed to this specification through extensive discussions on GitHub:
Anssi Kostiainen,
Boris Smus,
chaals,
Claes Nilsson,
Dave Raggett,
David Mark Clements,
Domenic Denicola,
Dominique Hazaël-Massieux (via the HTML5Apps project),
Francesco Iovine,
Frederick Hirsch,
gmandyam,
Jafar Husain,
Johannes Hund,
Kris Kowal,
Lukasz Olejnik,
Marcos Caceres,
Marijn Kruisselbrink,
Mark Foltz,
Mats Wichmann,
Matthew Podwysocki,
Olli Pettay,
pablochacin,
Remy Sharp,
Rich Tibbett,
Rick Waldron,
Rijubrata Bhaumik,
robman,
Sean T. McBeth,
Tab Atkins Jr.,
Virginie Galindo,
zenparsing,
and Zoltan Kis.</p>
   <p>We’d also like to thank
Anssi Kostiainen,
Dominique Hazaël-Massieux,
Erik Wilde,
and
Michael[tm] Smith
for their editorial input.</p>
<script>
    // Scrollspy
    var createScrollSpy = (function() {

        function targetId(element) {
            return (element.href || "").split("#")[1] || null;
        }

        function getScrollTop() {
            return (window.pageYOffset !== undefined)
                ? window.pageYOffset
                : (document.documentElement || document.body.parentNode || document.body).scrollTop;
        }

        function addClassToParents(element, className, parentClassName) {
            do {
                element = element.parentNode;
            } while (element && element.tagName != "LI")
            if (element) {
                var a = element.querySelector("a");
                if (a) a.className = className;
                addClassToParents(element, parentClassName ? parentClassName : className);
            }
        }

        function getPosition(element, container) {
            var eR = element.getBoundingClientRect();
            var cR = container.getBoundingClientRect();
            if (eR.bottom < cR.top) return "above";
            if (eR.top > cR.bottom) return "below";
            return "visible";
        }

        function createScrollSpy(options) {
            options = options || {};

            var OFFSET = 80,
                needsUpdate = false,
                previous = null,
                current = null,
                currentNav = null,
                tocContainer,
                toc,
                sections;

            tocContainer = document.querySelector(options.id);
            toc = [].slice.call(tocContainer.querySelectorAll("a"), 0);
            sections = toc.reduce(function(sections, a) {
                var id = targetId(a);
                var section = id ? document.getElementById(id) : null;
                if (section) { sections.push(section); }
                return sections;
            }, []);

            function onscroll() {
                if (!needsUpdate) {
                    needsUpdate = true;
                    requestAnimationFrame(updatePosition);
                }
            }

            function updatePosition() {
                needsUpdate = false;
                var scrollTop = (options.offset || 0) + getScrollTop();
                current = sections.filter(function(section){
                    return section.offsetTop < scrollTop;
                }).pop();
                current = current ? current.id : null;

                if (previous !== current) {
                    previous = current;
                    toc.forEach(function(a) {
                        if (targetId(a) == current) {
                            currentNav = a;
                        } else {
                            a.className = "";
                        }
                    });
                    if (options.markParents) {
                        addClassToParents(currentNav, options.className, options.parentClassName)
                    } else {
                        currentNav.className = options.className;
                    }
                    if (options.scrollIntoView && typeof currentNav.scrollIntoView == "function") {
                        var p = getPosition(currentNav, tocContainer);
                        if (p == "above") {
                            currentNav.scrollIntoView(true);
                        } else if (p == "below") {
                            currentNav.scrollIntoView(false);
                        }
                    }
                }
            }

            return {
                start: function() {
                    window.addEventListener("scroll", onscroll, false);
                },

                stop: function() {
                    window.removeEventListener("scroll", onscroll, false);
                    toc.forEach(function(a) {
                        a.className = "";
                    });
                }
            }
        }

        return createScrollSpy;
    })();

    (function() {
        var spy = createScrollSpy({
            offset: 80,
            id: "#toc",
            className: "current",
            parentClassName: "current-parent",
            markParents: true,
            scrollIntoView: true
        });

        var mm = window.matchMedia('screen and (min-width: 78em)');
        if (mm.matches) {
            spy.start();
        }
        mm.addListener(function(m) {
            if (m.matches) spy.start();
            else spy.stop();
        });
    })();
</script>
  </main>
  <div data-fill-with="conformance">
   <h2 class="heading no-num no-ref settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="heading no-num no-ref settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification.

    </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>

    </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this:

    </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a>
        
    <p>This is an example of an informative example.
    </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this:

    </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <section>
    <h3 class="heading no-num no-ref settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
    <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm.

    </p>
    <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize.
</p>
   </section>
  </div>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="heading no-num no-ref settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="heading no-num no-ref settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#activate-a-sensor-object">Activate a sensor object</a><span>, in § 8.3</span>
   <li><a href="#dom-sensor-activated">activated</a><span>, in § 7.1</span>
   <li><a href="#activated-sensor-objects">activated sensor objects</a><span>, in § 6.2</span>
   <li><a href="#calibration">calibration</a><span>, in § 5.1</span>
   <li><a href="#can-expose-sensor-readings">can expose sensor readings</a><span>, in § 5.5</span>
   <li><a href="#virtual-sensor-can-provide-readings-flag">can provide readings flag</a><span>, in § 9.1</span>
   <li><a href="#check-sensor-policy-controlled-features">Check sensor policy-controlled features</a><span>, in § 8.1</span>
   <li><a href="#connect-to-sensor">Connect to sensor</a><span>, in § 8.2</span>
   <li><a href="#dom-sensorerrorevent-sensorerrorevent">constructor(type, errorEventInitDict)</a><span>, in § 7.2</span>
   <li><a href="#deactivate-a-sensor-object">Deactivate a sensor object</a><span>, in § 8.4</span>
   <li><a href="#default-sensor">default sensor</a><span>, in § 5.3</span>
   <li><a href="#concept-device-sensor">device sensor</a><span>, in § 5.1</span>
   <li>
    error
    <ul>
     <li><a href="#dom-sensorerrorevent-error">attribute for SensorErrorEvent</a><span>, in § 7.2</span>
     <li><a href="#dom-sensorerroreventinit-error">dict-member for SensorErrorEventInit</a><span>, in § 7.2</span>
    </ul>
   <li><a href="#extension-sensor-interface">extension sensor interface</a><span>, in § 10.6</span>
   <li><a href="#extension-specification">extension specification</a><span>, in § 10</span>
   <li><a href="#focus-and-origin-check">Focus and origin check</a><span>, in § 8.14</span>
   <li><a href="#dom-sensor-frequency-slot">[[frequency]]</a><span>, in § 7.1.3</span>
   <li><a href="#dom-sensoroptions-frequency">frequency</a><span>, in § 7.1</span>
   <li><a href="#generic-sensor-permission-revocation-algorithm">Generic Sensor permission revocation algorithm</a><span>, in § 8.5</span>
   <li><a href="#get-a-platform-sensors-sampling-bounds">get a platform sensor’s sampling bounds</a><span>, in § 6.2</span>
   <li><a href="#get-value-from-latest-reading">Get value from latest reading</a><span>, in § 8.12</span>
   <li><a href="#dom-sensor-hasreading">hasReading</a><span>, in § 7.1</span>
   <li><a href="#high-level">high-level</a><span>, in § 5.2</span>
   <li><a href="#initialize-a-sensor-object">Initialize a sensor object</a><span>, in § 8</span>
   <li><a href="#dom-sensor-lasteventfiredat-slot">[[lastEventFiredAt]]</a><span>, in § 7.1.3</span>
   <li><a href="#latest-reading">latest reading</a><span>, in § 6.2</span>
   <li><a href="#limit-max-frequency">Limit maximum sampling frequency</a><span>, in § 4.3</span>
   <li><a href="#limit-number-of-delivered-readings">Limit number of delivered readings</a><span>, in § 4.3.2</span>
   <li><a href="#local-coordinate-system">local coordinate system</a><span>, in § 5.1</span>
   <li><a href="#low-level">low-level</a><span>, in § 5.2</span>
   <li>
    maximum sampling frequency
    <ul>
     <li><a href="#device-sensor-maximum-sampling-frequency">dfn for device sensor</a><span>, in § 5.4</span>
     <li><a href="#sensor-type-maximum-sampling-frequency">dfn for sensor type</a><span>, in § 6.1</span>
     <li><a href="#virtual-sensor-maximum-sampling-frequency">dfn for virtual sensor</a><span>, in § 9.1</span>
    </ul>
   <li>
    minimum sampling frequency
    <ul>
     <li><a href="#device-sensor-minimum-sampling-frequency">dfn for device sensor</a><span>, in § 5.4</span>
     <li><a href="#sensor-type-minimum-sampling-frequency">dfn for sensor type</a><span>, in § 6.1</span>
     <li><a href="#virtual-sensor-minimum-sampling-frequency">dfn for virtual sensor</a><span>, in § 9.1</span>
    </ul>
   <li><a href="#notify-activated-state">Notify activated state</a><span>, in § 8.10</span>
   <li><a href="#notify-error">Notify error</a><span>, in § 8.11</span>
   <li><a href="#notify-new-reading">Notify new reading</a><span>, in § 8.9</span>
   <li><a href="#dom-sensor-onactivate">onactivate</a><span>, in § 7.1</span>
   <li><a href="#dom-sensor-onerror">onerror</a><span>, in § 7.1</span>
   <li><a href="#dom-sensor-onreading">onreading</a><span>, in § 7.1</span>
   <li><a href="#parse-single-value-number-reading">Parse single-value number reading</a><span>, in § 9.2.3.1</span>
   <li><a href="#parse-xyz-reading">Parse XYZ reading</a><span>, in § 9.2.3.1.1</span>
   <li><a href="#dom-sensor-pendingreadingnotification-slot">[[pendingReadingNotification]]</a><span>, in § 7.1.3</span>
   <li><a href="#per-type-virtual-sensor-metadata">per-type virtual sensor metadata</a><span>, in § 9.1</span>
   <li><a href="#concept-platform-sensor">platform sensor</a><span>, in § 5.1</span>
   <li><a href="#virtual-sensor-metadata-reading-parsing-algorithm">reading parsing algorithm</a><span>, in § 9.1</span>
   <li><a href="#reading-quantization-algorithm">reading quantization algorithm</a><span>, in § 6.1</span>
   <li><a href="#reading-timestamp">reading timestamp</a><span>, in § 5.1</span>
   <li><a href="#reduce-accuracy">Reduce accuracy</a><span>, in § 4.3.3</span>
   <li><a href="#reporting-frequency">reporting frequency</a><span>, in § 5.4</span>
   <li><a href="#report-latest-reading-updated">Report latest reading updated</a><span>, in § 8.8</span>
   <li><a href="#virtual-sensor-requested-sampling-frequency">requested sampling frequency</a><span>, in § 9.1</span>
   <li><a href="#request-sensor-access">Request sensor access</a><span>, in § 8.13</span>
   <li><a href="#sampling-frequency">sampling frequency</a><span>, in § 5.4</span>
   <li><a href="#sensor">Sensor</a><span>, in § 7.1</span>
   <li><a href="#sensorerrorevent">SensorErrorEvent</a><span>, in § 7.2</span>
   <li><a href="#dictdef-sensorerroreventinit">SensorErrorEventInit</a><span>, in § 7.2</span>
   <li><a href="#dom-sensorerrorevent-sensorerrorevent">SensorErrorEvent(type, errorEventInitDict)</a><span>, in § 7.2</span>
   <li><a href="#sensor-feature-names">sensor feature names</a><span>, in § 6.1</span>
   <li><a href="#sensor-fusion">sensor fusion</a><span>, in § 5.2</span>
   <li><a href="#dictdef-sensoroptions">SensorOptions</a><span>, in § 7.1</span>
   <li><a href="#sensor-permission-names">sensor permission names</a><span>, in § 6.1</span>
   <li><a href="#sensor-reading">sensor reading</a><span>, in § 5.1</span>
   <li><a href="#sensor-task-source">sensor task source</a><span>, in § 7.1</span>
   <li><a href="#sensor-type">sensor type</a><span>, in § 6.1</span>
   <li><a href="#set-sensor-settings">Set sensor settings</a><span>, in § 8.6</span>
   <li><a href="#spatial-sensor">spatial sensor</a><span>, in § 5.1</span>
   <li><a href="#specific-conditions">Specific conditions</a><span>, in § 5.5</span>
   <li><a href="#dom-sensor-start">start()</a><span>, in § 7.1</span>
   <li><a href="#dom-sensor-state-slot">[[state]]</a><span>, in § 7.1.3</span>
   <li><a href="#dom-sensor-stop">stop()</a><span>, in § 7.1</span>
   <li><a href="#stop-sensor">Stop the sensor altogether</a><span>, in § 4.3.1</span>
   <li><a href="#supported-sensor-options">supported sensor options</a><span>, in § 10.6</span>
   <li><a href="#threshold-check-algorithm">threshold check algorithm</a><span>, in § 6.1</span>
   <li><a href="#dom-sensor-timestamp">timestamp</a><span>, in § 7.1</span>
   <li><a href="#update-latest-reading">Update latest reading</a><span>, in § 8.7</span>
   <li><a href="#virtual-sensor">virtual sensor</a><span>, in § 9.1</span>
   <li><a href="#virtual-sensor-mapping">virtual sensor mapping</a><span>, in § 9.1</span>
   <li><a href="#virtual-sensor-metadata">virtual sensor metadata</a><span>, in § 9.1</span>
   <li><a href="#virtual-sensor-type">virtual sensor type</a><span>, in § 9.1</span>
  </ul>
  <h3 class="heading no-num no-ref settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="85394472">Document</span>
     <li><span class="dfn-paneled" id="129bdae8">Event</span>
     <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
     <li><span class="dfn-paneled" id="6d74ac8d">constructor</span>
     <li><span class="dfn-paneled" id="a84c14c9">document</span>
     <li><span class="dfn-paneled" id="26b82890">event</span>
     <li><span class="dfn-paneled" id="06950d36">event listener</span>
     <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
     <li><span class="dfn-paneled" id="5216e1a0">node document</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="54ca6d3b">Boolean</span>
     <li><span class="dfn-paneled" id="5f9c7266">Number</span>
     <li><span class="dfn-paneled" id="a6e67972">Object</span>
     <li><span class="dfn-paneled" id="9032aa9e">String</span>
     <li><span class="dfn-paneled" id="b107f911">current realm</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
     <li><span class="dfn-paneled" id="1d8f7431">coarsened moments</span>
     <li><span class="dfn-paneled" id="28716de1">monotonic clock</span>
     <li><span class="dfn-paneled" id="69ea869d">relative high resolution time</span>
     <li><span class="dfn-paneled" id="479aeb1d">unsafe current time</span>
     <li><span class="dfn-paneled" id="9a31d086">unsafe shared current time</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="35972864">active document</span>
     <li><span class="dfn-paneled" id="57435598">allow</span>
     <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
     <li><span class="dfn-paneled" id="0d0390b4">browsing context</span>
     <li><span class="dfn-paneled" id="e61f04d5">currently focused area</span>
     <li><span class="dfn-paneled" id="06834943">DOM anchor</span>
     <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
     <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
     <li><span class="dfn-paneled" id="faf75970">gains focus</span>
     <li><span class="dfn-paneled" id="4b6086d7">global object</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="9c19b7fc">navigable</span>
     <li><span class="dfn-paneled" id="228be966">navigable <small>(for Window)</small></span>
     <li><span class="dfn-paneled" id="13dd6cae">node navigable</span>
     <li><span class="dfn-paneled" id="43ac8374">origin</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
     <li><span class="dfn-paneled" id="521818b9">same origin-domain</span>
     <li><span class="dfn-paneled" id="65181da8">secure context</span>
     <li><span class="dfn-paneled" id="0371e87a">spin the event loop</span>
     <li><span class="dfn-paneled" id="e270bd2a">task</span>
     <li><span class="dfn-paneled" id="2df777b6">task queue</span>
     <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
     <li><span class="dfn-paneled" id="e9c58cef">time origin</span>
     <li><span class="dfn-paneled" id="bd736ec6">top-level traversable</span>
     <li><span class="dfn-paneled" id="0ff9b6b9">top-level traversable <small>(for browsing context)</small></span>
     <li><span class="dfn-paneled" id="30717154">top-level traversable <small>(for navigable)</small></span>
     <li><span class="dfn-paneled" id="b4c365f8">visibility state</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a3b18719">append</span>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="36858240">boolean</span>
     <li><span class="dfn-paneled" id="ae8def21">contain <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="a326add7">contain <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="f937b7b6">continue</span>
     <li><span class="dfn-paneled" id="8958b003">entry</span>
     <li><span class="dfn-paneled" id="1243a891">exist</span>
     <li><span class="dfn-paneled" id="16d07e10">for each <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="45209803">for each <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
     <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)</small></span>
     <li><span class="dfn-paneled" id="d14a6f26">key</span>
     <li><span class="dfn-paneled" id="31db57e6">keys</span>
     <li><span class="dfn-paneled" id="3fca5a9e">map</span>
     <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
     <li><span class="dfn-paneled" id="692595fe">ordered set</span>
     <li><span class="dfn-paneled" id="99c988d6">remove <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="7d4424b2">remove <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="0e6b2056">set</span>
     <li><span class="dfn-paneled" id="0698d556">string</span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="98b32dd9">success</span>
     <li><span class="dfn-paneled" id="0e8de730">tuple</span>
     <li><span class="dfn-paneled" id="802b0fdd">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ebb01253">PermissionDescriptor</span>
     <li><span class="dfn-paneled" id="e740d7e5">name</span>
     <li><span class="dfn-paneled" id="409a61ca">permission revocation algorithm</span>
     <li><span class="dfn-paneled" id="d124397f">permission state</span>
     <li><span class="dfn-paneled" id="bcc085e3">request permission to use</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1570624a">default allowlist</span>
     <li><span class="dfn-paneled" id="cc890cc1">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-REQUEST]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="35725f70">permission request algorithm</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SECURITY-PRIVACY-QUESTIONNAIRE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="eeb0e150">same-origin policy violations</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBDRIVER2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="024a1df2">current browsing context</span>
     <li><span class="dfn-paneled" id="bb4c269e">error</span>
     <li><span class="dfn-paneled" id="040c67fa">extension command URI Template</span>
     <li><span class="dfn-paneled" id="09daa25c">extension commands</span>
     <li><span class="dfn-paneled" id="fa818daf">get a property</span>
     <li><span class="dfn-paneled" id="28855907">get a property with default</span>
     <li><span class="dfn-paneled" id="8da4d1e3">invalid argument</span>
     <li><span class="dfn-paneled" id="9a707b42">local end</span>
     <li><span class="dfn-paneled" id="82c23298">remote end steps</span>
     <li><span class="dfn-paneled" id="79d221ec">session</span>
     <li><span class="dfn-paneled" id="cb9acc83">set a property</span>
     <li><span class="dfn-paneled" id="87236d2b">url variable</span>
     <li><span class="dfn-paneled" id="7482107b">WebDriver error code</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
     <li><span class="dfn-paneled" id="0be3911e">NotReadableError</span>
     <li><span class="dfn-paneled" id="3182eb71">NotSupportedError</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="5bf9ea61">attribute</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="6a73c310">create</span>
     <li><span class="dfn-paneled" id="bec98d30">dictionary</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="980252f2">identifier</span>
     <li><span class="dfn-paneled" id="e451c8f4">inherited dictionaries</span>
     <li><span class="dfn-paneled" id="fc14fa8a">inherited interfaces</span>
     <li><span class="dfn-paneled" id="1422ec4e">interface</span>
     <li><span class="dfn-paneled" id="bfc48225">read only</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
    </ul>
  </ul>
  <h2 class="heading no-num no-ref settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="heading no-num no-ref settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-hr-time">[HR-TIME]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-permissions">[PERMISSIONS]
   <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL: <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
   <dt id="biblio-permissions-policy">[PERMISSIONS-POLICY]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-permissions-request">[PERMISSIONS-REQUEST]
   <dd><a href="https://wicg.github.io/permissions-request/"><cite>Requesting Permissions</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/permissions-request/">https://wicg.github.io/permissions-request/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-webdriver2">[WEBDRIVER2]
   <dd>Simon Stewart; David Burns. <a href="https://w3c.github.io/webdriver/"><cite>WebDriver</cite></a>. URL: <a href="https://w3c.github.io/webdriver/">https://w3c.github.io/webdriver/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="heading no-num no-ref settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-accelprint">[ACCELPRINT]
   <dd>Dey, Sanorita, et al.. <a href="http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf"><cite>AccelPrint: Imperfections of Accelerometers Make Smartphones Trackable</cite></a>. 2014. Informational. URL: <a href="http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf">http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf</a>
   <dt id="biblio-api-design-principles">[API-DESIGN-PRINCIPLES]
   <dd>Martin Thomson; Jeffrey Yasskin. <a href="https://w3ctag.github.io/design-principles/"><cite>Web Platform Design Principles</cite></a>. URL: <a href="https://w3ctag.github.io/design-principles/">https://w3ctag.github.io/design-principles/</a>
   <dt id="biblio-coordinates-transformation">[COORDINATES-TRANSFORMATION]
   <dd>George W. Collins, II. <a href="http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf"><cite>The Foundations of Celestial Mechanics</cite></a>. 2004. Informational. URL: <a href="http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf">http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf</a>
   <dt id="biblio-extennnnsible">[EXTENNNNSIBLE]
   <dd><a href="https://extensiblewebmanifesto.org/"><cite>The Extensible Web Manifesto</cite></a>. 10 June 2013. URL: <a href="https://extensiblewebmanifesto.org/">https://extensiblewebmanifesto.org/</a>
   <dt id="biblio-generic-sensor-usecases">[GENERIC-SENSOR-USECASES]
   <dd>Rick Waldron, Mikhail Pozdnyakov, Alexander Shalamov. <a href="https://w3c.github.io/sensors/usecases"><cite>Sensor Use Cases</cite></a>. 2017. Note. URL: <a href="https://w3c.github.io/sensors/usecases">https://w3c.github.io/sensors/usecases</a>
   <dt id="biblio-geolocation-api">[GEOLOCATION-API]
   <dd>Marcos Caceres; Reilly Grant. <a href="https://w3c.github.io/geolocation/"><cite>Geolocation</cite></a>. URL: <a href="https://w3c.github.io/geolocation/">https://w3c.github.io/geolocation/</a>
   <dt id="biblio-gyrospeechrecognition">[GYROSPEECHRECOGNITION]
   <dd>Michalevsky, Y., Boneh, D. and Nakibly, G.. <a href="https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf"><cite>Gyrophone: Recognizing Speech from Gyroscope Signals</cite></a>. 2014. Informational. URL: <a href="https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf">https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf</a>
   <dt id="biblio-mobilesensors">[MOBILESENSORS]
   <dd>Manish J. Gajjar. <cite>Mobile Sensors and Context-Aware Computing</cite>. 2017. Informational. 
   <dt id="biblio-motion-sensors">[MOTION-SENSORS]
   <dd>Kenneth Christiansen; Alexander Shalamov. <a href="https://w3c.github.io/motion-sensors/"><cite>Motion Sensors Explainer</cite></a>. URL: <a href="https://w3c.github.io/motion-sensors/">https://w3c.github.io/motion-sensors/</a>
   <dt id="biblio-orientation-event">[ORIENTATION-EVENT]
   <dd>Reilly Grant; Marcos Caceres. <a href="https://w3c.github.io/deviceorientation/"><cite>Device Orientation and Motion</cite></a>. URL: <a href="https://w3c.github.io/deviceorientation/">https://w3c.github.io/deviceorientation/</a>
   <dt id="biblio-powerful-features">[POWERFUL-FEATURES]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-secure-contexts/"><cite>Secure Contexts</cite></a>. URL: <a href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>
   <dt id="biblio-qudt">[QUDT]
   <dd><a href="https://doi.org/10.25504/FAIRsharing.d3pqw7"><cite>Quantities, Units, Dimensions and Types (QUDT)</cite></a>. 2011. URL: <a href="https://doi.org/10.25504/FAIRsharing.d3pqw7">https://doi.org/10.25504/FAIRsharing.d3pqw7</a>
   <dt id="biblio-rfc6454">[RFC6454]
   <dd>A. Barth. <a href="https://www.rfc-editor.org/rfc/rfc6454"><cite>The Web Origin Concept</cite></a>. December 2011. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6454">https://www.rfc-editor.org/rfc/rfc6454</a>
   <dt id="biblio-security-privacy-questionnaire">[SECURITY-PRIVACY-QUESTIONNAIRE]
   <dd>Theresa O'Connor; Peter Snyder; Simone Onofri. <a href="https://w3c.github.io/security-questionnaire/"><cite>Self-Review Questionnaire: Security and Privacy</cite></a>. URL: <a href="https://w3c.github.io/security-questionnaire/">https://w3c.github.io/security-questionnaire/</a>
   <dt id="biblio-si">[SI]
   <dd><a href="http://www.bipm.org/en/publications/si-brochure/"><cite>SI Brochure: The International System of Units (SI), 8th edition</cite></a>. 2014. 8th Edition. URL: <a href="http://www.bipm.org/en/publications/si-brochure/">http://www.bipm.org/en/publications/si-brochure/</a>
   <dt id="biblio-stealingpinsviasensors">[STEALINGPINSVIASENSORS]
   <dd>Maryam Mehrnezhad, Ehsan Toreini, Siamak F. Shahandashti, Feng Hao. <a href="https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst"><cite>Stealing PINs via mobile sensors: actual risk versus user perception</cite></a>. 2017. Informational. URL: <a href="https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst">https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst</a>
  </dl>
  <h2 class="heading no-num no-ref settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <a href="#sensor"><code><c- g>Sensor</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-sensor-activated"><code><c- g>activated</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-sensor-hasreading"><code><c- g>hasReading</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <a data-readonly data-type="DOMHighResTimeStamp?" href="#dom-sensor-timestamp"><code><c- g>timestamp</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a href="#dom-sensor-start"><code><c- g>start</c-></code></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a href="#dom-sensor-stop"><code><c- g>stop</c-></code></a>();
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onreading"><code><c- g>onreading</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onactivate"><code><c- g>onactivate</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onerror"><code><c- g>onerror</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-sensoroptions"><code><c- g>SensorOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double" href="#dom-sensoroptions-frequency"><code><c- g>frequency</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <a href="#sensorerrorevent"><code><c- g>SensorErrorEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-sensorerrorevent-sensorerrorevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-sensorerroreventinit"><c- n>SensorErrorEventInit</c-></a> <a href="#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict"><code><c- g>errorEventInitDict</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException"><c- n>DOMException</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMException" href="#dom-sensorerrorevent-error"><c- g>error</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-sensorerroreventinit"><code><c- g>SensorErrorEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException"><c- n>DOMException</c-></a> <a data-type="DOMException" href="#dom-sensorerroreventinit-error"><code><c- g>error</c-></code></a>;
};

</pre>
  <details class="mdn-anno unpositioned" data-anno-for="sensor-onactivate">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/activate_event" title="The activate event is fired when a sensor becomes activated. It means that it will start obtaining readings.">Sensor/activate_event</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="sensor-activated">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/activated" title="The activated read-only property of the Sensor interface returns a boolean value indicating whether the sensor is active.">Sensor/activated</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="sensor-onerror">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/error_event" title="The error event is fired when an exception occurs on a sensor.">Sensor/error_event</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="sensor-has-reading">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/hasReading" title="The hasReading read-only property of the Sensor interface returns a boolean value indicating whether the sensor has a reading.">Sensor/hasReading</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="sensor-onreading">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/reading_event" title="The reading event is fired when a new reading is available on a sensor.">Sensor/reading_event</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="sensor-start">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/start" title="The start method activates one of the sensors based on Sensor.">Sensor/start</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="sensor-stop">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/stop" title="The stop method of the Sensor interface deactivates the current sensor.">Sensor/stop</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="sensor-timestamp">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/timestamp" title="The timestamp read-only property of the Sensor interface returns the timestamp of the latest sensor reading.">Sensor/timestamp</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="the-sensor-interface">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor" title="The Sensor interface of the Sensor APIs is the base class for all the other sensor interfaces. This interface cannot be used directly. Instead it provides properties, event handlers, and methods accessed by interfaces that inherit from it.">Sensor</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-sensorerrorevent-sensorerrorevent">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent/SensorErrorEvent" title="The SensorErrorEvent constructor creates a new SensorErrorEvent object which provides information about errors thrown by any of the interfaces based on Sensor.">SensorErrorEvent/SensorErrorEvent</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-sensorerrorevent-error">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent/error" title="The error read-only property of the SensorErrorEvent interface returns the DOMException object passed in the event&apos;s constructor.">SensorErrorEvent/error</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="the-sensor-error-event-interface">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent" title="The SensorErrorEvent interface of the Sensor APIs provides information about errors thrown by a Sensor or derived interface.">SensorErrorEvent</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>67+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="permissions-policy">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/accelerometer" title="The HTTP Permissions-Policy header accelerometer directive controls whether the current document is allowed to gather information about the acceleration of the device through the Accelerometer interface.">Headers/Permissions-Policy/accelerometer</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>88+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>88+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/ambient-light-sensor" title="The HTTP Permissions-Policy header ambient-light-sensor directive controls whether the current document is allowed to gather information about the amount of light in the environment around the device through the AmbientLightSensor interface.">Headers/Permissions-Policy/ambient-light-sensor</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>88+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>88+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/gyroscope" title="The HTTP Permissions-Policy header gyroscope directive controls whether the current document is allowed to gather information about the orientation of the device through the Gyroscope interface.">Headers/Permissions-Policy/gyroscope</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>88+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>88+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/magnetometer" title="The HTTP Permissions-Policy header magnetometer directive controls whether the current document is allowed to gather information about the orientation of the device through the Magnetometer interface.">Headers/Permissions-Policy/magnetometer</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>88+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>88+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>None</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"024a1df2": {"dfnID":"024a1df2","dfnText":"current browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-current-browsing-context"},{"id":"ref-for-dfn-current-browsing-context\u2460"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-dfn-current-browsing-context\u2461"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-dfn-current-browsing-context\u2462"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-current-browsing-context\u2463"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-current-browsing-context"},
"0371e87a": {"dfnID":"0371e87a","dfnText":"spin the event loop","external":true,"refSections":[{"refs":[{"id":"ref-for-spin-the-event-loop"}],"title":"8.9. Report latest reading updated"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop"},
"040c67fa": {"dfnID":"040c67fa","dfnText":"extension command URI Template","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-extension-command-uri-template"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-dfn-extension-command-uri-template\u2460"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-dfn-extension-command-uri-template\u2461"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-extension-command-uri-template\u2462"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"},
"06834943": {"dfnID":"06834943","dfnText":"DOM anchor","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-anchor"}],"title":"8.15. Focus and origin check"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor"},
"06950d36": {"dfnID":"06950d36","dfnText":"event listener","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-listener"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-concept-event-listener\u2460"}],"title":"10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?"}],"url":"https://dom.spec.whatwg.org/#concept-event-listener"},
"0698d556": {"dfnID":"0698d556","dfnText":"string","external":true,"refSections":[{"refs":[{"id":"ref-for-string"}],"title":"9.2.3.1.1. Parse single-value number reading"}],"url":"https://infra.spec.whatwg.org/#string"},
"09daa25c": {"dfnID":"09daa25c","dfnText":"extension commands","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-extension-commands"}],"title":"9. Automation"},{"refs":[{"id":"ref-for-dfn-extension-commands\u2460"},{"id":"ref-for-dfn-extension-commands\u2461"},{"id":"ref-for-dfn-extension-commands\u2462"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-dfn-extension-commands\u2463"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-dfn-extension-commands\u2464"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-extension-commands\u2465"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-extension-commands"},
"0be3911e": {"dfnID":"0be3911e","dfnText":"NotReadableError","external":true,"refSections":[{"refs":[{"id":"ref-for-notreadableerror"}],"title":"7.1.7. Sensor.start()"}],"url":"https://webidl.spec.whatwg.org/#notreadableerror"},
"0d0390b4": {"dfnID":"0d0390b4","dfnText":"browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-browsing-context"},{"id":"ref-for-browsing-context\u2460"},{"id":"ref-for-browsing-context\u2461"},{"id":"ref-for-browsing-context\u2462"}],"title":"6.2. Sensor"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"},
"0e6b2056": {"dfnID":"0e6b2056","dfnText":"set","external":true,"refSections":[{"refs":[{"id":"ref-for-map-set"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-map-set\u2460"},{"id":"ref-for-map-set\u2461"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-map-set\u2462"}],"title":"9.2.3.1.1. Parse single-value number reading"},{"refs":[{"id":"ref-for-map-set\u2463"},{"id":"ref-for-map-set\u2464"},{"id":"ref-for-map-set\u2465"}],"title":"9.2.3.1.2. Parse XYZ reading"}],"url":"https://infra.spec.whatwg.org/#map-set"},
"0e8de730": {"dfnID":"0e8de730","dfnText":"tuple","external":true,"refSections":[{"refs":[{"id":"ref-for-tuple"}],"title":"6.2. Sensor"}],"url":"https://infra.spec.whatwg.org/#tuple"},
"0e9f636b": {"dfnID":"0e9f636b","dfnText":"DOMHighResTimeStamp","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-domhighrestimestamp"}],"title":"7.1. The Sensor Interface"}],"url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"0ff9b6b9": {"dfnID":"0ff9b6b9","dfnText":"top-level traversable (for browsing context)","external":true,"refSections":[{"refs":[{"id":"ref-for-bc-traversable"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-bc-traversable\u2460"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-bc-traversable\u2461"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-bc-traversable\u2462"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"},
"1243a891": {"dfnID":"1243a891","dfnText":"exist","external":true,"refSections":[{"refs":[{"id":"ref-for-map-exists"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-map-exists\u2460"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-map-exists\u2461"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-map-exists\u2462"},{"id":"ref-for-map-exists\u2463"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-map-exists\u2464"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-map-exists\u2465"},{"id":"ref-for-map-exists\u2466"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-map-exists\u2467"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://infra.spec.whatwg.org/#map-exists"},
"129bdae8": {"dfnID":"129bdae8","dfnText":"Event","external":true,"refSections":[{"refs":[{"id":"ref-for-event"},{"id":"ref-for-event\u2460"}],"title":"7.2. The SensorErrorEvent Interface"}],"url":"https://dom.spec.whatwg.org/#event"},
"13dd6cae": {"dfnID":"13dd6cae","dfnText":"node navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-node-navigable"}],"title":"8.15. Focus and origin check"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable"},
"1422ec4e": {"dfnID":"1422ec4e","dfnText":"interface","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-interface"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-dfn-interface\u2460"}],"title":"10.6. Definition Requirements"}],"url":"https://webidl.spec.whatwg.org/#dfn-interface"},
"1570624a": {"dfnID":"1570624a","dfnText":"default allowlist","external":true,"refSections":[{"refs":[{"id":"ref-for-policy-controlled-feature-default-allowlist"},{"id":"ref-for-policy-controlled-feature-default-allowlist\u2460"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist"},
"16d07e10": {"dfnID":"16d07e10","dfnText":"for each (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-iterate"}],"title":"8.2. Check sensor policy-controlled features"},{"refs":[{"id":"ref-for-list-iterate\u2460"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-list-iterate\u2461"}],"title":"8.14. Request sensor access"}],"url":"https://infra.spec.whatwg.org/#list-iterate"},
"1d8f7431": {"dfnID":"1d8f7431","dfnText":"coarsened moments","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-moment"}],"title":"8.8. Update latest reading"}],"url":"https://w3c.github.io/hr-time/#dfn-moment"},
"228be966": {"dfnID":"228be966","dfnText":"navigable (for Window)","external":true,"refSections":[{"refs":[{"id":"ref-for-window-navigable"}],"title":"8.3. Connect to sensor"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable"},
"26b82890": {"dfnID":"26b82890","dfnText":"event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event"}],"title":"7.1. The Sensor Interface"}],"url":"https://dom.spec.whatwg.org/#concept-event"},
"28716de1": {"dfnID":"28716de1","dfnText":"monotonic clock","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-monotonic-clock"},{"id":"ref-for-dfn-monotonic-clock\u2460"}],"title":"8.8. Update latest reading"}],"url":"https://w3c.github.io/hr-time/#dfn-monotonic-clock"},
"28855907": {"dfnID":"28855907","dfnText":"get a property with default","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-getting-the-property-with-default"},{"id":"ref-for-dfn-getting-the-property-with-default\u2460"},{"id":"ref-for-dfn-getting-the-property-with-default\u2461"}],"title":"9.2.1. Create virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default"},
"2bc0cdf4": {"dfnID":"2bc0cdf4","dfnText":"EventTarget","external":true,"refSections":[{"refs":[{"id":"ref-for-eventtarget"}],"title":"7.1. The Sensor Interface"}],"url":"https://dom.spec.whatwg.org/#eventtarget"},
"2df777b6": {"dfnID":"2df777b6","dfnText":"task queue","external":true,"refSections":[{"refs":[{"id":"ref-for-task-queue"}],"title":"8.5. Deactivate a sensor object"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"},
"30717154": {"dfnID":"30717154","dfnText":"top-level traversable (for navigable)","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-top"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-nav-top\u2460"}],"title":"8.15. Focus and origin check"},{"refs":[{"id":"ref-for-nav-top\u2461"}],"title":"9.1. Virtual Sensors"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"},
"3182eb71": {"dfnID":"3182eb71","dfnText":"NotSupportedError","external":true,"refSections":[{"refs":[{"id":"ref-for-notsupportederror"}],"title":"8.1. Initialize a sensor object"}],"url":"https://webidl.spec.whatwg.org/#notsupportederror"},
"31db57e6": {"dfnID":"31db57e6","dfnText":"keys","external":true,"refSections":[{"refs":[{"id":"ref-for-map-getting-the-keys"}],"title":"6.2. Sensor"}],"url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"35725f70": {"dfnID":"35725f70","dfnText":"permission request algorithm","external":true,"refSections":[{"refs":[{"id":"ref-for-permission-request-algorithm"}],"title":"Unnumbered Section"}],"url":"https://wicg.github.io/permissions-request/#permission-request-algorithm"},
"35972864": {"dfnID":"35972864","dfnText":"active document","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-document"}],"title":"4.2.3. Focused Area"},{"refs":[{"id":"ref-for-nav-document\u2460"}],"title":"4.2.4. Visibility State"},{"refs":[{"id":"ref-for-nav-document\u2461"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-nav-document\u2462"}],"title":"8.2. Check sensor policy-controlled features"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"},
"3610bd67": {"dfnID":"3610bd67","dfnText":"allowed to use","external":true,"refSections":[{"refs":[{"id":"ref-for-allowed-to-use"}],"title":"4.2.2. Permissions Policy"},{"refs":[{"id":"ref-for-allowed-to-use\u2460"},{"id":"ref-for-allowed-to-use\u2461"}],"title":"8.2. Check sensor policy-controlled features"}],"url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"},
"36858240": {"dfnID":"36858240","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-boolean"}],"title":"9.1. Virtual Sensors"}],"url":"https://infra.spec.whatwg.org/#boolean"},
"3fca5a9e": {"dfnID":"3fca5a9e","dfnText":"map","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-map"},{"id":"ref-for-ordered-map\u2460"},{"id":"ref-for-ordered-map\u2461"},{"id":"ref-for-ordered-map\u2462"},{"id":"ref-for-ordered-map\u2463"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-ordered-map\u2464"},{"id":"ref-for-ordered-map\u2465"},{"id":"ref-for-ordered-map\u2466"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-ordered-map\u2467"}],"title":"10.7. Automation"}],"url":"https://infra.spec.whatwg.org/#ordered-map"},
"4013a022": {"dfnID":"4013a022","dfnText":"this","external":true,"refSections":[{"refs":[{"id":"ref-for-this"}],"title":"7.1.4. Sensor.activated"},{"refs":[{"id":"ref-for-this\u2460"}],"title":"7.1.5. Sensor.hasReading"},{"refs":[{"id":"ref-for-this\u2461"},{"id":"ref-for-this\u2462"}],"title":"7.1.6. Sensor.timestamp"},{"refs":[{"id":"ref-for-this\u2463"},{"id":"ref-for-this\u2464"},{"id":"ref-for-this\u2465"},{"id":"ref-for-this\u2466"},{"id":"ref-for-this\u2467"},{"id":"ref-for-this\u2468"},{"id":"ref-for-this\u2460\u24ea"},{"id":"ref-for-this\u2460\u2460"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-this\u2460\u2461"},{"id":"ref-for-this\u2460\u2462"},{"id":"ref-for-this\u2460\u2463"}],"title":"7.1.8. Sensor.stop()"},{"refs":[{"id":"ref-for-this\u2460\u2464"}],"title":"7.1.10. Sensor.onactivate"}],"url":"https://webidl.spec.whatwg.org/#this"},
"409a61ca": {"dfnID":"409a61ca","dfnText":"permission revocation algorithm","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-permission-revocation-algorithm"}],"title":"6.1. Sensor Type"}],"url":"https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm"},
"43ac8374": {"dfnID":"43ac8374","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-origin"},{"id":"ref-for-concept-settings-object-origin\u2460"}],"title":"8.15. Focus and origin check"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"},
"44a7708c": {"dfnID":"44a7708c","dfnText":"EventInit","external":true,"refSections":[{"refs":[{"id":"ref-for-dictdef-eventinit"}],"title":"7.2. The SensorErrorEvent Interface"}],"url":"https://dom.spec.whatwg.org/#dictdef-eventinit"},
"45209803": {"dfnID":"45209803","dfnText":"for each (for map)","external":true,"refSections":[{"refs":[{"id":"ref-for-map-iterate"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-map-iterate\u2460"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-map-iterate\u2461"}],"title":"8.8. Update latest reading"}],"url":"https://infra.spec.whatwg.org/#map-iterate"},
"479aeb1d": {"dfnID":"479aeb1d","dfnText":"unsafe current time","external":true,"refSections":[{"refs":[{"id":"ref-for-monotonic-clock-unsafe-current-time"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-monotonic-clock-unsafe-current-time\u2460"},{"id":"ref-for-monotonic-clock-unsafe-current-time\u2461"}],"title":"8.8. Update latest reading"}],"url":"https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"},
"4b6086d7": {"dfnID":"4b6086d7","dfnText":"global object","external":true,"refSections":[{"refs":[{"id":"ref-for-global-object"}],"title":"8.3. Connect to sensor"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#global-object"},
"5216e1a0": {"dfnID":"5216e1a0","dfnText":"node document","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-node-document"}],"title":"8.15. Focus and origin check"}],"url":"https://dom.spec.whatwg.org/#concept-node-document"},
"521818b9": {"dfnID":"521818b9","dfnText":"same origin-domain","external":true,"refSections":[{"refs":[{"id":"ref-for-same-origin-domain"}],"title":"8.15. Focus and origin check"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain"},
"5372cca8": {"dfnID":"5372cca8","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-boolean"},{"id":"ref-for-idl-boolean\u2460"}],"title":"7.1. The Sensor Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"54ca6d3b": {"dfnID":"54ca6d3b","dfnText":"Boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-boolean-objects"}],"title":"9.2.1. Create virtual sensor"}],"url":"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects"},
"57435598": {"dfnID":"57435598","dfnText":"allow","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-iframe-allow"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow"},
"5afbefcd": {"dfnID":"5afbefcd","dfnText":"item (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-item"}],"title":"5.4. Sampling Frequency and Reporting Frequency"}],"url":"https://infra.spec.whatwg.org/#list-item"},
"5bf9ea61": {"dfnID":"5bf9ea61","dfnText":"attribute","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-attribute"},{"id":"ref-for-dfn-attribute\u2460"},{"id":"ref-for-dfn-attribute\u2461"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-dfn-attribute\u2462"},{"id":"ref-for-dfn-attribute\u2463"}],"title":"10.6. Definition Requirements"}],"url":"https://webidl.spec.whatwg.org/#dfn-attribute"},
"5f90bbfb": {"dfnID":"5f90bbfb","dfnText":"undefined","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-undefined"},{"id":"ref-for-idl-undefined\u2460"}],"title":"7.1. The Sensor Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"5f9c7266": {"dfnID":"5f9c7266","dfnText":"Number","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-number-objects"},{"id":"ref-for-sec-number-objects\u2460"},{"id":"ref-for-sec-number-objects\u2461"},{"id":"ref-for-sec-number-objects\u2462"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-sec-number-objects\u2463"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-sec-number-objects\u2464"}],"title":"9.2.3.1.1. Parse single-value number reading"},{"refs":[{"id":"ref-for-sec-number-objects\u2465"},{"id":"ref-for-sec-number-objects\u2466"},{"id":"ref-for-sec-number-objects\u2467"}],"title":"9.2.3.1.2. Parse XYZ reading"}],"url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects"},
"5fd23811": {"dfnID":"5fd23811","dfnText":"fire an event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-fire"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-concept-event-fire\u2460"}],"title":"8.10. Notify new reading"},{"refs":[{"id":"ref-for-concept-event-fire\u2461"}],"title":"8.11. Notify activated state"},{"refs":[{"id":"ref-for-concept-event-fire\u2462"}],"title":"8.12. Notify error"}],"url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"65181da8": {"dfnID":"65181da8","dfnText":"secure context","external":true,"refSections":[{"refs":[{"id":"ref-for-secure-context"}],"title":"4.2.1. Secure Context"},{"refs":[{"id":"ref-for-secure-context\u2460"}],"title":"5.5. Conditions to expose sensor readings"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"},
"692595fe": {"dfnID":"692595fe","dfnText":"ordered set","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-set"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-ordered-set\u2460"},{"id":"ref-for-ordered-set\u2461"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-ordered-set\u2462"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-ordered-set\u2463"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-ordered-set\u2464"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-ordered-set\u2465"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-ordered-set\u2466"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"https://infra.spec.whatwg.org/#ordered-set"},
"69ea869d": {"dfnID":"69ea869d","dfnText":"relative high resolution time","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-relative-high-resolution-time"}],"title":"7.1.6. Sensor.timestamp"}],"url":"https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time"},
"6a5a59a0": {"dfnID":"6a5a59a0","dfnText":"event handler","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handlers"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-event-handlers\u2460"}],"title":"7.1.12. Event handlers"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"6a73c310": {"dfnID":"6a73c310","dfnText":"create","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-create-exception"},{"id":"ref-for-dfn-create-exception\u2460"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-dfn-create-exception\u2461"}],"title":"8.6. Generic Sensor permission revocation algorithm"}],"url":"https://webidl.spec.whatwg.org/#dfn-create-exception"},
"6b815fdd": {"dfnID":"6b815fdd","dfnText":"is empty","external":true,"refSections":[{"refs":[{"id":"ref-for-list-is-empty"},{"id":"ref-for-list-is-empty\u2460"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-list-is-empty\u2461"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-list-is-empty\u2462"}],"title":"8.7. Set sensor settings"}],"url":"https://infra.spec.whatwg.org/#list-is-empty"},
"6d74ac8d": {"dfnID":"6d74ac8d","dfnText":"constructor","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-constructor"}],"title":"7.2. The SensorErrorEvent Interface"}],"url":"https://dom.spec.whatwg.org/#concept-event-constructor"},
"7482107b": {"dfnID":"7482107b","dfnText":"WebDriver error code","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-error-code"},{"id":"ref-for-dfn-error-code\u2460"},{"id":"ref-for-dfn-error-code\u2461"},{"id":"ref-for-dfn-error-code\u2462"},{"id":"ref-for-dfn-error-code\u2463"},{"id":"ref-for-dfn-error-code\u2464"},{"id":"ref-for-dfn-error-code\u2465"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-dfn-error-code\u2466"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-dfn-error-code\u2467"},{"id":"ref-for-dfn-error-code\u2468"},{"id":"ref-for-dfn-error-code\u2460\u24ea"},{"id":"ref-for-dfn-error-code\u2460\u2460"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-error-code\u2460\u2461"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-error-code"},
"77b4c09a": {"dfnID":"77b4c09a","dfnText":"assert","external":true,"refSections":[{"refs":[{"id":"ref-for-assert"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-assert\u2460"},{"id":"ref-for-assert\u2461"}],"title":"8.9. Report latest reading updated"}],"url":"https://infra.spec.whatwg.org/#assert"},
"79d221ec": {"dfnID":"79d221ec","dfnText":"session","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-sessions"}],"title":"9.2.1. Create virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-sessions"},
"7d4424b2": {"dfnID":"7d4424b2","dfnText":"remove (for map)","external":true,"refSections":[{"refs":[{"id":"ref-for-map-remove"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://infra.spec.whatwg.org/#map-remove"},
"802b0fdd": {"dfnID":"802b0fdd","dfnText":"value","external":true,"refSections":[{"refs":[{"id":"ref-for-map-value"},{"id":"ref-for-map-value\u2460"}],"title":"6.2. Sensor"}],"url":"https://infra.spec.whatwg.org/#map-value"},
"82c23298": {"dfnID":"82c23298","dfnText":"remote end steps","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-remote-end-steps"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-dfn-remote-end-steps\u2460"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-dfn-remote-end-steps\u2461"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-remote-end-steps\u2462"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-remote-end-steps"},
"84b454ff": {"dfnID":"84b454ff","dfnText":"ordered map","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-map"},{"id":"ref-for-ordered-map\u2460"},{"id":"ref-for-ordered-map\u2461"},{"id":"ref-for-ordered-map\u2462"},{"id":"ref-for-ordered-map\u2463"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-ordered-map\u2464"},{"id":"ref-for-ordered-map\u2465"},{"id":"ref-for-ordered-map\u2466"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-ordered-map\u2467"}],"title":"10.7. Automation"}],"url":"https://infra.spec.whatwg.org/#ordered-map"},
"85394472": {"dfnID":"85394472","dfnText":"Document","external":true,"refSections":[{"refs":[{"id":"ref-for-document"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-document\u2460"}],"title":"8.15. Focus and origin check"}],"url":"https://dom.spec.whatwg.org/#document"},
"860300d4": {"dfnID":"860300d4","dfnText":"implementation-defined","external":true,"refSections":[{"refs":[{"id":"ref-for-implementation-defined"},{"id":"ref-for-implementation-defined\u2460"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-implementation-defined\u2461"},{"id":"ref-for-implementation-defined\u2462"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-implementation-defined\u2463"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-implementation-defined\u2464"},{"id":"ref-for-implementation-defined\u2465"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-implementation-defined\u2466"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-implementation-defined\u2467"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-implementation-defined\u2468"},{"id":"ref-for-implementation-defined\u2460\u24ea"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-implementation-defined\u2460\u2460"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-implementation-defined\u2460\u2461"}],"title":"9.2.3. Update virtual sensor reading"}],"url":"https://infra.spec.whatwg.org/#implementation-defined"},
"87236d2b": {"dfnID":"87236d2b","dfnText":"url variable","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-url-variables"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-dfn-url-variables\u2460"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-url-variables\u2461"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-url-variables"},
"8855a9aa": {"dfnID":"8855a9aa","dfnText":"DOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMString"}],"title":"7.2. The SensorErrorEvent Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-Exposed\u2460"}],"title":"7.2. The SensorErrorEvent Interface"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8958b003": {"dfnID":"8958b003","dfnText":"entry","external":true,"refSections":[{"refs":[{"id":"ref-for-map-entry"},{"id":"ref-for-map-entry\u2460"},{"id":"ref-for-map-entry\u2461"},{"id":"ref-for-map-entry\u2462"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-map-entry\u2463"}],"title":"10.7. Automation"}],"url":"https://infra.spec.whatwg.org/#map-entry"},
"8c800cdf": {"dfnID":"8c800cdf","dfnText":"double","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-double"}],"title":"7.1. The Sensor Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-double"},
"8da4d1e3": {"dfnID":"8da4d1e3","dfnText":"invalid argument","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-invalid-argument"},{"id":"ref-for-dfn-invalid-argument\u2460"},{"id":"ref-for-dfn-invalid-argument\u2461"},{"id":"ref-for-dfn-invalid-argument\u2462"},{"id":"ref-for-dfn-invalid-argument\u2463"},{"id":"ref-for-dfn-invalid-argument\u2464"},{"id":"ref-for-dfn-invalid-argument\u2465"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-dfn-invalid-argument\u2466"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-dfn-invalid-argument\u2467"},{"id":"ref-for-dfn-invalid-argument\u2468"},{"id":"ref-for-dfn-invalid-argument\u2460\u24ea"},{"id":"ref-for-dfn-invalid-argument\u2460\u2460"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-invalid-argument\u2460\u2461"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-invalid-argument"},
"9032aa9e": {"dfnID":"9032aa9e","dfnText":"String","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-string-objects"},{"id":"ref-for-sec-string-objects\u2460"}],"title":"9.2.1. Create virtual sensor"}],"url":"https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects"},
"980252f2": {"dfnID":"980252f2","dfnText":"identifier","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-identifier"},{"id":"ref-for-dfn-identifier\u2460"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-dfn-identifier\u2461"}],"title":"10.6. Definition Requirements"}],"url":"https://webidl.spec.whatwg.org/#dfn-identifier"},
"984221ca": {"dfnID":"984221ca","dfnText":"struct","external":true,"refSections":[{"refs":[{"id":"ref-for-struct"},{"id":"ref-for-struct\u2460"}],"title":"9.1. Virtual Sensors"}],"url":"https://infra.spec.whatwg.org/#struct"},
"98b32dd9": {"dfnID":"98b32dd9","dfnText":"success","external":true,"refSections":[{"refs":[{"id":"ref-for-success"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-success\u2460"},{"id":"ref-for-success\u2461"},{"id":"ref-for-success\u2462"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-success\u2463"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-success\u2464"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://infra.spec.whatwg.org/#success"},
"99c988d6": {"dfnID":"99c988d6","dfnText":"remove (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-remove"}],"title":"8.5. Deactivate a sensor object"}],"url":"https://infra.spec.whatwg.org/#list-remove"},
"9a31d086": {"dfnID":"9a31d086","dfnText":"unsafe shared current time","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-unsafe-shared-current-time"}],"title":"8.8. Update latest reading"}],"url":"https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time"},
"9a707b42": {"dfnID":"9a707b42","dfnText":"local end","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-local-ends"}],"title":"9.2.1. Create virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-local-ends"},
"9c19b7fc": {"dfnID":"9c19b7fc","dfnText":"navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-navigable"}],"title":"4.2.3. Focused Area"},{"refs":[{"id":"ref-for-navigable\u2460"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-navigable\u2461"},{"id":"ref-for-navigable\u2462"},{"id":"ref-for-navigable\u2463"}],"title":"9.1. Virtual Sensors"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"},
"9c4c1e66": {"dfnID":"9c4c1e66","dfnText":"relevant settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-relevant-settings-object"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460"},{"id":"ref-for-relevant-settings-object\u2461"}],"title":"8.15. Focus and origin check"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"9d386f55": {"dfnID":"9d386f55","dfnText":"event handler event type","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-event-type"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-event-handler-event-type\u2460"}],"title":"7.1.12. Event handlers"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"a326add7": {"dfnID":"a326add7","dfnText":"contain (for map)","external":true,"refSections":[{"refs":[{"id":"ref-for-map-exists"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-map-exists\u2460"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-map-exists\u2461"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-map-exists\u2462"},{"id":"ref-for-map-exists\u2463"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-map-exists\u2464"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-map-exists\u2465"},{"id":"ref-for-map-exists\u2466"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-map-exists\u2467"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://infra.spec.whatwg.org/#map-exists"},
"a3b18719": {"dfnID":"a3b18719","dfnText":"append","external":true,"refSections":[{"refs":[{"id":"ref-for-set-append"}],"title":"8.4. Activate a sensor object"}],"url":"https://infra.spec.whatwg.org/#set-append"},
"a6e67972": {"dfnID":"a6e67972","dfnText":"Object","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-object-objects"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-sec-object-objects\u2460"},{"id":"ref-for-sec-object-objects\u2461"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-sec-object-objects\u2462"},{"id":"ref-for-sec-object-objects\u2463"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-sec-object-objects\u2464"}],"title":"9.2.3.1.1. Parse single-value number reading"},{"refs":[{"id":"ref-for-sec-object-objects\u2465"}],"title":"9.2.3.1.2. Parse XYZ reading"},{"refs":[{"id":"ref-for-sec-object-objects\u2466"}],"title":"10.7. Automation"}],"url":"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects"},
"a72449dd": {"dfnID":"a72449dd","dfnText":"in parallel","external":true,"refSections":[{"refs":[{"id":"ref-for-in-parallel"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-in-parallel\u2460"}],"title":"7.1.8. Sensor.stop()"},{"refs":[{"id":"ref-for-in-parallel\u2461"}],"title":"8.8. Update latest reading"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"a84c14c9": {"dfnID":"a84c14c9","dfnText":"document","external":true,"refSections":[{"refs":[{"id":"ref-for-clone-a-node-document"}],"title":"4.2.2. Permissions Policy"}],"url":"https://dom.spec.whatwg.org/#clone-a-node-document"},
"activate-a-sensor-object": {"dfnID":"activate-a-sensor-object","dfnText":"8.4. Activate a sensor object","external":false,"refSections":[{"refs":[{"id":"ref-for-activate-a-sensor-object"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-activate-a-sensor-object"}],"title":"8.4. Activate a sensor object"}],"url":"#activate-a-sensor-object"},
"activated-sensor-objects": {"dfnID":"activated-sensor-objects","dfnText":"activated sensor objects","external":false,"refSections":[{"refs":[{"id":"ref-for-activated-sensor-objects"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-activated-sensor-objects\u2460"},{"id":"ref-for-activated-sensor-objects\u2461"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-activated-sensor-objects\u2462"}],"title":"8.4. Activate a sensor object"},{"refs":[{"id":"ref-for-activated-sensor-objects\u2463"},{"id":"ref-for-activated-sensor-objects\u2464"}],"title":"8.5. Deactivate a sensor object"},{"refs":[{"id":"ref-for-activated-sensor-objects\u2465"},{"id":"ref-for-activated-sensor-objects\u2466"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-activated-sensor-objects\u2467"}],"title":"8.8. Update latest reading"}],"url":"#activated-sensor-objects"},
"ae8def21": {"dfnID":"ae8def21","dfnText":"contain (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-contain"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-list-contain\u2460"}],"title":"8.5. Deactivate a sensor object"},{"refs":[{"id":"ref-for-list-contain\u2461"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-list-contain\u2462"}],"title":"10.6. Definition Requirements"}],"url":"https://infra.spec.whatwg.org/#list-contain"},
"b107f911": {"dfnID":"b107f911","dfnText":"current realm","external":true,"refSections":[{"refs":[{"id":"ref-for-current-realm"}],"title":"8.6. Generic Sensor permission revocation algorithm"}],"url":"https://tc39.github.io/ecma262/#current-realm"},
"b4c365f8": {"dfnID":"b4c365f8","dfnText":"visibility state","external":true,"refSections":[{"refs":[{"id":"ref-for-visibility-state"}],"title":"4.2.4. Visibility State"},{"refs":[{"id":"ref-for-visibility-state\u2460"}],"title":"5.5. Conditions to expose sensor readings"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"},
"b4cfa5ce": {"dfnID":"b4cfa5ce","dfnText":"throw","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-throw"}],"title":"8.1. Initialize a sensor object"}],"url":"https://webidl.spec.whatwg.org/#dfn-throw"},
"b75bb3bd": {"dfnID":"b75bb3bd","dfnText":"SecureContext","external":true,"refSections":[{"refs":[{"id":"ref-for-SecureContext"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-SecureContext\u2460"}],"title":"7.2. The SensorErrorEvent Interface"}],"url":"https://webidl.spec.whatwg.org/#SecureContext"},
"ba556545": {"dfnID":"ba556545","dfnText":"NotAllowedError","external":true,"refSections":[{"refs":[{"id":"ref-for-notallowederror"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-notallowederror\u2460"}],"title":"8.6. Generic Sensor permission revocation algorithm"}],"url":"https://webidl.spec.whatwg.org/#notallowederror"},
"bb4c269e": {"dfnID":"bb4c269e","dfnText":"error","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-error"},{"id":"ref-for-dfn-error\u2460"},{"id":"ref-for-dfn-error\u2461"},{"id":"ref-for-dfn-error\u2462"},{"id":"ref-for-dfn-error\u2463"},{"id":"ref-for-dfn-error\u2464"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-dfn-error\u2465"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-dfn-error\u2466"},{"id":"ref-for-dfn-error\u2467"},{"id":"ref-for-dfn-error\u2468"},{"id":"ref-for-dfn-error\u2460\u24ea"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-error\u2460\u2460"}],"title":"9.2.4. Delete virtual sensor"}],"url":"https://w3c.github.io/webdriver/#dfn-error"},
"bcc085e3": {"dfnID":"bcc085e3","dfnText":"request permission to use","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-request-permission-to-use"}],"title":"8.14. Request sensor access"},{"refs":[{"id":"ref-for-dfn-request-permission-to-use\u2460"},{"id":"ref-for-dfn-request-permission-to-use\u2461"},{"id":"ref-for-dfn-request-permission-to-use\u2462"}],"title":"10.8. Extending the Permission API"}],"url":"https://w3c.github.io/permissions/#dfn-request-permission-to-use"},
"bd736ec6": {"dfnID":"bd736ec6","dfnText":"top-level traversable","external":true,"refSections":[{"refs":[{"id":"ref-for-top-level-traversable"},{"id":"ref-for-top-level-traversable\u2460"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-top-level-traversable\u2461"}],"title":"9.2.1. Create virtual sensor"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"},
"bec98d30": {"dfnID":"bec98d30","dfnText":"dictionary","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-dictionary"},{"id":"ref-for-dfn-dictionary\u2460"}],"title":"10.6. Definition Requirements"}],"url":"https://webidl.spec.whatwg.org/#dfn-dictionary"},
"bfc48225": {"dfnID":"bfc48225","dfnText":"read only","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-read-only"}],"title":"10.6. Definition Requirements"}],"url":"https://webidl.spec.whatwg.org/#dfn-read-only"},
"c3b2d08c": {"dfnID":"c3b2d08c","dfnText":"task source","external":true,"refSections":[{"refs":[{"id":"ref-for-task-source"}],"title":"7.1. The Sensor Interface"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"c88f3887": {"dfnID":"c88f3887","dfnText":"item (for struct)","external":true,"refSections":[{"refs":[{"id":"ref-for-struct-item"}],"title":"9.1. Virtual Sensors"}],"url":"https://infra.spec.whatwg.org/#struct-item"},
"calibration": {"dfnID":"calibration","dfnText":"calibration","external":false,"refSections":[{"refs":[{"id":"ref-for-calibration"}],"title":"5.2. Sensor Types"},{"refs":[{"id":"ref-for-calibration\u2460"}],"title":"10. Extensibility"}],"url":"#calibration"},
"can-expose-sensor-readings": {"dfnID":"can-expose-sensor-readings","dfnText":"can expose sensor readings","external":false,"refSections":[{"refs":[{"id":"ref-for-can-expose-sensor-readings"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-can-expose-sensor-readings\u2460"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-can-expose-sensor-readings\u2461"}],"title":"9.2.3. Update virtual sensor reading"}],"url":"#can-expose-sensor-readings"},
"cb9acc83": {"dfnID":"cb9acc83","dfnText":"set a property","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-set-a-property"}],"title":"9.2.2. Get virtual sensor information"}],"url":"https://w3c.github.io/webdriver/#dfn-set-a-property"},
"cc890cc1": {"dfnID":"cc890cc1","dfnText":"policy-controlled feature","external":true,"refSections":[{"refs":[{"id":"ref-for-policy-controlled-feature"}],"title":"4.2.2. Permissions Policy"},{"refs":[{"id":"ref-for-policy-controlled-feature\u2460"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-policy-controlled-feature\u2461"}],"title":"8.2. Check sensor policy-controlled features"},{"refs":[{"id":"ref-for-policy-controlled-feature\u2462"},{"id":"ref-for-policy-controlled-feature\u2463"},{"id":"ref-for-policy-controlled-feature\u2464"},{"id":"ref-for-policy-controlled-feature\u2465"},{"id":"ref-for-policy-controlled-feature\u2466"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"},
"check-sensor-policy-controlled-features": {"dfnID":"check-sensor-policy-controlled-features","dfnText":"8.2. Check sensor policy-controlled features","external":false,"refSections":[{"refs":[{"id":"ref-for-check-sensor-policy-controlled-features"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-check-sensor-policy-controlled-features"}],"title":"8.2. Check sensor policy-controlled features"}],"url":"#check-sensor-policy-controlled-features"},
"concept-device-sensor": {"dfnID":"concept-device-sensor","dfnText":"device sensor","external":false,"refSections":[{"refs":[{"id":"ref-for-concept-device-sensor"}],"title":"2. Scope"},{"refs":[{"id":"ref-for-concept-device-sensor\u2460"},{"id":"ref-for-concept-device-sensor\u2461"},{"id":"ref-for-concept-device-sensor\u2462"},{"id":"ref-for-concept-device-sensor\u2463"}],"title":"4. Security and privacy considerations"},{"refs":[{"id":"ref-for-concept-device-sensor\u2464"}],"title":"4.3.4. Reduce accuracy"},{"refs":[{"id":"ref-for-concept-device-sensor\u2465"},{"id":"ref-for-concept-device-sensor\u2466"},{"id":"ref-for-concept-device-sensor\u2467"},{"id":"ref-for-concept-device-sensor\u2468"},{"id":"ref-for-concept-device-sensor\u2460\u24ea"},{"id":"ref-for-concept-device-sensor\u2460\u2460"},{"id":"ref-for-concept-device-sensor\u2460\u2461"},{"id":"ref-for-concept-device-sensor\u2460\u2462"},{"id":"ref-for-concept-device-sensor\u2460\u2463"},{"id":"ref-for-concept-device-sensor\u2460\u2464"},{"id":"ref-for-concept-device-sensor\u2460\u2465"}],"title":"5.1. Sensors"},{"refs":[{"id":"ref-for-concept-device-sensor\u2460\u2466"},{"id":"ref-for-concept-device-sensor\u2460\u2467"},{"id":"ref-for-concept-device-sensor\u2460\u2468"},{"id":"ref-for-concept-device-sensor\u2461\u24ea"},{"id":"ref-for-concept-device-sensor\u2461\u2460"},{"id":"ref-for-concept-device-sensor\u2461\u2461"},{"id":"ref-for-concept-device-sensor\u2461\u2462"}],"title":"5.3. Default sensor"},{"refs":[{"id":"ref-for-concept-device-sensor\u2461\u2463"},{"id":"ref-for-concept-device-sensor\u2461\u2464"},{"id":"ref-for-concept-device-sensor\u2461\u2465"},{"id":"ref-for-concept-device-sensor\u2461\u2466"},{"id":"ref-for-concept-device-sensor\u2461\u2467"},{"id":"ref-for-concept-device-sensor\u2461\u2468"},{"id":"ref-for-concept-device-sensor\u2462\u24ea"},{"id":"ref-for-concept-device-sensor\u2462\u2460"},{"id":"ref-for-concept-device-sensor\u2462\u2461"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-concept-device-sensor\u2462\u2462"},{"id":"ref-for-concept-device-sensor\u2462\u2463"},{"id":"ref-for-concept-device-sensor\u2462\u2464"},{"id":"ref-for-concept-device-sensor\u2462\u2465"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-concept-device-sensor\u2462\u2466"}],"title":"7.1.1. Sensor lifecycle"},{"refs":[{"id":"ref-for-concept-device-sensor\u2462\u2467"},{"id":"ref-for-concept-device-sensor\u2462\u2468"},{"id":"ref-for-concept-device-sensor\u2463\u24ea"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-concept-device-sensor\u2463\u2460"}],"title":"9. Automation"},{"refs":[{"id":"ref-for-concept-device-sensor\u2463\u2461"},{"id":"ref-for-concept-device-sensor\u2463\u2462"},{"id":"ref-for-concept-device-sensor\u2463\u2463"},{"id":"ref-for-concept-device-sensor\u2463\u2464"},{"id":"ref-for-concept-device-sensor\u2463\u2465"},{"id":"ref-for-concept-device-sensor\u2463\u2466"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-concept-device-sensor\u2463\u2467"},{"id":"ref-for-concept-device-sensor\u2463\u2468"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-concept-device-sensor\u2464\u24ea"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-concept-device-sensor\u2464\u2460"}],"title":"9.2.4. Delete virtual sensor"},{"refs":[{"id":"ref-for-concept-device-sensor\u2464\u2461"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-concept-device-sensor\u2464\u2462"}],"title":"10.10. Example WebIDL"}],"url":"#concept-device-sensor"},
"concept-platform-sensor": {"dfnID":"concept-platform-sensor","dfnText":"platform sensor","external":false,"refSections":[{"refs":[{"id":"ref-for-concept-platform-sensor"},{"id":"ref-for-concept-platform-sensor\u2460"},{"id":"ref-for-concept-platform-sensor\u2461"},{"id":"ref-for-concept-platform-sensor\u2462"},{"id":"ref-for-concept-platform-sensor\u2463"},{"id":"ref-for-concept-platform-sensor\u2464"}],"title":"5.1. Sensors"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2465"},{"id":"ref-for-concept-platform-sensor\u2466"},{"id":"ref-for-concept-platform-sensor\u2467"},{"id":"ref-for-concept-platform-sensor\u2468"},{"id":"ref-for-concept-platform-sensor\u2460\u24ea"},{"id":"ref-for-concept-platform-sensor\u2460\u2460"},{"id":"ref-for-concept-platform-sensor\u2460\u2461"},{"id":"ref-for-concept-platform-sensor\u2460\u2462"},{"id":"ref-for-concept-platform-sensor\u2460\u2463"},{"id":"ref-for-concept-platform-sensor\u2460\u2464"},{"id":"ref-for-concept-platform-sensor\u2460\u2465"},{"id":"ref-for-concept-platform-sensor\u2460\u2466"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2460\u2467"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2460\u2468"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2461\u24ea"},{"id":"ref-for-concept-platform-sensor\u2461\u2460"},{"id":"ref-for-concept-platform-sensor\u2461\u2461"},{"id":"ref-for-concept-platform-sensor\u2461\u2462"},{"id":"ref-for-concept-platform-sensor\u2461\u2463"},{"id":"ref-for-concept-platform-sensor\u2461\u2464"},{"id":"ref-for-concept-platform-sensor\u2461\u2465"},{"id":"ref-for-concept-platform-sensor\u2461\u2466"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2461\u2467"},{"id":"ref-for-concept-platform-sensor\u2461\u2468"},{"id":"ref-for-concept-platform-sensor\u2462\u24ea"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2462\u2460"}],"title":"7.1.1. Sensor lifecycle"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2462\u2461"}],"title":"7.1.3. Sensor internal slots"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2462\u2462"},{"id":"ref-for-concept-platform-sensor\u2462\u2463"},{"id":"ref-for-concept-platform-sensor\u2462\u2464"},{"id":"ref-for-concept-platform-sensor\u2462\u2465"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2462\u2466"}],"title":"8.4. Activate a sensor object"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2462\u2467"}],"title":"8.5. Deactivate a sensor object"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2462\u2468"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2463\u24ea"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2463\u2460"}],"title":"8.11. Notify activated state"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2463\u2461"}],"title":"8.13. Get value from latest reading"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2463\u2462"},{"id":"ref-for-concept-platform-sensor\u2463\u2463"},{"id":"ref-for-concept-platform-sensor\u2463\u2464"},{"id":"ref-for-concept-platform-sensor\u2463\u2465"},{"id":"ref-for-concept-platform-sensor\u2463\u2466"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2463\u2467"},{"id":"ref-for-concept-platform-sensor\u2463\u2468"},{"id":"ref-for-concept-platform-sensor\u2464\u24ea"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2464\u2460"},{"id":"ref-for-concept-platform-sensor\u2464\u2461"}],"title":"9.2.4. Delete virtual sensor"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2464\u2462"},{"id":"ref-for-concept-platform-sensor\u2464\u2463"},{"id":"ref-for-concept-platform-sensor\u2464\u2464"}],"title":"10.2. Naming"},{"refs":[{"id":"ref-for-concept-platform-sensor\u2464\u2465"}],"title":"10.6. Definition Requirements"}],"url":"#concept-platform-sensor"},
"connect-to-sensor": {"dfnID":"connect-to-sensor","dfnText":"8.3. Connect to sensor","external":false,"refSections":[{"refs":[{"id":"ref-for-connect-to-sensor"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-connect-to-sensor"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-connect-to-sensor\u2460"}],"title":"9.2.1. Create virtual sensor"}],"url":"#connect-to-sensor"},
"d124397f": {"dfnID":"d124397f","dfnText":"permission state","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-permission-state"}],"title":"8.14. Request sensor access"}],"url":"https://w3c.github.io/permissions/#dfn-permission-state"},
"d14a6f26": {"dfnID":"d14a6f26","dfnText":"key","external":true,"refSections":[{"refs":[{"id":"ref-for-map-key"}],"title":"6.2. Sensor"}],"url":"https://infra.spec.whatwg.org/#map-key"},
"dca2de17": {"dfnID":"dca2de17","dfnText":"DOMException","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMException"},{"id":"ref-for-idl-DOMException\u2460"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-idl-DOMException\u2461"},{"id":"ref-for-idl-DOMException\u2462"},{"id":"ref-for-idl-DOMException\u2463"}],"title":"7.2. The SensorErrorEvent Interface"},{"refs":[{"id":"ref-for-idl-DOMException\u2464"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-idl-DOMException\u2465"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-idl-DOMException\u2466"}],"title":"8.12. Notify error"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"deactivate-a-sensor-object": {"dfnID":"deactivate-a-sensor-object","dfnText":"8.5. Deactivate a sensor object","external":false,"refSections":[{"refs":[{"id":"ref-for-deactivate-a-sensor-object"}],"title":"7.1.2. Sensor garbage collection"},{"refs":[{"id":"ref-for-deactivate-a-sensor-object\u2460"}],"title":"7.1.8. Sensor.stop()"},{"refs":[{"id":"ref-for-deactivate-a-sensor-object"}],"title":"8.5. Deactivate a sensor object"},{"refs":[{"id":"ref-for-deactivate-a-sensor-object\u2461"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-deactivate-a-sensor-object\u2462"}],"title":"9.2.4. Delete virtual sensor"}],"url":"#deactivate-a-sensor-object"},
"default-sensor": {"dfnID":"default-sensor","dfnText":"default sensor","external":false,"refSections":[{"refs":[{"id":"ref-for-default-sensor"},{"id":"ref-for-default-sensor\u2460"},{"id":"ref-for-default-sensor\u2461"}],"title":"5.3. Default sensor"},{"refs":[{"id":"ref-for-default-sensor\u2462"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-default-sensor\u2463"},{"id":"ref-for-default-sensor\u2464"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-default-sensor\u2465"},{"id":"ref-for-default-sensor\u2466"},{"id":"ref-for-default-sensor\u2467"}],"title":"10.6. Definition Requirements"}],"url":"#default-sensor"},
"device-sensor-maximum-sampling-frequency": {"dfnID":"device-sensor-maximum-sampling-frequency","dfnText":"maximum sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-device-sensor-maximum-sampling-frequency"},{"id":"ref-for-device-sensor-maximum-sampling-frequency\u2460"},{"id":"ref-for-device-sensor-maximum-sampling-frequency\u2461"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-device-sensor-maximum-sampling-frequency\u2462"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-device-sensor-maximum-sampling-frequency\u2463"}],"title":"9.1. Virtual Sensors"}],"url":"#device-sensor-maximum-sampling-frequency"},
"device-sensor-minimum-sampling-frequency": {"dfnID":"device-sensor-minimum-sampling-frequency","dfnText":"minimum sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-device-sensor-minimum-sampling-frequency"},{"id":"ref-for-device-sensor-minimum-sampling-frequency\u2460"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-device-sensor-minimum-sampling-frequency\u2461"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-device-sensor-minimum-sampling-frequency\u2462"}],"title":"9.1. Virtual Sensors"}],"url":"#device-sensor-minimum-sampling-frequency"},
"dictdef-sensorerroreventinit": {"dfnID":"dictdef-sensorerroreventinit","dfnText":"SensorErrorEventInit","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-sensorerroreventinit"},{"id":"ref-for-dictdef-sensorerroreventinit\u2460"}],"title":"7.2. The SensorErrorEvent Interface"}],"url":"#dictdef-sensorerroreventinit"},
"dictdef-sensoroptions": {"dfnID":"dictdef-sensoroptions","dfnText":"SensorOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-sensoroptions"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-dictdef-sensoroptions\u2460"},{"id":"ref-for-dictdef-sensoroptions\u2461"}],"title":"10.6. Definition Requirements"}],"url":"#dictdef-sensoroptions"},
"dom-sensor-activated": {"dfnID":"dom-sensor-activated","dfnText":"activated","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-activated"}],"title":"7.1.4. Sensor.activated"}],"url":"#dom-sensor-activated"},
"dom-sensor-frequency-slot": {"dfnID":"dom-sensor-frequency-slot","dfnText":"[[frequency]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-frequency-slot"},{"id":"ref-for-dom-sensor-frequency-slot\u2460"},{"id":"ref-for-dom-sensor-frequency-slot\u2461"},{"id":"ref-for-dom-sensor-frequency-slot\u2462"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-dom-sensor-frequency-slot\u2463"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-dom-sensor-frequency-slot\u2464"},{"id":"ref-for-dom-sensor-frequency-slot\u2465"},{"id":"ref-for-dom-sensor-frequency-slot\u2466"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-dom-sensor-frequency-slot\u2467"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-dom-sensor-frequency-slot\u2468"},{"id":"ref-for-dom-sensor-frequency-slot\u2460\u24ea"},{"id":"ref-for-dom-sensor-frequency-slot\u2460\u2460"}],"title":"8.9. Report latest reading updated"}],"url":"#dom-sensor-frequency-slot"},
"dom-sensor-hasreading": {"dfnID":"dom-sensor-hasreading","dfnText":"hasReading","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-hasreading"}],"title":"7.1.5. Sensor.hasReading"}],"url":"#dom-sensor-hasreading"},
"dom-sensor-lasteventfiredat-slot": {"dfnID":"dom-sensor-lasteventfiredat-slot","dfnText":"[[lastEventFiredAt]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-lasteventfiredat-slot"}],"title":"8.5. Deactivate a sensor object"},{"refs":[{"id":"ref-for-dom-sensor-lasteventfiredat-slot\u2460"}],"title":"8.9. Report latest reading updated"},{"refs":[{"id":"ref-for-dom-sensor-lasteventfiredat-slot\u2461"}],"title":"8.10. Notify new reading"}],"url":"#dom-sensor-lasteventfiredat-slot"},
"dom-sensor-onactivate": {"dfnID":"dom-sensor-onactivate","dfnText":"onactivate","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-onactivate"}],"title":"7.1.10. Sensor.onactivate"}],"url":"#dom-sensor-onactivate"},
"dom-sensor-onerror": {"dfnID":"dom-sensor-onerror","dfnText":"onerror","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-onerror"}],"title":"7.1.11. Sensor.onerror"}],"url":"#dom-sensor-onerror"},
"dom-sensor-onreading": {"dfnID":"dom-sensor-onreading","dfnText":"onreading","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-onreading"}],"title":"7.1.9. Sensor.onreading"},{"refs":[{"id":"ref-for-dom-sensor-onreading\u2460"}],"title":"10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?"}],"url":"#dom-sensor-onreading"},
"dom-sensor-pendingreadingnotification-slot": {"dfnID":"dom-sensor-pendingreadingnotification-slot","dfnText":"[[pendingReadingNotification]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-pendingreadingnotification-slot"}],"title":"8.5. Deactivate a sensor object"},{"refs":[{"id":"ref-for-dom-sensor-pendingreadingnotification-slot\u2460"},{"id":"ref-for-dom-sensor-pendingreadingnotification-slot\u2461"},{"id":"ref-for-dom-sensor-pendingreadingnotification-slot\u2462"}],"title":"8.9. Report latest reading updated"},{"refs":[{"id":"ref-for-dom-sensor-pendingreadingnotification-slot\u2463"}],"title":"8.10. Notify new reading"}],"url":"#dom-sensor-pendingreadingnotification-slot"},
"dom-sensor-start": {"dfnID":"dom-sensor-start","dfnText":"start","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-start"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-dom-sensor-start\u2460"}],"title":"9.2.1. Create virtual sensor"}],"url":"#dom-sensor-start"},
"dom-sensor-state-slot": {"dfnID":"dom-sensor-state-slot","dfnText":"[[state]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-state-slot"},{"id":"ref-for-dom-sensor-state-slot\u2460"},{"id":"ref-for-dom-sensor-state-slot\u2461"}],"title":"7.1.2. Sensor garbage collection"},{"refs":[{"id":"ref-for-dom-sensor-state-slot\u2462"}],"title":"7.1.4. Sensor.activated"},{"refs":[{"id":"ref-for-dom-sensor-state-slot\u2463"},{"id":"ref-for-dom-sensor-state-slot\u2464"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-dom-sensor-state-slot\u2465"},{"id":"ref-for-dom-sensor-state-slot\u2466"}],"title":"7.1.8. Sensor.stop()"},{"refs":[{"id":"ref-for-dom-sensor-state-slot\u2467"}],"title":"7.1.10. Sensor.onactivate"},{"refs":[{"id":"ref-for-dom-sensor-state-slot\u2468"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-dom-sensor-state-slot\u2460\u24ea"}],"title":"8.11. Notify activated state"},{"refs":[{"id":"ref-for-dom-sensor-state-slot\u2460\u2460"}],"title":"8.12. Notify error"},{"refs":[{"id":"ref-for-dom-sensor-state-slot\u2460\u2461"}],"title":"8.13. Get value from latest reading"}],"url":"#dom-sensor-state-slot"},
"dom-sensor-stop": {"dfnID":"dom-sensor-stop","dfnText":"stop","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-stop"}],"title":"7.1.8. Sensor.stop()"}],"url":"#dom-sensor-stop"},
"dom-sensor-timestamp": {"dfnID":"dom-sensor-timestamp","dfnText":"timestamp","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensor-timestamp"}],"title":"7.1.6. Sensor.timestamp"},{"refs":[{"id":"ref-for-dom-sensor-timestamp\u2460"}],"title":"8.8. Update latest reading"}],"url":"#dom-sensor-timestamp"},
"dom-sensorerrorevent-error": {"dfnID":"dom-sensorerrorevent-error","dfnText":"error","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensorerrorevent-error"}],"title":"7.2. The SensorErrorEvent Interface"},{"refs":[{"id":"ref-for-dom-sensorerrorevent-error\u2460"}],"title":"8.12. Notify error"}],"url":"#dom-sensorerrorevent-error"},
"dom-sensorerrorevent-sensorerrorevent": {"dfnID":"dom-sensorerrorevent-sensorerrorevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-sensorerrorevent-sensorerrorevent"},
"dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict": {"dfnID":"dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict","dfnText":"errorEventInitDict","external":false,"refSections":[],"url":"#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict"},
"dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type": {"dfnID":"dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type"},
"dom-sensorerroreventinit-error": {"dfnID":"dom-sensorerroreventinit-error","dfnText":"error","external":false,"refSections":[],"url":"#dom-sensorerroreventinit-error"},
"dom-sensoroptions-frequency": {"dfnID":"dom-sensoroptions-frequency","dfnText":"frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sensoroptions-frequency"},{"id":"ref-for-dom-sensoroptions-frequency\u2460"},{"id":"ref-for-dom-sensoroptions-frequency\u2461"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-dom-sensoroptions-frequency\u2462"}],"title":"10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?"}],"url":"#dom-sensoroptions-frequency"},
"e270bd2a": {"dfnID":"e270bd2a","dfnText":"task","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-task"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-concept-task\u2460"}],"title":"8.5. Deactivate a sensor object"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"e451c8f4": {"dfnID":"e451c8f4","dfnText":"inherited dictionaries","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-inherited-dictionaries"},{"id":"ref-for-dfn-inherited-dictionaries\u2460"}],"title":"10.6. Definition Requirements"}],"url":"https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries"},
"e61f04d5": {"dfnID":"e61f04d5","dfnText":"currently focused area","external":true,"refSections":[{"refs":[{"id":"ref-for-currently-focused-area-of-a-top-level-traversable"}],"title":"8.15. Focus and origin check"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable"},
"e740d7e5": {"dfnID":"e740d7e5","dfnText":"name","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-name"},{"id":"ref-for-dfn-name\u2460"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-dfn-name\u2461"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-dfn-name\u2462"},{"id":"ref-for-dfn-name\u2463"}],"title":"10.8. Extending the Permission API"}],"url":"https://w3c.github.io/permissions/#dfn-name"},
"e99bd18e": {"dfnID":"e99bd18e","dfnText":"relevant global object","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-global"}],"title":"7.1.6. Sensor.timestamp"},{"refs":[{"id":"ref-for-concept-relevant-global\u2460"}],"title":"7.1.7. Sensor.start()"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"e9c58cef": {"dfnID":"e9c58cef","dfnText":"time origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-time-origin"}],"title":"7.1.3. Sensor internal slots"},{"refs":[{"id":"ref-for-concept-settings-object-time-origin\u2460"},{"id":"ref-for-concept-settings-object-time-origin\u2461"}],"title":"8.8. Update latest reading"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"},
"ebb01253": {"dfnID":"ebb01253","dfnText":"PermissionDescriptor","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-permissiondescriptor"},{"id":"ref-for-dom-permissiondescriptor\u2460"}],"title":"10.8. Extending the Permission API"}],"url":"https://w3c.github.io/permissions/#dom-permissiondescriptor"},
"eeb0e150": {"dfnID":"eeb0e150","dfnText":"same-origin policy violations","external":true,"refSections":[{"refs":[{"id":"ref-for-sop-violations"}],"title":"10.1. Security and Privacy"}],"url":"https://w3ctag.github.io/security-questionnaire/#sop-violations"},
"extension-sensor-interface": {"dfnID":"extension-sensor-interface","dfnText":"extension sensor interface","external":false,"refSections":[{"refs":[{"id":"ref-for-extension-sensor-interface"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-extension-sensor-interface\u2460"},{"id":"ref-for-extension-sensor-interface\u2461"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-extension-sensor-interface\u2462"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-extension-sensor-interface\u2463"},{"id":"ref-for-extension-sensor-interface\u2464"},{"id":"ref-for-extension-sensor-interface\u2465"},{"id":"ref-for-extension-sensor-interface\u2466"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-extension-sensor-interface\u2467"}],"title":"10.7. Automation"}],"url":"#extension-sensor-interface"},
"extension-specification": {"dfnID":"extension-specification","dfnText":"extension specifications","external":false,"refSections":[{"refs":[{"id":"ref-for-extension-specification"}],"title":"4.2.1. Secure Context"},{"refs":[{"id":"ref-for-extension-specification\u2460"}],"title":"4.3.1. Limit maximum sampling frequency"},{"refs":[{"id":"ref-for-extension-specification\u2461"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-extension-specification\u2462"},{"id":"ref-for-extension-specification\u2463"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-extension-specification\u2464"}],"title":"8.13. Get value from latest reading"},{"refs":[{"id":"ref-for-extension-specification\u2465"}],"title":"9. Automation"},{"refs":[{"id":"ref-for-extension-specification\u2466"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-extension-specification\u2467"}],"title":"9.2.3.1. Algorithms for parsing readings"},{"refs":[{"id":"ref-for-extension-specification\u2468"},{"id":"ref-for-extension-specification\u2460\u24ea"},{"id":"ref-for-extension-specification\u2460\u2460"},{"id":"ref-for-extension-specification\u2460\u2461"}],"title":"10. Extensibility"},{"refs":[{"id":"ref-for-extension-specification\u2460\u2462"}],"title":"10.1. Security and Privacy"},{"refs":[{"id":"ref-for-extension-specification\u2460\u2463"}],"title":"10.3. Unit"},{"refs":[{"id":"ref-for-extension-specification\u2460\u2464"}],"title":"10.4. Exposing High-Level vs. Low-Level Sensors"},{"refs":[{"id":"ref-for-extension-specification\u2460\u2465"}],"title":"10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?"},{"refs":[{"id":"ref-for-extension-specification\u2460\u2466"},{"id":"ref-for-extension-specification\u2460\u2467"},{"id":"ref-for-extension-specification\u2460\u2468"},{"id":"ref-for-extension-specification\u2461\u24ea"},{"id":"ref-for-extension-specification\u2461\u2460"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-extension-specification\u2461\u2461"},{"id":"ref-for-extension-specification\u2461\u2462"}],"title":"10.7. Automation"},{"refs":[{"id":"ref-for-extension-specification\u2461\u2463"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"#extension-specification"},
"f0951476": {"dfnID":"f0951476","dfnText":"EventHandler","external":true,"refSections":[{"refs":[{"id":"ref-for-eventhandler"},{"id":"ref-for-eventhandler\u2460"},{"id":"ref-for-eventhandler\u2461"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-eventhandler\u2462"}],"title":"7.1.9. Sensor.onreading"},{"refs":[{"id":"ref-for-eventhandler\u2463"}],"title":"7.1.10. Sensor.onactivate"},{"refs":[{"id":"ref-for-eventhandler\u2464"}],"title":"7.1.11. Sensor.onerror"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"f937b7b6": {"dfnID":"f937b7b6","dfnText":"continue","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-continue"}],"title":"8.6. Generic Sensor permission revocation algorithm"}],"url":"https://infra.spec.whatwg.org/#iteration-continue"},
"fa818daf": {"dfnID":"fa818daf","dfnText":"get a property","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-getting-properties"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-dfn-getting-properties\u2460"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-dfn-getting-properties\u2461"}],"title":"9.2.3.1.1. Parse single-value number reading"},{"refs":[{"id":"ref-for-dfn-getting-properties\u2462"},{"id":"ref-for-dfn-getting-properties\u2463"},{"id":"ref-for-dfn-getting-properties\u2464"}],"title":"9.2.3.1.2. Parse XYZ reading"}],"url":"https://w3c.github.io/webdriver/#dfn-getting-properties"},
"faf75970": {"dfnID":"faf75970","dfnText":"gains focus","external":true,"refSections":[{"refs":[{"id":"ref-for-gains-focus"}],"title":"4.2.3. Focused Area"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#gains-focus"},
"fc14fa8a": {"dfnID":"fc14fa8a","dfnText":"inherited interfaces","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-inherited-interfaces"}],"title":"10.6. Definition Requirements"}],"url":"https://webidl.spec.whatwg.org/#dfn-inherited-interfaces"},
"focus-and-origin-check": {"dfnID":"focus-and-origin-check","dfnText":"8.15. Focus and origin check","external":false,"refSections":[{"refs":[{"id":"ref-for-focus-and-origin-check"}],"title":"4.2.3. Focused Area"},{"refs":[{"id":"ref-for-focus-and-origin-check\u2460"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-focus-and-origin-check"}],"title":"8.15. Focus and origin check"}],"url":"#focus-and-origin-check"},
"generic-sensor-permission-revocation-algorithm": {"dfnID":"generic-sensor-permission-revocation-algorithm","dfnText":"8.6. Generic Sensor permission revocation algorithm","external":false,"refSections":[{"refs":[{"id":"ref-for-generic-sensor-permission-revocation-algorithm"}],"title":"8.6. Generic Sensor permission revocation algorithm"}],"url":"#generic-sensor-permission-revocation-algorithm"},
"get-a-platform-sensors-sampling-bounds": {"dfnID":"get-a-platform-sensors-sampling-bounds","dfnText":"get a platform sensor\u2019s sampling bounds","external":false,"refSections":[{"refs":[{"id":"ref-for-get-a-platform-sensors-sampling-bounds"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-get-a-platform-sensors-sampling-bounds\u2460"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-get-a-platform-sensors-sampling-bounds\u2461"}],"title":"8.7. Set sensor settings"}],"url":"#get-a-platform-sensors-sampling-bounds"},
"get-value-from-latest-reading": {"dfnID":"get-value-from-latest-reading","dfnText":"8.13. Get value from latest reading","external":false,"refSections":[{"refs":[{"id":"ref-for-get-value-from-latest-reading"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-get-value-from-latest-reading\u2460"}],"title":"7.1.5. Sensor.hasReading"},{"refs":[{"id":"ref-for-get-value-from-latest-reading\u2461"}],"title":"7.1.6. Sensor.timestamp"},{"refs":[{"id":"ref-for-get-value-from-latest-reading"}],"title":"8.13. Get value from latest reading"},{"refs":[{"id":"ref-for-get-value-from-latest-reading\u2462"}],"title":"10.6. Definition Requirements"}],"url":"#get-value-from-latest-reading"},
"high-level": {"dfnID":"high-level","dfnText":"high-level","external":false,"refSections":[{"refs":[{"id":"ref-for-high-level"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-high-level\u2460"},{"id":"ref-for-high-level\u2461"},{"id":"ref-for-high-level\u2462"},{"id":"ref-for-high-level\u2463"},{"id":"ref-for-high-level\u2464"},{"id":"ref-for-high-level\u2465"}],"title":"5.2. Sensor Types"},{"refs":[{"id":"ref-for-high-level\u2466"}],"title":"10. Extensibility"},{"refs":[{"id":"ref-for-high-level\u2467"}],"title":"10.2. Naming"},{"refs":[{"id":"ref-for-high-level\u2468"},{"id":"ref-for-high-level\u2460\u24ea"},{"id":"ref-for-high-level\u2460\u2460"}],"title":"10.4. Exposing High-Level vs. Low-Level Sensors"}],"url":"#high-level"},
"initialize-a-sensor-object": {"dfnID":"initialize-a-sensor-object","dfnText":"8.1. Initialize a sensor object","external":false,"refSections":[{"refs":[{"id":"ref-for-initialize-a-sensor-object"}],"title":"8.1. Initialize a sensor object"}],"url":"#initialize-a-sensor-object"},
"latest-reading": {"dfnID":"latest-reading","dfnText":"latest reading","external":false,"refSections":[{"refs":[{"id":"ref-for-latest-reading"}],"title":"4.3.4. Reduce accuracy"},{"refs":[{"id":"ref-for-latest-reading\u2460"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-latest-reading\u2461"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-latest-reading\u2462"},{"id":"ref-for-latest-reading\u2463"},{"id":"ref-for-latest-reading\u2464"},{"id":"ref-for-latest-reading\u2465"},{"id":"ref-for-latest-reading\u2466"},{"id":"ref-for-latest-reading\u2467"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-latest-reading\u2468"},{"id":"ref-for-latest-reading\u2460\u24ea"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-latest-reading\u2460\u2460"},{"id":"ref-for-latest-reading\u2460\u2461"},{"id":"ref-for-latest-reading\u2460\u2462"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-latest-reading\u2460\u2463"}],"title":"8.9. Report latest reading updated"},{"refs":[{"id":"ref-for-latest-reading\u2460\u2464"}],"title":"8.10. Notify new reading"},{"refs":[{"id":"ref-for-latest-reading\u2460\u2465"}],"title":"8.11. Notify activated state"},{"refs":[{"id":"ref-for-latest-reading\u2460\u2466"}],"title":"8.13. Get value from latest reading"}],"url":"#latest-reading"},
"limit-max-frequency": {"dfnID":"limit-max-frequency","dfnText":"4.3.1. Limit maximum sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-limit-max-frequency"}],"title":"4.3.1. Limit maximum sampling frequency"},{"refs":[{"id":"ref-for-limit-max-frequency"}],"title":"4.3.3. Limit number of delivered readings"}],"url":"#limit-max-frequency"},
"limit-number-of-delivered-readings": {"dfnID":"limit-number-of-delivered-readings","dfnText":"4.3.3. Limit number of delivered readings","external":false,"refSections":[{"refs":[{"id":"ref-for-limit-number-of-delivered-readings"}],"title":"4.3.3. Limit number of delivered readings"}],"url":"#limit-number-of-delivered-readings"},
"local-coordinate-system": {"dfnID":"local-coordinate-system","dfnText":"local coordinate system","external":false,"refSections":[{"refs":[{"id":"ref-for-local-coordinate-system"},{"id":"ref-for-local-coordinate-system\u2460"}],"title":"5.1. Sensors"},{"refs":[{"id":"ref-for-local-coordinate-system\u2461"},{"id":"ref-for-local-coordinate-system\u2462"}],"title":"8.13. Get value from latest reading"},{"refs":[{"id":"ref-for-local-coordinate-system\u2463"}],"title":"10. Extensibility"}],"url":"#local-coordinate-system"},
"low-level": {"dfnID":"low-level","dfnText":"low-level","external":false,"refSections":[{"refs":[{"id":"ref-for-low-level"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-low-level\u2460"},{"id":"ref-for-low-level\u2461"},{"id":"ref-for-low-level\u2462"},{"id":"ref-for-low-level\u2463"},{"id":"ref-for-low-level\u2464"},{"id":"ref-for-low-level\u2465"}],"title":"5.2. Sensor Types"},{"refs":[{"id":"ref-for-low-level\u2466"}],"title":"10. Extensibility"},{"refs":[{"id":"ref-for-low-level\u2467"}],"title":"10.2. Naming"},{"refs":[{"id":"ref-for-low-level\u2468"},{"id":"ref-for-low-level\u2460\u24ea"},{"id":"ref-for-low-level\u2460\u2460"}],"title":"10.4. Exposing High-Level vs. Low-Level Sensors"},{"refs":[{"id":"ref-for-low-level\u2460\u2461"},{"id":"ref-for-low-level\u2460\u2462"}],"title":"10.8. Extending the Permission API"},{"refs":[{"id":"ref-for-low-level\u2460\u2463"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"#low-level"},
"notify-activated-state": {"dfnID":"notify-activated-state","dfnText":"8.11. Notify activated state","external":false,"refSections":[{"refs":[{"id":"ref-for-notify-activated-state"}],"title":"8.4. Activate a sensor object"},{"refs":[{"id":"ref-for-notify-activated-state"}],"title":"8.11. Notify activated state"}],"url":"#notify-activated-state"},
"notify-error": {"dfnID":"notify-error","dfnText":"8.12. Notify error","external":false,"refSections":[{"refs":[{"id":"ref-for-notify-error"},{"id":"ref-for-notify-error\u2460"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-notify-error\u2461"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-notify-error"}],"title":"8.12. Notify error"},{"refs":[{"id":"ref-for-notify-error\u2462"}],"title":"9.2.4. Delete virtual sensor"}],"url":"#notify-error"},
"notify-new-reading": {"dfnID":"notify-new-reading","dfnText":"8.10. Notify new reading","external":false,"refSections":[{"refs":[{"id":"ref-for-notify-new-reading"},{"id":"ref-for-notify-new-reading\u2460"},{"id":"ref-for-notify-new-reading\u2461"}],"title":"8.9. Report latest reading updated"},{"refs":[{"id":"ref-for-notify-new-reading"}],"title":"8.10. Notify new reading"},{"refs":[{"id":"ref-for-notify-new-reading\u2462"}],"title":"8.11. Notify activated state"}],"url":"#notify-new-reading"},
"parse-single-value-number-reading": {"dfnID":"parse-single-value-number-reading","dfnText":"9.2.3.1.1. Parse single-value number reading","external":false,"refSections":[{"refs":[{"id":"ref-for-parse-single-value-number-reading"}],"title":"9.2.3.1.1. Parse single-value number reading"},{"refs":[{"id":"ref-for-parse-single-value-number-reading"}],"title":"10.7. Automation"}],"url":"#parse-single-value-number-reading"},
"parse-xyz-reading": {"dfnID":"parse-xyz-reading","dfnText":"9.2.3.1.2. Parse XYZ reading","external":false,"refSections":[{"refs":[{"id":"ref-for-parse-xyz-reading"}],"title":"9.2.3.1.2. Parse XYZ reading"}],"url":"#parse-xyz-reading"},
"per-type-virtual-sensor-metadata": {"dfnID":"per-type-virtual-sensor-metadata","dfnText":"per-type virtual sensor metadata","external":false,"refSections":[{"refs":[{"id":"ref-for-per-type-virtual-sensor-metadata"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-per-type-virtual-sensor-metadata\u2460"},{"id":"ref-for-per-type-virtual-sensor-metadata\u2461"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-per-type-virtual-sensor-metadata\u2462"}],"title":"9.2.3.1. Algorithms for parsing readings"},{"refs":[{"id":"ref-for-per-type-virtual-sensor-metadata\u2463"}],"title":"9.2.4. Delete virtual sensor"},{"refs":[{"id":"ref-for-per-type-virtual-sensor-metadata\u2464"},{"id":"ref-for-per-type-virtual-sensor-metadata\u2465"},{"id":"ref-for-per-type-virtual-sensor-metadata\u2466"}],"title":"10.7. Automation"}],"url":"#per-type-virtual-sensor-metadata"},
"reading-quantization-algorithm": {"dfnID":"reading-quantization-algorithm","dfnText":"reading quantization algorithm","external":false,"refSections":[{"refs":[{"id":"ref-for-reading-quantization-algorithm"}],"title":"4.3.4. Reduce accuracy"},{"refs":[{"id":"ref-for-reading-quantization-algorithm\u2460"},{"id":"ref-for-reading-quantization-algorithm\u2461"}],"title":"8.13. Get value from latest reading"}],"url":"#reading-quantization-algorithm"},
"reading-timestamp": {"dfnID":"reading-timestamp","dfnText":"reading timestamp","external":false,"refSections":[{"refs":[{"id":"ref-for-reading-timestamp"},{"id":"ref-for-reading-timestamp\u2460"}],"title":"4.3.4. Reduce accuracy"},{"refs":[{"id":"ref-for-reading-timestamp\u2461"}],"title":"6.2. Sensor"}],"url":"#reading-timestamp"},
"reduce-accuracy": {"dfnID":"reduce-accuracy","dfnText":"4.3.4. Reduce accuracy","external":false,"refSections":[{"refs":[{"id":"ref-for-reduce-accuracy"}],"title":"4.3.4. Reduce accuracy"}],"url":"#reduce-accuracy"},
"report-latest-reading-updated": {"dfnID":"report-latest-reading-updated","dfnText":"8.9. Report latest reading updated","external":false,"refSections":[{"refs":[{"id":"ref-for-report-latest-reading-updated"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-report-latest-reading-updated"}],"title":"8.9. Report latest reading updated"}],"url":"#report-latest-reading-updated"},
"reporting-frequency": {"dfnID":"reporting-frequency","dfnText":"reporting frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-reporting-frequency"},{"id":"ref-for-reporting-frequency\u2460"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-reporting-frequency\u2461"}],"title":"7.1.3. Sensor internal slots"}],"url":"#reporting-frequency"},
"request-sensor-access": {"dfnID":"request-sensor-access","dfnText":"8.14. Request sensor access","external":false,"refSections":[{"refs":[{"id":"ref-for-request-sensor-access"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-request-sensor-access\u2460"}],"title":"7.1.7. Sensor.start()"},{"refs":[{"id":"ref-for-request-sensor-access"}],"title":"8.14. Request sensor access"}],"url":"#request-sensor-access"},
"sampling-frequency": {"dfnID":"sampling-frequency","dfnText":"sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-sampling-frequency"},{"id":"ref-for-sampling-frequency\u2460"}],"title":"4.3.3. Limit number of delivered readings"},{"refs":[{"id":"ref-for-sampling-frequency\u2461"},{"id":"ref-for-sampling-frequency\u2462"},{"id":"ref-for-sampling-frequency\u2463"},{"id":"ref-for-sampling-frequency\u2464"},{"id":"ref-for-sampling-frequency\u2465"},{"id":"ref-for-sampling-frequency\u2466"},{"id":"ref-for-sampling-frequency\u2467"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-sampling-frequency\u2468"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-sampling-frequency\u2460\u24ea"}],"title":"7.1.3. Sensor internal slots"},{"refs":[{"id":"ref-for-sampling-frequency\u2460\u2460"},{"id":"ref-for-sampling-frequency\u2460\u2461"},{"id":"ref-for-sampling-frequency\u2460\u2462"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-sampling-frequency\u2460\u2463"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-sampling-frequency\u2460\u2464"}],"title":"10.8. Extending the Permission API"}],"url":"#sampling-frequency"},
"sensor": {"dfnID":"sensor","dfnText":"Sensor","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor"}],"title":"3. A note on Feature Detection of Hardware Features"},{"refs":[{"id":"ref-for-sensor\u2460"}],"title":"5.3. Default sensor"},{"refs":[{"id":"ref-for-sensor\u2461"},{"id":"ref-for-sensor\u2462"},{"id":"ref-for-sensor\u2463"},{"id":"ref-for-sensor\u2464"},{"id":"ref-for-sensor\u2465"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-sensor\u2466"}],"title":"5.5. Conditions to expose sensor readings"},{"refs":[{"id":"ref-for-sensor\u2467"},{"id":"ref-for-sensor\u2468"},{"id":"ref-for-sensor\u2460\u24ea"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-sensor\u2460\u2460"},{"id":"ref-for-sensor\u2460\u2461"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-sensor\u2460\u2462"}],"title":"7.1.1. Sensor lifecycle"},{"refs":[{"id":"ref-for-sensor\u2460\u2463"},{"id":"ref-for-sensor\u2460\u2464"},{"id":"ref-for-sensor\u2460\u2465"}],"title":"7.1.2. Sensor garbage collection"},{"refs":[{"id":"ref-for-sensor\u2460\u2466"},{"id":"ref-for-sensor\u2460\u2467"},{"id":"ref-for-sensor\u2460\u2468"},{"id":"ref-for-sensor\u2461\u24ea"}],"title":"7.1.3. Sensor internal slots"},{"refs":[{"id":"ref-for-sensor\u2461\u2460"}],"title":"7.1.12. Event handlers"},{"refs":[{"id":"ref-for-sensor\u2461\u2461"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-sensor\u2461\u2462"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-sensor\u2461\u2463"}],"title":"8.4. Activate a sensor object"},{"refs":[{"id":"ref-for-sensor\u2461\u2464"}],"title":"8.5. Deactivate a sensor object"},{"refs":[{"id":"ref-for-sensor\u2461\u2465"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-sensor\u2461\u2466"}],"title":"8.9. Report latest reading updated"},{"refs":[{"id":"ref-for-sensor\u2461\u2467"}],"title":"8.10. Notify new reading"},{"refs":[{"id":"ref-for-sensor\u2461\u2468"}],"title":"8.11. Notify activated state"},{"refs":[{"id":"ref-for-sensor\u2462\u24ea"}],"title":"8.12. Notify error"},{"refs":[{"id":"ref-for-sensor\u2462\u2460"}],"title":"8.13. Get value from latest reading"},{"refs":[{"id":"ref-for-sensor\u2462\u2461"}],"title":"8.14. Request sensor access"},{"refs":[{"id":"ref-for-sensor\u2462\u2462"},{"id":"ref-for-sensor\u2462\u2463"},{"id":"ref-for-sensor\u2462\u2464"},{"id":"ref-for-sensor\u2462\u2465"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-sensor\u2462\u2466"},{"id":"ref-for-sensor\u2462\u2467"}],"title":"9.2.4. Delete virtual sensor"},{"refs":[{"id":"ref-for-sensor\u2462\u2468"}],"title":"10. Extensibility"},{"refs":[{"id":"ref-for-sensor\u2463\u24ea"},{"id":"ref-for-sensor\u2463\u2460"},{"id":"ref-for-sensor\u2463\u2461"}],"title":"10.2. Naming"},{"refs":[{"id":"ref-for-sensor\u2463\u2462"},{"id":"ref-for-sensor\u2463\u2463"},{"id":"ref-for-sensor\u2463\u2464"}],"title":"10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?"},{"refs":[{"id":"ref-for-sensor\u2463\u2465"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-sensor\u2463\u2466"},{"id":"ref-for-sensor\u2463\u2467"}],"title":"10.8. Extending the Permission API"},{"refs":[{"id":"ref-for-sensor\u2463\u2468"},{"id":"ref-for-sensor\u2464\u24ea"},{"id":"ref-for-sensor\u2464\u2460"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"#sensor"},
"sensor-feature-names": {"dfnID":"sensor-feature-names","dfnText":"sensor feature names","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor-feature-names"},{"id":"ref-for-sensor-feature-names\u2460"}],"title":"8.2. Check sensor policy-controlled features"},{"refs":[{"id":"ref-for-sensor-feature-names\u2461"},{"id":"ref-for-sensor-feature-names\u2462"},{"id":"ref-for-sensor-feature-names\u2463"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"#sensor-feature-names"},
"sensor-fusion": {"dfnID":"sensor-fusion","dfnText":"sensor fusion","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor-fusion"},{"id":"ref-for-sensor-fusion\u2460"},{"id":"ref-for-sensor-fusion\u2461"}],"title":"5.1. Sensors"},{"refs":[{"id":"ref-for-sensor-fusion\u2462"},{"id":"ref-for-sensor-fusion\u2463"},{"id":"ref-for-sensor-fusion\u2464"},{"id":"ref-for-sensor-fusion\u2465"},{"id":"ref-for-sensor-fusion\u2466"}],"title":"5.2. Sensor Types"},{"refs":[{"id":"ref-for-sensor-fusion\u2467"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-sensor-fusion\u2468"}],"title":"10.8. Extending the Permission API"},{"refs":[{"id":"ref-for-sensor-fusion\u2460\u24ea"},{"id":"ref-for-sensor-fusion\u2460\u2460"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"#sensor-fusion"},
"sensor-permission-names": {"dfnID":"sensor-permission-names","dfnText":"sensor permission names","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor-permission-names"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-sensor-permission-names\u2460"}],"title":"8.14. Request sensor access"},{"refs":[{"id":"ref-for-sensor-permission-names\u2461"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-sensor-permission-names\u2462"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"#sensor-permission-names"},
"sensor-reading": {"dfnID":"sensor-reading","dfnText":"sensor reading","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor-reading"},{"id":"ref-for-sensor-reading\u2460"}],"title":"4. Security and privacy considerations"},{"refs":[{"id":"ref-for-sensor-reading\u2461"}],"title":"4.1.1. Location Tracking"},{"refs":[{"id":"ref-for-sensor-reading\u2462"}],"title":"4.1.2. Eavesdropping"},{"refs":[{"id":"ref-for-sensor-reading\u2463"}],"title":"4.1.3. Keystroke Monitoring"},{"refs":[{"id":"ref-for-sensor-reading\u2464"}],"title":"4.1.5. User Identifying"},{"refs":[{"id":"ref-for-sensor-reading\u2465"}],"title":"4.2.1. Secure Context"},{"refs":[{"id":"ref-for-sensor-reading\u2466"},{"id":"ref-for-sensor-reading\u2467"}],"title":"4.2.2. Permissions Policy"},{"refs":[{"id":"ref-for-sensor-reading\u2468"}],"title":"4.2.3. Focused Area"},{"refs":[{"id":"ref-for-sensor-reading\u2460\u24ea"}],"title":"4.2.4. Visibility State"},{"refs":[{"id":"ref-for-sensor-reading\u2460\u2460"}],"title":"4.2.5. Permissions API"},{"refs":[{"id":"ref-for-sensor-reading\u2460\u2461"}],"title":"4.3.3. Limit number of delivered readings"},{"refs":[{"id":"ref-for-sensor-reading\u2460\u2462"},{"id":"ref-for-sensor-reading\u2460\u2463"},{"id":"ref-for-sensor-reading\u2460\u2464"},{"id":"ref-for-sensor-reading\u2460\u2465"}],"title":"4.3.4. Reduce accuracy"},{"refs":[{"id":"ref-for-sensor-reading\u2460\u2466"}],"title":"4.3.5. Keep the user informed about API use"},{"refs":[{"id":"ref-for-sensor-reading\u2460\u2467"},{"id":"ref-for-sensor-reading\u2460\u2468"},{"id":"ref-for-sensor-reading\u2461\u24ea"},{"id":"ref-for-sensor-reading\u2461\u2460"},{"id":"ref-for-sensor-reading\u2461\u2461"},{"id":"ref-for-sensor-reading\u2461\u2462"}],"title":"5.1. Sensors"},{"refs":[{"id":"ref-for-sensor-reading\u2461\u2463"},{"id":"ref-for-sensor-reading\u2461\u2464"},{"id":"ref-for-sensor-reading\u2461\u2465"},{"id":"ref-for-sensor-reading\u2461\u2466"}],"title":"5.2. Sensor Types"},{"refs":[{"id":"ref-for-sensor-reading\u2461\u2467"}],"title":"5.3. Default sensor"},{"refs":[{"id":"ref-for-sensor-reading\u2461\u2468"},{"id":"ref-for-sensor-reading\u2462\u24ea"},{"id":"ref-for-sensor-reading\u2462\u2460"},{"id":"ref-for-sensor-reading\u2462\u2461"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-sensor-reading\u2462\u2462"},{"id":"ref-for-sensor-reading\u2462\u2463"},{"id":"ref-for-sensor-reading\u2462\u2464"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-sensor-reading\u2462\u2465"},{"id":"ref-for-sensor-reading\u2462\u2466"},{"id":"ref-for-sensor-reading\u2462\u2467"},{"id":"ref-for-sensor-reading\u2462\u2468"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-sensor-reading\u2463\u24ea"},{"id":"ref-for-sensor-reading\u2463\u2460"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-sensor-reading\u2463\u2461"},{"id":"ref-for-sensor-reading\u2463\u2462"}],"title":"7.1.3. Sensor internal slots"},{"refs":[{"id":"ref-for-sensor-reading\u2463\u2463"}],"title":"7.1.9. Sensor.onreading"},{"refs":[{"id":"ref-for-sensor-reading\u2463\u2464"},{"id":"ref-for-sensor-reading\u2463\u2465"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-sensor-reading\u2463\u2466"},{"id":"ref-for-sensor-reading\u2463\u2467"}],"title":"8.7. Set sensor settings"},{"refs":[{"id":"ref-for-sensor-reading\u2463\u2468"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-sensor-reading\u2464\u24ea"}],"title":"8.13. Get value from latest reading"},{"refs":[{"id":"ref-for-sensor-reading\u2464\u2460"},{"id":"ref-for-sensor-reading\u2464\u2461"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-sensor-reading\u2464\u2462"},{"id":"ref-for-sensor-reading\u2464\u2463"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-sensor-reading\u2464\u2464"},{"id":"ref-for-sensor-reading\u2464\u2465"}],"title":"9.2.3.1.1. Parse single-value number reading"},{"refs":[{"id":"ref-for-sensor-reading\u2464\u2466"},{"id":"ref-for-sensor-reading\u2464\u2467"}],"title":"9.2.3.1.2. Parse XYZ reading"},{"refs":[{"id":"ref-for-sensor-reading\u2464\u2468"}],"title":"10. Extensibility"},{"refs":[{"id":"ref-for-sensor-reading\u2465\u24ea"},{"id":"ref-for-sensor-reading\u2465\u2460"}],"title":"10.2. Naming"},{"refs":[{"id":"ref-for-sensor-reading\u2465\u2461"}],"title":"10.3. Unit"},{"refs":[{"id":"ref-for-sensor-reading\u2465\u2462"}],"title":"10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?"},{"refs":[{"id":"ref-for-sensor-reading\u2465\u2463"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-sensor-reading\u2465\u2464"},{"id":"ref-for-sensor-reading\u2465\u2465"}],"title":"10.8. Extending the Permission API"},{"refs":[{"id":"ref-for-sensor-reading\u2465\u2466"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"#sensor-reading"},
"sensor-task-source": {"dfnID":"sensor-task-source","dfnText":"sensor task source","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor-task-source"}],"title":"8.5. Deactivate a sensor object"}],"url":"#sensor-task-source"},
"sensor-type": {"dfnID":"sensor-type","dfnText":"sensor type","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor-type"}],"title":"4. Security and privacy considerations"},{"refs":[{"id":"ref-for-sensor-type\u2460"}],"title":"4.2.2. Permissions Policy"},{"refs":[{"id":"ref-for-sensor-type\u2461"}],"title":"4.3. Mitigation strategies applied on a case by case basis"},{"refs":[{"id":"ref-for-sensor-type\u2462"},{"id":"ref-for-sensor-type\u2463"}],"title":"4.3.1. Limit maximum sampling frequency"},{"refs":[{"id":"ref-for-sensor-type\u2464"}],"title":"5.1. Sensors"},{"refs":[{"id":"ref-for-sensor-type\u2465"},{"id":"ref-for-sensor-type\u2466"},{"id":"ref-for-sensor-type\u2467"},{"id":"ref-for-sensor-type\u2468"},{"id":"ref-for-sensor-type\u2460\u24ea"},{"id":"ref-for-sensor-type\u2460\u2460"},{"id":"ref-for-sensor-type\u2460\u2461"},{"id":"ref-for-sensor-type\u2460\u2462"}],"title":"5.2. Sensor Types"},{"refs":[{"id":"ref-for-sensor-type\u2460\u2463"},{"id":"ref-for-sensor-type\u2460\u2464"},{"id":"ref-for-sensor-type\u2460\u2465"},{"id":"ref-for-sensor-type\u2460\u2466"},{"id":"ref-for-sensor-type\u2460\u2467"},{"id":"ref-for-sensor-type\u2460\u2468"}],"title":"5.3. Default sensor"},{"refs":[{"id":"ref-for-sensor-type\u2461\u24ea"},{"id":"ref-for-sensor-type\u2461\u2460"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-sensor-type\u2461\u2461"},{"id":"ref-for-sensor-type\u2461\u2462"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-sensor-type\u2461\u2463"},{"id":"ref-for-sensor-type\u2461\u2464"},{"id":"ref-for-sensor-type\u2461\u2465"},{"id":"ref-for-sensor-type\u2461\u2466"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-sensor-type\u2461\u2467"},{"id":"ref-for-sensor-type\u2461\u2468"}],"title":"7.1. The Sensor Interface"},{"refs":[{"id":"ref-for-sensor-type\u2462\u24ea"}],"title":"8.2. Check sensor policy-controlled features"},{"refs":[{"id":"ref-for-sensor-type\u2462\u2460"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-sensor-type\u2462\u2461"}],"title":"8.6. Generic Sensor permission revocation algorithm"},{"refs":[{"id":"ref-for-sensor-type\u2462\u2462"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-sensor-type\u2462\u2463"}],"title":"8.13. Get value from latest reading"},{"refs":[{"id":"ref-for-sensor-type\u2462\u2464"}],"title":"8.14. Request sensor access"},{"refs":[{"id":"ref-for-sensor-type\u2462\u2465"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-sensor-type\u2462\u2466"},{"id":"ref-for-sensor-type\u2462\u2467"},{"id":"ref-for-sensor-type\u2462\u2468"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-sensor-type\u2463\u24ea"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-sensor-type\u2463\u2460"},{"id":"ref-for-sensor-type\u2463\u2461"},{"id":"ref-for-sensor-type\u2463\u2462"}],"title":"10. Extensibility"},{"refs":[{"id":"ref-for-sensor-type\u2463\u2463"},{"id":"ref-for-sensor-type\u2463\u2464"},{"id":"ref-for-sensor-type\u2463\u2465"}],"title":"10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?"},{"refs":[{"id":"ref-for-sensor-type\u2463\u2466"},{"id":"ref-for-sensor-type\u2463\u2467"},{"id":"ref-for-sensor-type\u2463\u2468"},{"id":"ref-for-sensor-type\u2464\u24ea"},{"id":"ref-for-sensor-type\u2464\u2460"}],"title":"10.6. Definition Requirements"},{"refs":[{"id":"ref-for-sensor-type\u2464\u2461"},{"id":"ref-for-sensor-type\u2464\u2462"}],"title":"10.7. Automation"},{"refs":[{"id":"ref-for-sensor-type\u2464\u2463"}],"title":"10.8. Extending the Permission API"},{"refs":[{"id":"ref-for-sensor-type\u2464\u2464"},{"id":"ref-for-sensor-type\u2464\u2465"}],"title":"10.9. Extending the Permissions Policy API"}],"url":"#sensor-type"},
"sensor-type-maximum-sampling-frequency": {"dfnID":"sensor-type-maximum-sampling-frequency","dfnText":"maximum sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor-type-maximum-sampling-frequency"},{"id":"ref-for-sensor-type-maximum-sampling-frequency\u2460"}],"title":"4.3.1. Limit maximum sampling frequency"},{"refs":[{"id":"ref-for-sensor-type-maximum-sampling-frequency\u2461"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-sensor-type-maximum-sampling-frequency\u2462"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-sensor-type-maximum-sampling-frequency\u2463"}],"title":"6.2. Sensor"}],"url":"#sensor-type-maximum-sampling-frequency"},
"sensor-type-minimum-sampling-frequency": {"dfnID":"sensor-type-minimum-sampling-frequency","dfnText":"minimum sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-sensor-type-minimum-sampling-frequency"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-sensor-type-minimum-sampling-frequency\u2460"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-sensor-type-minimum-sampling-frequency\u2461"}],"title":"6.2. Sensor"}],"url":"#sensor-type-minimum-sampling-frequency"},
"sensorerrorevent": {"dfnID":"sensorerrorevent","dfnText":"SensorErrorEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-sensorerrorevent"}],"title":"7.2. The SensorErrorEvent Interface"},{"refs":[{"id":"ref-for-sensorerrorevent\u2460"}],"title":"8.12. Notify error"}],"url":"#sensorerrorevent"},
"set-sensor-settings": {"dfnID":"set-sensor-settings","dfnText":"8.7. Set sensor settings","external":false,"refSections":[{"refs":[{"id":"ref-for-set-sensor-settings"}],"title":"8.4. Activate a sensor object"},{"refs":[{"id":"ref-for-set-sensor-settings\u2460"}],"title":"8.5. Deactivate a sensor object"},{"refs":[{"id":"ref-for-set-sensor-settings"}],"title":"8.7. Set sensor settings"}],"url":"#set-sensor-settings"},
"spatial-sensor": {"dfnID":"spatial-sensor","dfnText":"spatial sensor","external":false,"refSections":[{"refs":[{"id":"ref-for-spatial-sensor"}],"title":"5.1. Sensors"}],"url":"#spatial-sensor"},
"specific-conditions": {"dfnID":"specific-conditions","dfnText":"Specific conditions","external":false,"refSections":[],"url":"#specific-conditions"},
"stop-sensor": {"dfnID":"stop-sensor","dfnText":"4.3.2. Stop the sensor altogether","external":false,"refSections":[{"refs":[{"id":"ref-for-stop-sensor"}],"title":"4.3.2. Stop the sensor altogether"}],"url":"#stop-sensor"},
"supported-sensor-options": {"dfnID":"supported-sensor-options","dfnText":"supported sensor options","external":false,"refSections":[{"refs":[{"id":"ref-for-supported-sensor-options"}],"title":"8.1. Initialize a sensor object"},{"refs":[{"id":"ref-for-supported-sensor-options\u2460"},{"id":"ref-for-supported-sensor-options\u2461"}],"title":"10.6. Definition Requirements"}],"url":"#supported-sensor-options"},
"threshold-check-algorithm": {"dfnID":"threshold-check-algorithm","dfnText":"threshold check algorithm","external":false,"refSections":[{"refs":[{"id":"ref-for-threshold-check-algorithm"},{"id":"ref-for-threshold-check-algorithm\u2460"}],"title":"4.3.4. Reduce accuracy"},{"refs":[{"id":"ref-for-threshold-check-algorithm\u2461"}],"title":"5.4. Sampling Frequency and Reporting Frequency"},{"refs":[{"id":"ref-for-threshold-check-algorithm\u2462"},{"id":"ref-for-threshold-check-algorithm\u2463"}],"title":"8.8. Update latest reading"},{"refs":[{"id":"ref-for-threshold-check-algorithm\u2464"}],"title":"9.2.3. Update virtual sensor reading"}],"url":"#threshold-check-algorithm"},
"update-latest-reading": {"dfnID":"update-latest-reading","dfnText":"8.8. Update latest reading","external":false,"refSections":[{"refs":[{"id":"ref-for-update-latest-reading"}],"title":"6.2. Sensor"},{"refs":[{"id":"ref-for-update-latest-reading"}],"title":"8.8. Update latest reading"}],"url":"#update-latest-reading"},
"virtual-sensor": {"dfnID":"virtual-sensor","dfnText":"virtual sensor","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor"},{"id":"ref-for-virtual-sensor\u2460"}],"title":"9. Automation"},{"refs":[{"id":"ref-for-virtual-sensor\u2461"},{"id":"ref-for-virtual-sensor\u2462"},{"id":"ref-for-virtual-sensor\u2463"},{"id":"ref-for-virtual-sensor\u2464"},{"id":"ref-for-virtual-sensor\u2465"},{"id":"ref-for-virtual-sensor\u2466"},{"id":"ref-for-virtual-sensor\u2467"},{"id":"ref-for-virtual-sensor\u2468"},{"id":"ref-for-virtual-sensor\u2460\u24ea"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-virtual-sensor\u2460\u2460"},{"id":"ref-for-virtual-sensor\u2460\u2461"},{"id":"ref-for-virtual-sensor\u2460\u2462"},{"id":"ref-for-virtual-sensor\u2460\u2463"},{"id":"ref-for-virtual-sensor\u2460\u2464"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-virtual-sensor\u2460\u2465"},{"id":"ref-for-virtual-sensor\u2460\u2466"},{"id":"ref-for-virtual-sensor\u2460\u2467"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-virtual-sensor\u2460\u2468"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-virtual-sensor\u2461\u24ea"}],"title":"9.2.4. Delete virtual sensor"}],"url":"#virtual-sensor"},
"virtual-sensor-can-provide-readings-flag": {"dfnID":"virtual-sensor-can-provide-readings-flag","dfnText":"can provide readings flag","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor-can-provide-readings-flag"},{"id":"ref-for-virtual-sensor-can-provide-readings-flag\u2460"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-virtual-sensor-can-provide-readings-flag\u2461"}],"title":"9.2.1. Create virtual sensor"}],"url":"#virtual-sensor-can-provide-readings-flag"},
"virtual-sensor-mapping": {"dfnID":"virtual-sensor-mapping","dfnText":"virtual sensor mapping","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor-mapping"},{"id":"ref-for-virtual-sensor-mapping\u2460"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-virtual-sensor-mapping\u2461"},{"id":"ref-for-virtual-sensor-mapping\u2462"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-virtual-sensor-mapping\u2463"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-virtual-sensor-mapping\u2464"}],"title":"9.2.2. Get virtual sensor information"},{"refs":[{"id":"ref-for-virtual-sensor-mapping\u2465"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-virtual-sensor-mapping\u2466"}],"title":"9.2.4. Delete virtual sensor"}],"url":"#virtual-sensor-mapping"},
"virtual-sensor-maximum-sampling-frequency": {"dfnID":"virtual-sensor-maximum-sampling-frequency","dfnText":"maximum sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor-maximum-sampling-frequency"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-virtual-sensor-maximum-sampling-frequency\u2460"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-virtual-sensor-maximum-sampling-frequency\u2461"}],"title":"9.2.2. Get virtual sensor information"}],"url":"#virtual-sensor-maximum-sampling-frequency"},
"virtual-sensor-metadata": {"dfnID":"virtual-sensor-metadata","dfnText":"virtual sensor metadata","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor-metadata"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-virtual-sensor-metadata\u2460"}],"title":"9.2.3.1. Algorithms for parsing readings"},{"refs":[{"id":"ref-for-virtual-sensor-metadata\u2461"},{"id":"ref-for-virtual-sensor-metadata\u2462"}],"title":"10.7. Automation"}],"url":"#virtual-sensor-metadata"},
"virtual-sensor-metadata-reading-parsing-algorithm": {"dfnID":"virtual-sensor-metadata-reading-parsing-algorithm","dfnText":"reading parsing algorithm","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor-metadata-reading-parsing-algorithm"}],"title":"9.2.3. Update virtual sensor reading"},{"refs":[{"id":"ref-for-virtual-sensor-metadata-reading-parsing-algorithm\u2460"}],"title":"10.7. Automation"}],"url":"#virtual-sensor-metadata-reading-parsing-algorithm"},
"virtual-sensor-minimum-sampling-frequency": {"dfnID":"virtual-sensor-minimum-sampling-frequency","dfnText":"minimum sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor-minimum-sampling-frequency"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-virtual-sensor-minimum-sampling-frequency\u2460"}],"title":"9.2.1. Create virtual sensor"},{"refs":[{"id":"ref-for-virtual-sensor-minimum-sampling-frequency\u2461"}],"title":"9.2.2. Get virtual sensor information"}],"url":"#virtual-sensor-minimum-sampling-frequency"},
"virtual-sensor-requested-sampling-frequency": {"dfnID":"virtual-sensor-requested-sampling-frequency","dfnText":"requested sampling frequency","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor-requested-sampling-frequency"},{"id":"ref-for-virtual-sensor-requested-sampling-frequency\u2460"},{"id":"ref-for-virtual-sensor-requested-sampling-frequency\u2461"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-virtual-sensor-requested-sampling-frequency\u2462"},{"id":"ref-for-virtual-sensor-requested-sampling-frequency\u2463"},{"id":"ref-for-virtual-sensor-requested-sampling-frequency\u2464"}],"title":"9.2.2. Get virtual sensor information"}],"url":"#virtual-sensor-requested-sampling-frequency"},
"virtual-sensor-type": {"dfnID":"virtual-sensor-type","dfnText":"virtual sensor type","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-sensor-type"}],"title":"6.1. Sensor Type"},{"refs":[{"id":"ref-for-virtual-sensor-type\u2460"}],"title":"8.3. Connect to sensor"},{"refs":[{"id":"ref-for-virtual-sensor-type\u2461"},{"id":"ref-for-virtual-sensor-type\u2462"}],"title":"9.1. Virtual Sensors"},{"refs":[{"id":"ref-for-virtual-sensor-type\u2463"},{"id":"ref-for-virtual-sensor-type\u2464"}],"title":"10.7. Automation"}],"url":"#virtual-sensor-type"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#activate-a-sensor-object": {"displayText":"activate a sensor object","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"activate a sensor object","type":"dfn","url":"#activate-a-sensor-object"},
"#activated-sensor-objects": {"displayText":"activated sensor objects","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"activated sensor objects","type":"dfn","url":"#activated-sensor-objects"},
"#calibration": {"displayText":"calibration","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"calibration","type":"dfn","url":"#calibration"},
"#can-expose-sensor-readings": {"displayText":"can expose sensor readings","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"can expose sensor readings","type":"dfn","url":"#can-expose-sensor-readings"},
"#check-sensor-policy-controlled-features": {"displayText":"check sensor policy-controlled features","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"check sensor policy-controlled features","type":"dfn","url":"#check-sensor-policy-controlled-features"},
"#concept-device-sensor": {"displayText":"device sensor","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"device sensor","type":"dfn","url":"#concept-device-sensor"},
"#concept-platform-sensor": {"displayText":"platform sensor","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"platform sensor","type":"dfn","url":"#concept-platform-sensor"},
"#connect-to-sensor": {"displayText":"connect to sensor","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"connect to sensor","type":"dfn","url":"#connect-to-sensor"},
"#deactivate-a-sensor-object": {"displayText":"deactivate a sensor object","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"deactivate a sensor object","type":"dfn","url":"#deactivate-a-sensor-object"},
"#default-sensor": {"displayText":"default sensor","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"default sensor","type":"dfn","url":"#default-sensor"},
"#device-sensor-maximum-sampling-frequency": {"displayText":"maximum sampling frequency","export":true,"for_":["device sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"maximum sampling frequency","type":"dfn","url":"#device-sensor-maximum-sampling-frequency"},
"#device-sensor-minimum-sampling-frequency": {"displayText":"minimum sampling frequency","export":true,"for_":["device sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"minimum sampling frequency","type":"dfn","url":"#device-sensor-minimum-sampling-frequency"},
"#dictdef-sensorerroreventinit": {"displayText":"SensorErrorEventInit","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"SensorErrorEventInit","type":"dictionary","url":"#dictdef-sensorerroreventinit"},
"#dictdef-sensoroptions": {"displayText":"SensorOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"SensorOptions","type":"dictionary","url":"#dictdef-sensoroptions"},
"#dom-sensor-activated": {"displayText":"activated","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"activated","type":"attribute","url":"#dom-sensor-activated"},
"#dom-sensor-frequency-slot": {"displayText":"[[frequency]]","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"[[frequency]]","type":"attribute","url":"#dom-sensor-frequency-slot"},
"#dom-sensor-hasreading": {"displayText":"hasReading","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"hasReading","type":"attribute","url":"#dom-sensor-hasreading"},
"#dom-sensor-lasteventfiredat-slot": {"displayText":"[[lastEventFiredAt]]","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"[[lastEventFiredAt]]","type":"attribute","url":"#dom-sensor-lasteventfiredat-slot"},
"#dom-sensor-onactivate": {"displayText":"onactivate","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"onactivate","type":"attribute","url":"#dom-sensor-onactivate"},
"#dom-sensor-onerror": {"displayText":"onerror","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"onerror","type":"attribute","url":"#dom-sensor-onerror"},
"#dom-sensor-onreading": {"displayText":"onreading","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"onreading","type":"attribute","url":"#dom-sensor-onreading"},
"#dom-sensor-pendingreadingnotification-slot": {"displayText":"[[pendingReadingNotification]]","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"[[pendingReadingNotification]]","type":"attribute","url":"#dom-sensor-pendingreadingnotification-slot"},
"#dom-sensor-start": {"displayText":"start()","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"start()","type":"method","url":"#dom-sensor-start"},
"#dom-sensor-state-slot": {"displayText":"[[state]]","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"[[state]]","type":"attribute","url":"#dom-sensor-state-slot"},
"#dom-sensor-stop": {"displayText":"stop()","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"stop()","type":"method","url":"#dom-sensor-stop"},
"#dom-sensor-timestamp": {"displayText":"timestamp","export":true,"for_":["Sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"timestamp","type":"attribute","url":"#dom-sensor-timestamp"},
"#dom-sensorerrorevent-error": {"displayText":"error","export":true,"for_":["SensorErrorEvent"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"error","type":"attribute","url":"#dom-sensorerrorevent-error"},
"#dom-sensoroptions-frequency": {"displayText":"frequency","export":true,"for_":["SensorOptions"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"frequency","type":"dict-member","url":"#dom-sensoroptions-frequency"},
"#extension-sensor-interface": {"displayText":"extension sensor interface","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"extension sensor interface","type":"dfn","url":"#extension-sensor-interface"},
"#extension-specification": {"displayText":"extension specification","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"extension specification","type":"dfn","url":"#extension-specification"},
"#focus-and-origin-check": {"displayText":"focus and origin check","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"focus and origin check","type":"dfn","url":"#focus-and-origin-check"},
"#get-a-platform-sensors-sampling-bounds": {"displayText":"get a platform sensor's sampling bounds","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"get a platform sensor's sampling bounds","type":"dfn","url":"#get-a-platform-sensors-sampling-bounds"},
"#get-value-from-latest-reading": {"displayText":"get value from latest reading","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"get value from latest reading","type":"dfn","url":"#get-value-from-latest-reading"},
"#high-level": {"displayText":"high-level","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"high-level","type":"dfn","url":"#high-level"},
"#latest-reading": {"displayText":"latest reading","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"latest reading","type":"dfn","url":"#latest-reading"},
"#limit-max-frequency": {"displayText":"limit maximum sampling frequency","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"limit maximum sampling frequency","type":"dfn","url":"#limit-max-frequency"},
"#local-coordinate-system": {"displayText":"local coordinate system","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"local coordinate system","type":"dfn","url":"#local-coordinate-system"},
"#low-level": {"displayText":"low-level","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"low-level","type":"dfn","url":"#low-level"},
"#notify-activated-state": {"displayText":"notify activated state","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"notify activated state","type":"dfn","url":"#notify-activated-state"},
"#notify-error": {"displayText":"notify error","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"notify error","type":"dfn","url":"#notify-error"},
"#notify-new-reading": {"displayText":"notify new reading","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"notify new reading","type":"dfn","url":"#notify-new-reading"},
"#parse-single-value-number-reading": {"displayText":"parse single-value number reading","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"parse single-value number reading","type":"dfn","url":"#parse-single-value-number-reading"},
"#per-type-virtual-sensor-metadata": {"displayText":"per-type virtual sensor metadata","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"per-type virtual sensor metadata","type":"dfn","url":"#per-type-virtual-sensor-metadata"},
"#reading-quantization-algorithm": {"displayText":"reading quantization algorithm","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"reading quantization algorithm","type":"dfn","url":"#reading-quantization-algorithm"},
"#reading-timestamp": {"displayText":"reading timestamp","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"reading timestamp","type":"dfn","url":"#reading-timestamp"},
"#report-latest-reading-updated": {"displayText":"report latest reading updated","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"report latest reading updated","type":"dfn","url":"#report-latest-reading-updated"},
"#reporting-frequency": {"displayText":"reporting frequency","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"reporting frequency","type":"dfn","url":"#reporting-frequency"},
"#request-sensor-access": {"displayText":"request sensor access","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"request sensor access","type":"dfn","url":"#request-sensor-access"},
"#sampling-frequency": {"displayText":"sampling frequency","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"sampling frequency","type":"dfn","url":"#sampling-frequency"},
"#sensor": {"displayText":"Sensor","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"Sensor","type":"interface","url":"#sensor"},
"#sensor-feature-names": {"displayText":"sensor feature names","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"sensor feature names","type":"dfn","url":"#sensor-feature-names"},
"#sensor-fusion": {"displayText":"sensor fusion","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"sensor fusion","type":"dfn","url":"#sensor-fusion"},
"#sensor-permission-names": {"displayText":"sensor permission names","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"sensor permission names","type":"dfn","url":"#sensor-permission-names"},
"#sensor-reading": {"displayText":"sensor reading","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"sensor reading","type":"dfn","url":"#sensor-reading"},
"#sensor-task-source": {"displayText":"sensor task source","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"sensor task source","type":"dfn","url":"#sensor-task-source"},
"#sensor-type": {"displayText":"sensor type","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"sensor type","type":"dfn","url":"#sensor-type"},
"#sensor-type-maximum-sampling-frequency": {"displayText":"maximum sampling frequency","export":true,"for_":["sensor type"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"maximum sampling frequency","type":"dfn","url":"#sensor-type-maximum-sampling-frequency"},
"#sensor-type-minimum-sampling-frequency": {"displayText":"minimum sampling frequency","export":true,"for_":["sensor type"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"minimum sampling frequency","type":"dfn","url":"#sensor-type-minimum-sampling-frequency"},
"#sensorerrorevent": {"displayText":"SensorErrorEvent","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"SensorErrorEvent","type":"interface","url":"#sensorerrorevent"},
"#set-sensor-settings": {"displayText":"set sensor settings","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"set sensor settings","type":"dfn","url":"#set-sensor-settings"},
"#spatial-sensor": {"displayText":"spatial sensor","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"spatial sensor","type":"dfn","url":"#spatial-sensor"},
"#supported-sensor-options": {"displayText":"supported sensor options","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"supported sensor options","type":"dfn","url":"#supported-sensor-options"},
"#threshold-check-algorithm": {"displayText":"threshold check algorithm","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"threshold check algorithm","type":"dfn","url":"#threshold-check-algorithm"},
"#update-latest-reading": {"displayText":"update latest reading","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"update latest reading","type":"dfn","url":"#update-latest-reading"},
"#virtual-sensor": {"displayText":"virtual sensor","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"virtual sensor","type":"dfn","url":"#virtual-sensor"},
"#virtual-sensor-can-provide-readings-flag": {"displayText":"can provide readings flag","export":true,"for_":["virtual sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"can provide readings flag","type":"dfn","url":"#virtual-sensor-can-provide-readings-flag"},
"#virtual-sensor-mapping": {"displayText":"virtual sensor mapping","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"virtual sensor mapping","type":"dfn","url":"#virtual-sensor-mapping"},
"#virtual-sensor-maximum-sampling-frequency": {"displayText":"maximum sampling frequency","export":true,"for_":["virtual sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"maximum sampling frequency","type":"dfn","url":"#virtual-sensor-maximum-sampling-frequency"},
"#virtual-sensor-metadata": {"displayText":"virtual sensor metadata","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"virtual sensor metadata","type":"dfn","url":"#virtual-sensor-metadata"},
"#virtual-sensor-metadata-reading-parsing-algorithm": {"displayText":"reading parsing algorithm","export":true,"for_":["virtual sensor metadata"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"reading parsing algorithm","type":"dfn","url":"#virtual-sensor-metadata-reading-parsing-algorithm"},
"#virtual-sensor-minimum-sampling-frequency": {"displayText":"minimum sampling frequency","export":true,"for_":["virtual sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"minimum sampling frequency","type":"dfn","url":"#virtual-sensor-minimum-sampling-frequency"},
"#virtual-sensor-requested-sampling-frequency": {"displayText":"requested sampling frequency","export":true,"for_":["virtual sensor"],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"requested sampling frequency","type":"dfn","url":"#virtual-sensor-requested-sampling-frequency"},
"#virtual-sensor-type": {"displayText":"virtual sensor type","export":true,"for_":[],"level":"","normative":true,"shortname":"generic-sensor","spec":"generic-sensor","status":"local","text":"virtual sensor type","type":"dfn","url":"#virtual-sensor-type"},
"https://dom.spec.whatwg.org/#clone-a-node-document": {"displayText":"document","export":true,"for_":["clone a node"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"document","type":"dfn","url":"https://dom.spec.whatwg.org/#clone-a-node-document"},
"https://dom.spec.whatwg.org/#concept-event": {"displayText":"event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event"},
"https://dom.spec.whatwg.org/#concept-event-constructor": {"displayText":"constructor","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"constructor","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-constructor"},
"https://dom.spec.whatwg.org/#concept-event-fire": {"displayText":"fire an event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"fire an event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"https://dom.spec.whatwg.org/#concept-event-listener": {"displayText":"event listener","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"event listener","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-listener"},
"https://dom.spec.whatwg.org/#concept-node-document": {"displayText":"node document","export":true,"for_":["Node"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"node document","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-node-document"},
"https://dom.spec.whatwg.org/#dictdef-eventinit": {"displayText":"EventInit","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventInit","type":"dictionary","url":"https://dom.spec.whatwg.org/#dictdef-eventinit"},
"https://dom.spec.whatwg.org/#document": {"displayText":"Document","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Document","type":"interface","url":"https://dom.spec.whatwg.org/#document"},
"https://dom.spec.whatwg.org/#event": {"displayText":"Event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Event","type":"interface","url":"https://dom.spec.whatwg.org/#event"},
"https://dom.spec.whatwg.org/#eventtarget": {"displayText":"EventTarget","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventTarget","type":"interface","url":"https://dom.spec.whatwg.org/#eventtarget"},
"https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain": {"displayText":"same origin-domain","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"same origin-domain","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable": {"displayText":"top-level traversable","export":true,"for_":["browsing context"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level traversable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context": {"displayText":"browsing context","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document": {"displayText":"active document","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"active document","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top": {"displayText":"top-level traversable","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level traversable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable": {"displayText":"navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable": {"displayText":"node navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"node navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable": {"displayText":"top-level traversable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level traversable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"},
"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use": {"displayText":"allowed to use","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"allowed to use","type":"dfn","url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"},
"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow": {"displayText":"allow","export":true,"for_":["iframe"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"allow","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": {"displayText":"in parallel","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"in parallel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable": {"displayText":"currently focused area","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"currently focused area","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable"},
"https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor": {"displayText":"DOM anchor","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"dom anchor","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor"},
"https://html.spec.whatwg.org/multipage/interaction.html#gains-focus": {"displayText":"gains focus","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"gains focus","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#gains-focus"},
"https://html.spec.whatwg.org/multipage/interaction.html#visibility-state": {"displayText":"visibility state","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"visibility state","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable": {"displayText":"navigable","export":true,"for_":["Window"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": {"displayText":"relevant global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": {"displayText":"origin","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin": {"displayText":"time origin","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"time origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task": {"displayText":"task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type": {"displayText":"event handler event type","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler event type","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers": {"displayText":"event handler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": {"displayText":"EventHandler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"EventHandler","type":"typedef","url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"https://html.spec.whatwg.org/multipage/webappapis.html#global-object": {"displayText":"global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#global-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": {"displayText":"relevant settings object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context": {"displayText":"secure context","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"secure context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"},
"https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop": {"displayText":"spin the event loop","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"spin the event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#task-queue": {"displayText":"task queue","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"task queue","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"},
"https://html.spec.whatwg.org/multipage/webappapis.html#task-source": {"displayText":"task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"https://infra.spec.whatwg.org/#assert": {"displayText":"assert","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"assert","type":"dfn","url":"https://infra.spec.whatwg.org/#assert"},
"https://infra.spec.whatwg.org/#boolean": {"displayText":"boolean","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"boolean","type":"dfn","url":"https://infra.spec.whatwg.org/#boolean"},
"https://infra.spec.whatwg.org/#implementation-defined": {"displayText":"implementation-defined","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"implementation-defined","type":"dfn","url":"https://infra.spec.whatwg.org/#implementation-defined"},
"https://infra.spec.whatwg.org/#iteration-continue": {"displayText":"continue","export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"continue","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-continue"},
"https://infra.spec.whatwg.org/#list-contain": {"displayText":"contain","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"contain","type":"dfn","url":"https://infra.spec.whatwg.org/#list-contain"},
"https://infra.spec.whatwg.org/#list-is-empty": {"displayText":"is empty","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"is empty","type":"dfn","url":"https://infra.spec.whatwg.org/#list-is-empty"},
"https://infra.spec.whatwg.org/#list-item": {"displayText":"item","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#list-item"},
"https://infra.spec.whatwg.org/#list-iterate": {"displayText":"for each","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"for each","type":"dfn","url":"https://infra.spec.whatwg.org/#list-iterate"},
"https://infra.spec.whatwg.org/#list-remove": {"displayText":"remove","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"remove","type":"dfn","url":"https://infra.spec.whatwg.org/#list-remove"},
"https://infra.spec.whatwg.org/#map-entry": {"displayText":"entry","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"entry","type":"dfn","url":"https://infra.spec.whatwg.org/#map-entry"},
"https://infra.spec.whatwg.org/#map-exists": {"displayText":"exist","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"exist","type":"dfn","url":"https://infra.spec.whatwg.org/#map-exists"},
"https://infra.spec.whatwg.org/#map-getting-the-keys": {"displayText":"keys","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"keys","type":"dfn","url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"https://infra.spec.whatwg.org/#map-iterate": {"displayText":"for each","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"for each","type":"dfn","url":"https://infra.spec.whatwg.org/#map-iterate"},
"https://infra.spec.whatwg.org/#map-key": {"displayText":"key","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"key","type":"dfn","url":"https://infra.spec.whatwg.org/#map-key"},
"https://infra.spec.whatwg.org/#map-remove": {"displayText":"remove","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"remove","type":"dfn","url":"https://infra.spec.whatwg.org/#map-remove"},
"https://infra.spec.whatwg.org/#map-set": {"displayText":"set","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"set","type":"dfn","url":"https://infra.spec.whatwg.org/#map-set"},
"https://infra.spec.whatwg.org/#map-value": {"displayText":"value","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"value","type":"dfn","url":"https://infra.spec.whatwg.org/#map-value"},
"https://infra.spec.whatwg.org/#ordered-map": {"displayText":"ordered map","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ordered map","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-map"},
"https://infra.spec.whatwg.org/#ordered-set": {"displayText":"ordered set","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ordered set","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-set"},
"https://infra.spec.whatwg.org/#set-append": {"displayText":"append","export":true,"for_":["set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#set-append"},
"https://infra.spec.whatwg.org/#string": {"displayText":"string","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"string","type":"dfn","url":"https://infra.spec.whatwg.org/#string"},
"https://infra.spec.whatwg.org/#struct": {"displayText":"struct","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"struct","type":"dfn","url":"https://infra.spec.whatwg.org/#struct"},
"https://infra.spec.whatwg.org/#struct-item": {"displayText":"item","export":true,"for_":["struct","tuple"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#struct-item"},
"https://infra.spec.whatwg.org/#success": {"displayText":"success","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"success","type":"dfn","url":"https://infra.spec.whatwg.org/#success"},
"https://infra.spec.whatwg.org/#tuple": {"displayText":"tuple","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"tuple","type":"dfn","url":"https://infra.spec.whatwg.org/#tuple"},
"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects": {"displayText":"Boolean","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"Boolean","type":"interface","url":"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects"},
"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects": {"displayText":"Object","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"Object","type":"interface","url":"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects"},
"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects": {"displayText":"Number","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"Number","type":"interface","url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects"},
"https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects": {"displayText":"String","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"String","type":"interface","url":"https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects"},
"https://tc39.github.io/ecma262/#current-realm": {"displayText":"current realm","export":true,"for_":[],"level":"","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"anchor-block","text":"current realm","type":"dfn","url":"https://tc39.github.io/ecma262/#current-realm"},
"https://w3c.github.io/hr-time/#dfn-moment": {"displayText":"coarsened moments","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"coarsened moments","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-moment"},
"https://w3c.github.io/hr-time/#dfn-monotonic-clock": {"displayText":"monotonic clock","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"monotonic clock","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-monotonic-clock"},
"https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time": {"displayText":"relative high resolution time","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"relative high resolution time","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time"},
"https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time": {"displayText":"unsafe shared current time","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"unsafe shared current time","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time"},
"https://w3c.github.io/hr-time/#dom-domhighrestimestamp": {"displayText":"DOMHighResTimeStamp","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"DOMHighResTimeStamp","type":"typedef","url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time": {"displayText":"unsafe current time","export":true,"for_":["monotonic clock"],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"unsafe current time","type":"dfn","url":"https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"},
"https://w3c.github.io/permissions/#dfn-name": {"displayText":"name","export":true,"for_":["powerful feature"],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"name","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-name"},
"https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm": {"displayText":"permission revocation algorithm","export":true,"for_":["powerful feature"],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"permission revocation algorithm","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm"},
"https://w3c.github.io/permissions/#dfn-permission-state": {"displayText":"permission state","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"permission state","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-permission-state"},
"https://w3c.github.io/permissions/#dfn-request-permission-to-use": {"displayText":"request permission to use","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"request permission to use","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-request-permission-to-use"},
"https://w3c.github.io/permissions/#dom-permissiondescriptor": {"displayText":"PermissionDescriptor","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"PermissionDescriptor","type":"dictionary","url":"https://w3c.github.io/permissions/#dom-permissiondescriptor"},
"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature": {"displayText":"policy-controlled feature","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions-policy","spec":"permissions-policy-1","status":"current","text":"policy-controlled feature","type":"dfn","url":"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"},
"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist": {"displayText":"default allowlist","export":true,"for_":["policy-controlled feature"],"level":"1","normative":true,"shortname":"permissions-policy","spec":"permissions-policy-1","status":"current","text":"default allowlist","type":"dfn","url":"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist"},
"https://w3c.github.io/webdriver/#dfn-current-browsing-context": {"displayText":"current browsing context","export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver2","spec":"webdriver2","status":"anchor-block","text":"current browsing context","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-current-browsing-context"},
"https://w3c.github.io/webdriver/#dfn-error": {"displayText":"error","export":true,"for_":[],"level":"2","normative":true,"shortname":"webdriver","spec":"webdriver2","status":"current","text":"error","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-error"},
"https://w3c.github.io/webdriver/#dfn-error-code": {"displayText":"WebDriver error code","export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver2","spec":"webdriver2","status":"anchor-block","text":"webdriver error code","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-error-code"},
"https://w3c.github.io/webdriver/#dfn-extension-command-uri-template": {"displayText":"extension command URI Template","export":true,"for_":[],"level":"2","normative":true,"shortname":"webdriver","spec":"webdriver2","status":"current","text":"extension command uri template","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"},
"https://w3c.github.io/webdriver/#dfn-extension-commands": {"displayText":"extension commands","export":true,"for_":[],"level":"2","normative":true,"shortname":"webdriver","spec":"webdriver2","status":"current","text":"extension commands","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-extension-commands"},
"https://w3c.github.io/webdriver/#dfn-getting-properties": {"displayText":"get a property","export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver2","spec":"webdriver2","status":"anchor-block","text":"get a property","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-getting-properties"},
"https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default": {"displayText":"get a property with default","export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver2","spec":"webdriver2","status":"anchor-block","text":"get a property with default","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default"},
"https://w3c.github.io/webdriver/#dfn-invalid-argument": {"displayText":"invalid argument","export":true,"for_":[],"level":"2","normative":true,"shortname":"webdriver","spec":"webdriver2","status":"current","text":"invalid argument","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-invalid-argument"},
"https://w3c.github.io/webdriver/#dfn-local-ends": {"displayText":"local end","export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver2","spec":"webdriver2","status":"anchor-block","text":"local end","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-local-ends"},
"https://w3c.github.io/webdriver/#dfn-remote-end-steps": {"displayText":"remote end steps","export":true,"for_":[],"level":"2","normative":true,"shortname":"webdriver","spec":"webdriver2","status":"current","text":"remote end steps","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-remote-end-steps"},
"https://w3c.github.io/webdriver/#dfn-sessions": {"displayText":"session","export":false,"for_":[],"level":"2","normative":true,"shortname":"webdriver","spec":"webdriver2","status":"current","text":"session","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-sessions"},
"https://w3c.github.io/webdriver/#dfn-set-a-property": {"displayText":"set a property","export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver2","spec":"webdriver2","status":"anchor-block","text":"set a property","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-set-a-property"},
"https://w3c.github.io/webdriver/#dfn-url-variables": {"displayText":"url variable","export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver2","spec":"webdriver2","status":"anchor-block","text":"url variable","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-url-variables"},
"https://w3ctag.github.io/security-questionnaire/#sop-violations": {"displayText":"same-origin policy violations","export":true,"for_":[],"level":"","normative":true,"shortname":"security-privacy-questionnaire","spec":"security-privacy-questionnaire","status":"anchor-block","text":"same-origin policy violations","type":"dfn","url":"https://w3ctag.github.io/security-questionnaire/#sop-violations"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#SecureContext": {"displayText":"SecureContext","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SecureContext","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SecureContext"},
"https://webidl.spec.whatwg.org/#dfn-attribute": {"displayText":"attribute","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"attribute","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-attribute"},
"https://webidl.spec.whatwg.org/#dfn-create-exception": {"displayText":"create","export":true,"for_":["exception"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"create","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-create-exception"},
"https://webidl.spec.whatwg.org/#dfn-dictionary": {"displayText":"dictionary","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"dictionary","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-dictionary"},
"https://webidl.spec.whatwg.org/#dfn-identifier": {"displayText":"identifier","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"identifier","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-identifier"},
"https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries": {"displayText":"inherited dictionaries","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"inherited dictionaries","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries"},
"https://webidl.spec.whatwg.org/#dfn-inherited-interfaces": {"displayText":"inherited interfaces","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"inherited interfaces","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-inherited-interfaces"},
"https://webidl.spec.whatwg.org/#dfn-interface": {"displayText":"interface","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"interface","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-interface"},
"https://webidl.spec.whatwg.org/#dfn-read-only": {"displayText":"read only","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"read only","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-read-only"},
"https://webidl.spec.whatwg.org/#dfn-throw": {"displayText":"throw","export":true,"for_":["exception"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"throw","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-throw"},
"https://webidl.spec.whatwg.org/#idl-DOMException": {"displayText":"DOMException","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMException","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"https://webidl.spec.whatwg.org/#idl-DOMString": {"displayText":"DOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"https://webidl.spec.whatwg.org/#idl-boolean": {"displayText":"boolean","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"boolean","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"https://webidl.spec.whatwg.org/#idl-double": {"displayText":"double","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"double","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-double"},
"https://webidl.spec.whatwg.org/#idl-undefined": {"displayText":"undefined","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"undefined","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"https://webidl.spec.whatwg.org/#notallowederror": {"displayText":"NotAllowedError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NotAllowedError","type":"exception","url":"https://webidl.spec.whatwg.org/#notallowederror"},
"https://webidl.spec.whatwg.org/#notreadableerror": {"displayText":"NotReadableError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NotReadableError","type":"exception","url":"https://webidl.spec.whatwg.org/#notreadableerror"},
"https://webidl.spec.whatwg.org/#notsupportederror": {"displayText":"NotSupportedError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NotSupportedError","type":"exception","url":"https://webidl.spec.whatwg.org/#notsupportederror"},
"https://webidl.spec.whatwg.org/#this": {"displayText":"this","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"this","type":"dfn","url":"https://webidl.spec.whatwg.org/#this"},
"https://wicg.github.io/permissions-request/#permission-request-algorithm": {"displayText":"permission request algorithm","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions-request","spec":"permissions-request","status":"current","text":"permission request algorithm","type":"dfn","url":"https://wicg.github.io/permissions-request/#permission-request-algorithm"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>